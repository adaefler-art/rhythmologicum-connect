(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3308,e=>{"use strict";e.s(["AUDIT_ACTION",0,{CREATE:"create",UPDATE:"update",DELETE:"delete",APPROVE:"approve",REJECT:"reject",REQUEST_CHANGES:"request_changes",GENERATE:"generate",FLAG:"flag",ASSIGN:"assign",ACTIVATE:"activate",DEACTIVATE:"deactivate",ROLLOUT:"rollout",COMPLETE:"complete",ESCALATE:"escalate",DELETION_REQUEST:"deletion_request",DELETION_CANCEL:"deletion_cancel",DELETION_EXECUTE:"deletion_execute",ANONYMIZE:"anonymize"},"AUDIT_ENTITY_TYPE",0,{ASSESSMENT:"assessment",REPORT:"report",TASK:"task",FUNNEL_VERSION:"funnel_version",FUNNEL_CATALOG:"funnel_catalog",CONFIG:"config",CONSENT:"consent",ORGANIZATION:"organization",USER_ORG_MEMBERSHIP:"user_org_membership",CLINICIAN_ASSIGNMENT:"clinician_assignment",DOCUMENT:"document",PROCESSING_JOB:"processing_job",REVIEW_RECORD:"review_record",PRE_SCREENING_CALL:"pre_screening_call",DEVICE_SHIPMENT:"device_shipment",SUPPORT_CASE:"support_case",ACCOUNT:"account"},"AUDIT_SOURCE",0,{API:"api",JOB:"job",ADMIN_UI:"admin-ui",SYSTEM:"system"},"NODE_TYPE",0,{QUESTION_STEP:"question_step",FORM:"form",INFO_STEP:"info_step",INFO:"info",CONTENT_PAGE:"content_page",SUMMARY:"summary",OTHER:"other"},"PATIENT_SEX",0,{MALE:"male",FEMALE:"female",OTHER:"other",PREFER_NOT_TO_SAY:"prefer_not_to_say"},"PILLAR_KEY",0,{NUTRITION:"nutrition",MOVEMENT:"movement",SLEEP:"sleep",MENTAL_HEALTH:"mental-health",SOCIAL:"social",MEANING:"meaning",PREVENTION:"prevention"},"QUESTION_TYPE",0,{RADIO:"radio",CHECKBOX:"checkbox",TEXT:"text",TEXTAREA:"textarea",NUMBER:"number",SCALE:"scale",SLIDER:"slider"}])},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},85e3,e=>{"use strict";var t=e.i(18050),s=e.i(18566),n=e.i(71689);let a=(0,e.i(75254).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var i=e.i(52571);e.i(180);var r=e.i(53012);function l({variant:e="with-title",title:l,subtitle:o,showBack:c=!0,onBack:d,actionIcon:m="settings",onAction:x,className:h=""}){let u=(0,s.useRouter)();return(0,t.jsx)("header",{className:`sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 transition-colors duration-150 ${h}`,style:{zIndex:50,boxShadow:r.shadows.sm},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",style:{padding:`${r.spacing.sm} ${r.spacing.md}`,minHeight:"56px"},children:[c&&(0,t.jsx)("button",{type:"button",onClick:()=>{d?d():u.back()},className:"shrink-0 flex items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 active:bg-slate-300 dark:active:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2",style:{width:"44px",height:"44px"},"aria-label":"ZurÃ¼ck",children:(0,t.jsx)(n.ArrowLeft,{size:20,strokeWidth:2,className:"text-slate-700 dark:text-slate-300","aria-hidden":!0})}),("with-title"===e||"with-action"===e)&&(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[o&&(0,t.jsx)("p",{className:"text-xs font-medium text-sky-600 dark:text-sky-400 uppercase tracking-wide truncate",style:{fontSize:r.typography.fontSize.xs},children:o}),l&&(0,t.jsx)("h1",{className:"font-semibold text-slate-900 dark:text-slate-100 truncate",style:{fontSize:r.typography.fontSize.lg,lineHeight:r.typography.lineHeight.tight},children:l})]}),"with-action"===e&&(()=>{if(!x)return null;let e={size:20,strokeWidth:2,"aria-hidden":!0};return(0,t.jsx)("button",{type:"button",onClick:x,className:"shrink-0 flex items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 active:bg-slate-300 dark:active:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2",style:{width:"44px",height:"44px"},"aria-label":"settings"===m?"Einstellungen":"Information",children:"settings"===m?(0,t.jsx)(a,{...e,className:"text-slate-700 dark:text-slate-300"}):(0,t.jsx)(i.Info,{...e,className:"text-slate-700 dark:text-slate-300"})})})()]})})}e.s(["default",()=>l],85e3)},65711,e=>{"use strict";var t=e.i(18050);function s({children:e,className:s=""}){return(0,t.jsx)("div",{className:`mx-auto w-full max-w-4xl ${s}`.trim(),children:e})}e.s(["default",()=>s])},51208,53883,2473,e=>{"use strict";var t=e.i(18050),s=e.i(81307),n=e.i(3308);let a=["http:","https:","mailto:","tel:"];function i(e,t=!1){if(!e||"string"!=typeof e||e.length>2048)return!1;let s=e.trim().toLowerCase();if(0===s.length)return!1;for(let e of["javascript:","vbscript:","file:","about:"])if(s.startsWith(e))return!1;if(s.startsWith("data:"))return t;if(s.startsWith("/")||s.startsWith("./")||s.startsWith("../"))return!0;try{let t=new URL(e);return a.includes(t.protocol)}catch{return!s.includes(":")}}function r(e,t="#",s=!1){return i(e,s)?e:t}let l=s.z.preprocess(e=>null===e?void 0:e,s.z.string().optional()).optional(),o=s.z.string().refine(e=>!e||""===e.trim()||i(e,!1),{message:"URL must use http:, https:, mailto:, tel:, or be a relative path. Dangerous protocols (javascript:, data:, vbscript:, file:) are not allowed."}),c=s.z.object({required:s.z.boolean().optional(),min:s.z.number().optional(),max:s.z.number().optional(),pattern:s.z.string().optional(),message:s.z.string().optional()}),d=s.z.object({value:s.z.string(),label:s.z.string(),helpText:l}),m=s.z.object({id:s.z.string(),key:s.z.string(),type:s.z.preprocess(function(e){if("string"!=typeof e)return e;let t=e.toLowerCase().trim();return Object.values(n.QUESTION_TYPE).includes(t)?t:({single_choice:n.QUESTION_TYPE.RADIO,"single-choice":n.QUESTION_TYPE.RADIO,select_one:n.QUESTION_TYPE.RADIO,"select-one":n.QUESTION_TYPE.RADIO,multiple_choice:n.QUESTION_TYPE.RADIO,multi_choice:n.QUESTION_TYPE.CHECKBOX,"multi-choice":n.QUESTION_TYPE.CHECKBOX,select_many:n.QUESTION_TYPE.CHECKBOX,"select-many":n.QUESTION_TYPE.CHECKBOX,multiple_select:n.QUESTION_TYPE.CHECKBOX,"multiple-select":n.QUESTION_TYPE.CHECKBOX,short_text:n.QUESTION_TYPE.TEXT,"short-text":n.QUESTION_TYPE.TEXT,string:n.QUESTION_TYPE.TEXT,long_text:n.QUESTION_TYPE.TEXTAREA,"long-text":n.QUESTION_TYPE.TEXTAREA,paragraph:n.QUESTION_TYPE.TEXTAREA,integer:n.QUESTION_TYPE.NUMBER,float:n.QUESTION_TYPE.NUMBER,decimal:n.QUESTION_TYPE.NUMBER,likert:n.QUESTION_TYPE.SCALE,likert_scale:n.QUESTION_TYPE.SCALE,"likert-scale":n.QUESTION_TYPE.SCALE,rating:n.QUESTION_TYPE.SCALE,range:n.QUESTION_TYPE.SLIDER})[t]??t},s.z.enum([n.QUESTION_TYPE.RADIO,n.QUESTION_TYPE.CHECKBOX,n.QUESTION_TYPE.TEXT,n.QUESTION_TYPE.TEXTAREA,n.QUESTION_TYPE.NUMBER,n.QUESTION_TYPE.SCALE,n.QUESTION_TYPE.SLIDER])),label:s.z.string(),helpText:l,required:s.z.boolean().default(!1),options:s.z.array(d).optional(),validation:c.optional(),minValue:s.z.number().optional(),maxValue:s.z.number().optional()}),x=s.z.object({type:s.z.enum(["show","hide","skip"]),conditions:s.z.array(s.z.object({questionId:s.z.string(),operator:s.z.enum(["eq","neq","gt","gte","lt","lte","in","notIn"]),value:s.z.union([s.z.string(),s.z.number(),s.z.boolean(),s.z.array(s.z.string())])})),logic:s.z.enum(["and","or"]).default("and")}),h=s.z.object({id:s.z.string(),title:s.z.string(),description:s.z.string().optional(),questions:s.z.array(m),conditionalLogic:x.optional()}),u=s.z.object({version:s.z.string().default("1.0"),steps:s.z.array(h),conditionalLogic:s.z.array(x).optional(),metadata:s.z.record(s.z.string(),s.z.any()).optional()}),p={HERO:"hero",TEXT:"text",IMAGE:"image",VIDEO:"video",MARKDOWN:"markdown",CTA:"cta",DIVIDER:"divider"},g=s.z.object({key:s.z.string().min(1).max(200),type:s.z.enum([p.HERO,p.TEXT,p.IMAGE,p.VIDEO,p.MARKDOWN,p.CTA,p.DIVIDER]),contentRef:s.z.string().max(2048).optional(),content:s.z.record(s.z.string(),s.z.any()).optional(),orderIndex:s.z.number().int().nonnegative().optional()}).strict().refine(e=>!e.content||(!("href"in e.content)||"string"!=typeof e.content.href||!!i(e.content.href,!1))&&(!("url"in e.content)||"string"!=typeof e.content.url||!!i(e.content.url,!1))&&(!("backgroundImage"in e.content)||"string"!=typeof e.content.backgroundImage||!e.content.backgroundImage||!!i(e.content.backgroundImage,!1)),{message:"Content URLs must use safe protocols (http:, https:, mailto:, tel:, or relative paths). Dangerous protocols (javascript:, data:, vbscript:, file:) are not allowed."}),f=s.z.object({slug:s.z.string().min(1).max(200).regex(/^[a-z0-9-]+$/,"Slug must be lowercase alphanumeric with hyphens"),title:s.z.string().min(1).max(500),description:s.z.string().max(2e3).optional(),sections:s.z.array(g).max(100),metadata:s.z.record(s.z.string(),s.z.any()).optional()}).strict(),b=s.z.object({version:s.z.string().max(20).default("1.0"),pages:s.z.array(f).max(50),assets:s.z.array(s.z.object({key:s.z.string().min(1).max(200),type:s.z.enum(["image","video","audio","document"]),url:o.min(1).max(2048),metadata:s.z.record(s.z.string(),s.z.any()).optional()}).strict()).max(200).optional(),metadata:s.z.record(s.z.string(),s.z.any()).optional()}).strict();function y({section:e}){let s=e.content||{},n=s.title,a=s.subtitle,i=s.backgroundImage,r=s.alignment||"center";return(0,t.jsxs)("div",{className:`hero-block rounded-lg bg-gradient-to-r from-sky-500 to-sky-600 dark:from-sky-700 dark:to-sky-800 p-8 ${{left:"text-left",center:"text-center",right:"text-right"}[r]||"text-center"}`,"data-section-key":e.key,style:i?{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:[n&&(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:n}),a&&(0,t.jsx)("p",{className:"text-lg text-sky-50",children:a})]})}function N({section:e}){let s=e.content||{},n=s.title,a=s.text,i=s.alignment||"left";return(0,t.jsxs)("div",{className:`text-block bg-white dark:bg-slate-800 rounded-lg p-6 ${{left:"text-left",center:"text-center",right:"text-right"}[i]||"text-left"}`,"data-section-key":e.key,children:[n&&(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-3",children:n}),a&&(0,t.jsx)("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:a})]})}function E({section:e}){let s=e.content||{},n=s.url||e.contentRef||"",a=s.alt||"Image",i=s.caption,l=s.width,o=s.height,c=r(n,"",!0);return(0,t.jsx)("div",{className:"image-block bg-white dark:bg-slate-800 rounded-lg p-4","data-section-key":e.key,children:c&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:c,alt:a,width:l,height:o,className:"w-full h-auto rounded",loading:"lazy"}),i&&(0,t.jsx)("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400 text-center",children:i})]})})}function j({section:e}){let s=e.content||{},n=s.url||e.contentRef||"",a=s.caption,i=s.poster,l=s.controls??!0,o=r(n,"",!1),c=i?r(i,"",!0):void 0;return(0,t.jsx)("div",{className:"video-block bg-white dark:bg-slate-800 rounded-lg p-4","data-section-key":e.key,children:o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("video",{src:o,poster:c,controls:l,className:"w-full h-auto rounded",preload:"metadata",children:"Your browser does not support the video tag."}),a&&(0,t.jsx)("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400 text-center",children:a})]})})}s.z.object({questionnaire_config:u,content_manifest:b,algorithm_bundle_version:s.z.string(),prompt_version:s.z.string()});var T=e.i(18789),k=e.i(60508);let v=({href:e,children:s,...n})=>e?.startsWith("http://")||e?.startsWith("https://")?(0,t.jsx)("a",{href:e,rel:"noopener noreferrer",target:"_blank",...n,children:s}):(0,t.jsx)("a",{href:e,...n,children:s});function S({section:e}){let s=(e.content||{}).markdown||e.contentRef||"";return(0,t.jsx)("div",{className:"markdown-block bg-white dark:bg-slate-800 rounded-lg p-6 prose prose-slate dark:prose-invert max-w-none","data-section-key":e.key,children:s&&(0,t.jsx)(T.default,{remarkPlugins:[k.default],skipHtml:!0,components:{a:v,table:({children:e,...s})=>(0,t.jsx)("div",{className:"w-full overflow-x-auto",children:(0,t.jsx)("table",{className:"w-full min-w-[640px]",...s,children:e})}),th:({children:e,...s})=>(0,t.jsx)("th",{className:"whitespace-nowrap",...s,children:e})},children:s})})}var z=e.i(22016);function I({section:e}){let s,n=e.content||{},a=n.text,i=n.href,l=n.variant||"primary",o={left:"justify-start",center:"justify-center",right:"justify-end"}[n.alignment||"center"]||"justify-center";if(!a||!i)return(0,t.jsx)("div",{className:`cta-block flex ${o} py-4`,"data-section-key":e.key});let c=(s=r(i)).startsWith("http://")||s.startsWith("https://")?{href:s,rel:"noopener noreferrer",target:"_blank"}:{href:s};return(0,t.jsx)("div",{className:`cta-block flex ${o} py-4`,"data-section-key":e.key,children:(0,t.jsx)(z.default,{...c,className:`px-6 py-3 rounded-lg font-semibold transition-colors duration-200 ${{primary:"bg-sky-600 hover:bg-sky-700 text-white",secondary:"bg-slate-600 hover:bg-slate-700 text-white",outline:"border-2 border-sky-600 text-sky-600 hover:bg-sky-50 dark:border-sky-400 dark:text-sky-400 dark:hover:bg-slate-800"}[l]||"bg-sky-600 hover:bg-sky-700 text-white"}`,children:a})})}function w({section:e}){let s=e.content||{},n=s.style||"solid",a=s.spacing||"md";return(0,t.jsx)("hr",{className:`divider-block border-slate-200 dark:border-slate-700 ${{solid:"border-solid",dashed:"border-dashed",dotted:"border-dotted"}[n]||"border-solid"} ${{sm:"my-2",md:"my-4",lg:"my-8"}[a]||"my-4"}`,"data-section-key":e.key})}class _ extends Error{blockType;sectionKey;constructor(e,t){super(`Unsupported block type: "${e}" in section "${t}"`),this.blockType=e,this.sectionKey=t,this.name="UnsupportedBlockTypeError"}}function O({section:e,onBlockTypeError:s}){var n;if(!("string"==typeof(n=e.type)&&Object.values(p).includes(n))){let t=new _(e.type,e.key);if(s)return s(e.type,e.key),null;throw t}switch(e.type){case p.HERO:return(0,t.jsx)(y,{section:e});case p.TEXT:return(0,t.jsx)(N,{section:e});case p.IMAGE:return(0,t.jsx)(E,{section:e});case p.VIDEO:return(0,t.jsx)(j,{section:e});case p.MARKDOWN:return(0,t.jsx)(S,{section:e});case p.CTA:return(0,t.jsx)(I,{section:e});case p.DIVIDER:return(0,t.jsx)(w,{section:e});default:{let t=e.type,n=new _(String(t),e.key);if(s)return s(String(t),e.key),null;throw n}}}function A({page:e,onBlockTypeError:s}){let n=[...e.sections.map((e,t)=>({section:e,originalIndex:t}))].sort((e,t)=>{let s=e.section.orderIndex,n=t.section.orderIndex;return void 0!==s&&void 0!==n?s!==n?s-n:e.originalIndex!==t.originalIndex?e.originalIndex-t.originalIndex:e.section.key.localeCompare(t.section.key):void 0!==s?-1:void 0!==n?1:e.originalIndex-t.originalIndex});return(0,t.jsxs)("div",{className:"content-page","data-page-slug":e.slug,children:[e.title&&(0,t.jsxs)("div",{className:"content-page-header mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:e.title}),e.description&&(0,t.jsx)("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:e.description})]}),(0,t.jsx)("div",{className:"content-sections-stack space-y-4",children:n.map(({section:e})=>(0,t.jsx)(O,{section:e,onBlockTypeError:s},e.key))})]})}function R({manifest:e,pageSlug:s,onBlockTypeError:n}){let a=s?e.pages.filter(e=>e.slug===s):e.pages;return 0===a.length?null:(0,t.jsx)("div",{className:"content-block-renderer",children:a.map(e=>(0,t.jsx)(A,{page:e,onBlockTypeError:n},e.slug))})}function C({children:e,className:s=""}){return(0,t.jsx)("div",{className:`mx-auto flex w-full max-w-6xl flex-col px-4 ${s}`.trim(),children:e})}e.s(["ContentBlockRenderer",()=>R],53883),e.s([],51208),e.s(["default",()=>C],2473)},61776,e=>{"use strict";var t=e.i(18050),s=e.i(71645),n=e.i(18566);e.i(47446);var a=e.i(67488),i=e.i(84584),r=e.i(12911);e.i(180);var l=e.i(53012),o=e.i(85e3);function c({title:e,subtitle:s,description:n,bulletPoints:a=[],ctaLabel:i="Assessment starten",onContinue:r,isLoading:c=!1}){let d=l.componentTokens.navigationButton,m=l.componentTokens.infoBox;return(0,t.jsxs)("div",{className:"min-h-screen",style:{background:`linear-gradient(to bottom, ${l.colors.primary[50]}, ${l.colors.background.light}, ${l.colors.neutral[50]})`},children:[(0,t.jsx)(o.default,{variant:"with-title",title:e,subtitle:"Rhythmologicum Connect",showBack:!0}),(0,t.jsx)("main",{className:"px-4 sm:px-6 lg:px-8 py-6",style:{paddingBottom:"calc(6rem + env(safe-area-inset-bottom))"},children:(0,t.jsxs)("div",{className:"w-full max-w-5xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-8 flex items-center justify-center overflow-hidden",style:{height:"240px",borderRadius:l.radii["2xl"],border:`1px solid ${l.colors.primary[200]}`,background:`linear-gradient(to bottom right, ${l.colors.primary[100]}, ${l.colors.primary[50]})`},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-3",children:"ðŸ§˜â€â™€ï¸"}),(0,t.jsx)("p",{className:"font-medium",style:{fontSize:l.typography.fontSize.sm,color:l.colors.primary[700]},children:"Rhythmologicum Connect"})]})}),s&&(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("span",{className:"inline-block bg-primary-600 text-white font-semibold uppercase tracking-wide",style:{fontSize:l.typography.fontSize.xs,padding:`${l.spacing.xs} ${l.spacing.md}`,borderRadius:l.radii.full},children:s})}),(0,t.jsx)("h1",{className:"font-bold text-slate-900 mb-4 leading-tight",style:{fontSize:l.typography.fontSize["3xl"],lineHeight:l.typography.lineHeight.tight},children:e}),n&&(0,t.jsx)("p",{className:"text-slate-600 mb-6",style:{fontSize:l.typography.fontSize.base,lineHeight:l.typography.lineHeight.relaxed},children:n}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-6",children:[(0,t.jsx)("div",{className:"bg-white border border-slate-200",style:{padding:l.spacing.md,borderRadius:l.radii.lg,boxShadow:l.shadows.sm},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:"â±ï¸"}),(0,t.jsx)("p",{className:"font-semibold text-slate-900 mb-1",style:{fontSize:l.typography.fontSize.sm},children:"Dauer"}),(0,t.jsx)("p",{className:"text-slate-600",style:{fontSize:l.typography.fontSize.xs},children:"5-10 Min"})]})}),(0,t.jsx)("div",{className:"bg-white border border-slate-200",style:{padding:l.spacing.md,borderRadius:l.radii.lg,boxShadow:l.shadows.sm},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:"ðŸ”’"}),(0,t.jsx)("p",{className:"font-semibold text-slate-900 mb-1",style:{fontSize:l.typography.fontSize.sm},children:"Sicher"}),(0,t.jsx)("p",{className:"text-slate-600",style:{fontSize:l.typography.fontSize.xs},children:"Vertraulich"})]})})]}),a.length>0&&(0,t.jsxs)("div",{className:"bg-white border border-slate-200 mb-6",style:{padding:l.spacing.lg,borderRadius:l.radii.xl,boxShadow:l.shadows.sm},children:[(0,t.jsxs)("h2",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",style:{fontSize:l.typography.fontSize.lg},children:[(0,t.jsx)("span",{className:"text-primary-600",children:"âœ“"}),"Was Sie erwartet"]}),(0,t.jsx)("ul",{className:"space-y-3",children:a.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"shrink-0 bg-primary-100 text-primary-700 font-semibold flex items-center justify-center",style:{width:"24px",height:"24px",borderRadius:l.radii.full,fontSize:l.typography.fontSize.xs},children:s+1}),(0,t.jsx)("p",{className:"text-slate-700 flex-1",style:{fontSize:l.typography.fontSize.sm,lineHeight:l.typography.lineHeight.relaxed},children:e})]},s))})]}),(0,t.jsx)("div",{className:"bg-primary-50 border border-primary-200 mb-6",style:{padding:m.padding,borderRadius:m.borderRadius},children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-lg shrink-0",children:"â„¹ï¸"}),(0,t.jsx)("p",{className:"text-primary-900 flex-1",style:{fontSize:m.fontSize,lineHeight:m.lineHeight},children:"Nehmen Sie sich Zeit fÃ¼r die Beantwortung. Es gibt keine richtigen oder falschen Antworten."})]})}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)("button",{type:"button",onClick:r,disabled:c,className:"w-full bg-sky-600 text-white font-semibold hover:bg-sky-700 disabled:opacity-60 disabled:cursor-not-allowed active:scale-98 flex items-center justify-center gap-2",style:{padding:`${d.paddingY} ${d.paddingX}`,borderRadius:d.borderRadius,minHeight:d.minHeight,boxShadow:d.shadow,fontSize:d.fontSize,fontWeight:d.fontWeight,transition:d.transition},children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Bitte warten..."]}):(0,t.jsxs)(t.Fragment,{children:[i," â†’"]})})})]})})]})}e.i(51208);var d=e.i(53883),m=e.i(2473),x=e.i(65711);function h({funnelSlug:e,manifestData:l,manifestError:o}){let h=(0,n.useRouter)(),[u,p]=(0,s.useState)(!0),[g,f]=(0,s.useState)(null),[b,y]=(0,s.useState)(null),[N,E]=(0,s.useState)(""),[j,T]=(0,s.useState)(null),[k,v]=(0,s.useState)(!1),[S,z]=(0,s.useState)(!1);(0,s.useEffect)(()=>{o||(async()=>{try{p(!0),f(null),v(!1);let t=await fetch(`/api/funnels/${e}/definition`);if(t.ok){let e=await t.json();E(e.title||"Assessment"),T({title:e.title||"Assessment",subtitle:e.subtitle??null,description:e.description??null})}if(l?.contentManifest){let e=l.contentManifest.pages.find(e=>"intro"===e.slug);if(e&&e.sections.length>0){z(!0),p(!1);return}}let s=await fetch(`/api/content/resolve?funnel=${e}&category=intro`);if(!s.ok){v(!0),y(null);return}let n=await s.json();if(n?.status==="missing_content"||!n.page){v(!0),y(null);return}y(n.page)}catch(e){console.error("[INTRO_PAGE_LOAD_FAILED]"),f("Intro-Inhalt konnte nicht geladen werden.")}finally{p(!1)}})()},[e,h,l,o]);let I=()=>{h.push(`/patient/funnel/${e}?skipIntro=true&startOver=true`)};if(o)return(0,t.jsx)("main",{className:"flex items-center justify-center bg-muted py-20 px-4",children:(0,t.jsxs)(r.Card,{padding:"lg",radius:"xl",className:"w-full max-w-md",border:!0,children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"âš ï¸"}),(0,t.jsx)("h2",{className:"text-xl font-bold mb-2 text-red-700",children:"Konfigurationsfehler"}),(0,t.jsx)("p",{className:"mb-4 text-neutral-700",children:o}),(0,t.jsx)(a.Button,{variant:"primary",fullWidth:!0,onClick:()=>h.push("/patient/funnels"),children:"ZurÃ¼ck zur Ãœbersicht"})]})});if(u)return(0,t.jsx)(i.LoadingSpinner,{size:"lg",text:"Bitte wartenâ€¦",centered:!0});if(S&&l?.contentManifest)return(0,t.jsxs)("main",{className:"min-h-screen bg-muted",children:[(0,t.jsx)(m.default,{className:"py-8",children:(0,t.jsx)(d.ContentBlockRenderer,{manifest:l.contentManifest,pageSlug:"intro",onBlockTypeError:(e,t)=>{console.error(`[INTRO_PAGE] Unsupported block type: ${e} in section ${t}`)}})}),(0,t.jsx)("div",{className:"bg-white border-t border-slate-200",children:(0,t.jsx)(m.default,{className:"py-6",children:(0,t.jsx)(a.Button,{variant:"primary",size:"lg",fullWidth:!0,onClick:I,children:"Assessment starten"})})}),l&&(0,t.jsx)("div",{className:"bg-slate-50 px-4 py-6",children:(0,t.jsx)(m.default,{children:(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-4 shadow-sm",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:["ðŸ“‹ Funnel-Konfiguration (Version ",l.version,")"]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Assessment-Schritte:"}),(0,t.jsx)("span",{className:"font-medium text-slate-900",children:l.steps.length})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Algorithmus-Version:"}),(0,t.jsx)("span",{className:"font-mono text-xs text-slate-900",children:l.algorithmVersion})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Prompt-Version:"}),(0,t.jsx)("span",{className:"font-mono text-xs text-slate-900",children:l.promptVersion})]})]}),(0,t.jsxs)("details",{className:"mt-4",children:[(0,t.jsxs)("summary",{className:"cursor-pointer text-sm font-medium text-slate-700 hover:text-slate-900",children:["Schritte anzeigen (",l.steps.length,")"]}),(0,t.jsx)("ul",{className:"mt-2 space-y-1 pl-4",children:l.steps.map((e,s)=>(0,t.jsxs)("li",{className:"text-sm text-slate-600",children:[s+1,". ",e.title,e.questions&&(0,t.jsxs)("span",{className:"text-xs text-slate-500 ml-2",children:["(",e.questions.length," Fragen)"]})]},e.id))})]}),l.contentPages&&l.contentPages.length>0&&(0,t.jsxs)("details",{className:"mt-3",children:[(0,t.jsxs)("summary",{className:"cursor-pointer text-sm font-medium text-slate-700 hover:text-slate-900",children:["Content Pages (",l.contentPages.length,")"]}),(0,t.jsx)("ul",{className:"mt-2 space-y-1 pl-4",children:l.contentPages.map(e=>(0,t.jsxs)("li",{className:"text-sm text-slate-600",children:["ðŸ“„ ",e.title,(0,t.jsxs)("span",{className:"text-xs text-slate-500 ml-2",children:["(",e.slug,")"]})]},e.slug))})]})]})})})]});if(k&&!b){let e=j?.title||N||"Assessment",s=j?.subtitle,n=j?.description;return(0,t.jsx)("main",{className:"min-h-screen bg-muted",children:(0,t.jsx)(x.default,{className:"px-4 py-10",children:(0,t.jsxs)(r.Card,{"data-testid":"intro-missing-content-fallback",padding:"lg",radius:"xl",className:"w-full min-w-[320px]",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:e}),s&&(0,t.jsx)("p",{className:"mt-2 text-base sm:text-lg text-neutral-700",children:s}),n&&(0,t.jsx)("div",{className:"prose max-w-none mt-4 text-neutral-700",children:(0,t.jsx)("p",{children:n})}),!n&&(0,t.jsx)("p",{className:"mt-4 text-base text-neutral-700",children:"Inhalt ist noch nicht verfÃ¼gbar."}),(0,t.jsx)(a.Button,{variant:"primary",size:"lg",fullWidth:!0,onClick:I,className:"mt-6",children:"Direkt zum Assessment"})]})})})}if(g||!b)return(0,t.jsx)("main",{className:"flex items-center justify-center bg-muted py-20 px-4",children:(0,t.jsxs)(r.Card,{padding:"lg",radius:"xl",className:"w-full max-w-md",children:[(0,t.jsx)("p",{className:"mb-4 text-neutral-700",children:g||"Intro-Seite konnte nicht geladen werden."}),(0,t.jsx)(a.Button,{variant:"primary",fullWidth:!0,onClick:I,children:"Direkt zum Assessment"})]})});let w=function(e){if(!e)return[];let t=e.split("\n"),s=[];for(let e of t){let t=e.trim();if(t.match(/^[-*]\s+(.+)$/)){let e=t.replace(/^[-*]\s+/,"").trim();e&&s.push(e)}}return 0===s.length?["Beantworten Sie Fragen zu Ihrem aktuellen Stresslevel","Erhalten Sie eine persÃ¶nliche Auswertung","Entdecken Sie Ihre Resilienzfaktoren"]:s}(b.body_markdown),_=l?[...w.slice(0,3),`${l.steps.length} Schritte im Assessment`]:w;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c,{title:b.title,subtitle:N,description:b.excerpt||void 0,bulletPoints:_,ctaLabel:"Assessment starten",onContinue:I,isLoading:!1}),l&&(0,t.jsx)("div",{className:"bg-slate-50 py-6",children:(0,t.jsx)(m.default,{children:(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-4 shadow-sm",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:["ðŸ“‹ Funnel-Konfiguration (Version ",l.version,")"]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Assessment-Schritte:"}),(0,t.jsx)("span",{className:"font-medium text-slate-900",children:l.steps.length})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Algorithmus-Version:"}),(0,t.jsx)("span",{className:"font-mono text-xs text-slate-900",children:l.algorithmVersion})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Prompt-Version:"}),(0,t.jsx)("span",{className:"font-mono text-xs text-slate-900",children:l.promptVersion})]})]}),(0,t.jsxs)("details",{className:"mt-4",children:[(0,t.jsxs)("summary",{className:"cursor-pointer text-sm font-medium text-slate-700 hover:text-slate-900",children:["Schritte anzeigen (",l.steps.length,")"]}),(0,t.jsx)("ul",{className:"mt-2 space-y-1 pl-4",children:l.steps.map((e,s)=>(0,t.jsxs)("li",{className:"text-sm text-slate-600",children:[s+1,". ",e.title,e.questions&&(0,t.jsxs)("span",{className:"text-xs text-slate-500 ml-2",children:["(",e.questions.length," Fragen)"]})]},e.id))})]}),l.contentPages&&l.contentPages.length>0&&(0,t.jsxs)("details",{className:"mt-3",children:[(0,t.jsxs)("summary",{className:"cursor-pointer text-sm font-medium text-slate-700 hover:text-slate-900",children:["Content Pages (",l.contentPages.length,")"]}),(0,t.jsx)("ul",{className:"mt-2 space-y-1 pl-4",children:l.contentPages.map(e=>(0,t.jsxs)("li",{className:"text-sm text-slate-600",children:["ðŸ“„ ",e.title,(0,t.jsxs)("span",{className:"text-xs text-slate-500 ml-2",children:["(",e.slug,")"]})]},e.slug))})]})]})})}),o&&(0,t.jsx)("div",{className:"bg-red-50 py-4",children:(0,t.jsx)(m.default,{children:(0,t.jsxs)("div",{className:"bg-red-100 border border-red-300 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-red-900",children:"âš ï¸ Manifest-Fehler"}),(0,t.jsx)("p",{className:"text-sm text-red-700 mt-1",children:o})]})})})]})}e.s(["default",()=>h],61776)}]);

//# sourceMappingURL=82580b401396335b.js.map