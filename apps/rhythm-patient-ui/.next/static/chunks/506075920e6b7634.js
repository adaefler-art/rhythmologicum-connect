(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3308,e=>{"use strict";e.s(["AUDIT_ACTION",0,{CREATE:"create",UPDATE:"update",DELETE:"delete",APPROVE:"approve",REJECT:"reject",REQUEST_CHANGES:"request_changes",GENERATE:"generate",FLAG:"flag",ASSIGN:"assign",ACTIVATE:"activate",DEACTIVATE:"deactivate",ROLLOUT:"rollout",COMPLETE:"complete",ESCALATE:"escalate",DELETION_REQUEST:"deletion_request",DELETION_CANCEL:"deletion_cancel",DELETION_EXECUTE:"deletion_execute",ANONYMIZE:"anonymize"},"AUDIT_ENTITY_TYPE",0,{ASSESSMENT:"assessment",REPORT:"report",TASK:"task",FUNNEL_VERSION:"funnel_version",FUNNEL_CATALOG:"funnel_catalog",CONFIG:"config",CONSENT:"consent",ORGANIZATION:"organization",USER_ORG_MEMBERSHIP:"user_org_membership",CLINICIAN_ASSIGNMENT:"clinician_assignment",DOCUMENT:"document",PROCESSING_JOB:"processing_job",REVIEW_RECORD:"review_record",PRE_SCREENING_CALL:"pre_screening_call",DEVICE_SHIPMENT:"device_shipment",SUPPORT_CASE:"support_case",ACCOUNT:"account"},"AUDIT_SOURCE",0,{API:"api",JOB:"job",ADMIN_UI:"admin-ui",SYSTEM:"system"},"NODE_TYPE",0,{QUESTION_STEP:"question_step",FORM:"form",INFO_STEP:"info_step",INFO:"info",CONTENT_PAGE:"content_page",SUMMARY:"summary",OTHER:"other"},"PATIENT_SEX",0,{MALE:"male",FEMALE:"female",OTHER:"other",PREFER_NOT_TO_SAY:"prefer_not_to_say"},"PILLAR_KEY",0,{NUTRITION:"nutrition",MOVEMENT:"movement",SLEEP:"sleep",MENTAL_HEALTH:"mental-health",SOCIAL:"social",MEANING:"meaning",PREVENTION:"prevention"},"QUESTION_TYPE",0,{RADIO:"radio",CHECKBOX:"checkbox",TEXT:"text",TEXTAREA:"textarea",NUMBER:"number",SCALE:"scale",SLIDER:"slider"}])},95187,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s={callServer:function(){return a.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var r in s)Object.defineProperty(n,r,{enumerable:!0,get:s[r]});let a=e.r(32120),i=e.r(92245),l=e.r(35326)},37380,e=>{"use strict";var t=e.i(18050),n=e.i(71645),s=e.i(18566),r=e.i(95187);let a=(0,r.createServerReference)("403595fa6e7b7d1b348c37040bb72197646de953f1",r.callServer,void 0,r.findSourceMapURL,"recordConsent");var i=e.i(81307),l=e.i(3308);let d="1.0.0";function o(){let e=(0,s.useRouter)(),[r,i]=(0,n.useState)(!1),[l,o]=(0,n.useState)(!1),[u,c]=(0,n.useState)(null),m=async t=>{if(t.preventDefault(),!r)return void c("Sie müssen den Nutzungsbedingungen zustimmen, um fortzufahren.");o(!0),c(null);try{let t=await a({consentVersion:d,agreedToTerms:r});t.success?e.push("/patient/onboarding/profile"):c(t.error||"Fehler beim Speichern der Zustimmung")}catch(e){c("Ein unerwarteter Fehler ist aufgetreten"),console.error("Consent submission error:",e)}finally{o(!1)}};return(0,t.jsxs)("div",{className:"w-full bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-6 sm:p-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Willkommen bei Rhythmologicum Connect"}),(0,t.jsxs)("div",{className:"prose prose-slate dark:prose-invert max-w-none mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"Nutzungsbedingungen"}),(0,t.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-md p-4 mb-4 max-h-[60vh] overflow-y-auto border border-slate-200 dark:border-slate-700",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:"1. Zweck der Anwendung"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Rhythmologicum Connect ist eine frühe Testversion einer digitalen Gesundheitsanwendung zur Erfassung und Bewertung von Stress und Resilienz. Die Anwendung ist nicht für den klinischen Einsatz bestimmt."}),(0,t.jsx)("h3",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:"2. Datenschutz"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Ihre Daten werden sicher gespeichert und nur für die Zwecke dieser Testversion verwendet. Weitere Informationen finden Sie in unserer Datenschutzerklärung."}),(0,t.jsx)("h3",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:"3. Einwilligung"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Durch die Zustimmung zu diesen Nutzungsbedingungen erklären Sie sich damit einverstanden, dass Ihre Angaben gespeichert und ausgewertet werden. Sie können Ihre Einwilligung jederzeit widerrufen."}),(0,t.jsx)("h3",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:"4. Haftungsausschluss"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Die Anwendung dient ausschließlich zu Forschungs- und Testzwecken. Sie ersetzt keine medizinische Diagnose oder Behandlung. Bei gesundheitlichen Beschwerden wenden Sie sich bitte an einen Arzt."})]})]}),(0,t.jsxs)("form",{onSubmit:m,children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:r,onChange:e=>i(e.target.checked),className:"mt-1 h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500",disabled:l}),(0,t.jsx)("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Ich habe die Nutzungsbedingungen gelesen und stimme zu."})]})}),u&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:(0,t.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:u})}),(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsx)("button",{type:"submit",disabled:!r||l,className:"px-6 py-2.5 bg-sky-600 hover:bg-sky-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white font-medium rounded-md transition-colors duration-200",children:l?"Wird gespeichert...":"Zustimmen und fortfahren"})})]}),(0,t.jsxs)("p",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:["Version ",d]})]})}i.z.object({consentVersion:i.z.string().min(1,"Consent version is required"),agreedToTerms:i.z.boolean().refine(e=>!0===e,{message:"You must agree to the terms to continue"})}),i.z.object({id:i.z.string().uuid(),user_id:i.z.string().uuid(),consent_version:i.z.string(),consented_at:i.z.string().datetime(),ip_address:i.z.string().nullable(),user_agent:i.z.string().nullable()}),i.z.object({full_name:i.z.string().min(1,"Name is required").max(200,"Name must be less than 200 characters").trim(),birth_year:i.z.number().int("Birth year must be a whole number").min(1900,"Birth year must be 1900 or later").max(new Date().getFullYear(),"Birth year cannot be in the future").optional().nullable(),sex:i.z.enum([l.PATIENT_SEX.MALE,l.PATIENT_SEX.FEMALE,l.PATIENT_SEX.OTHER,l.PATIENT_SEX.PREFER_NOT_TO_SAY],{message:"Please select a valid option"}).optional().nullable()}),i.z.object({id:i.z.string().uuid(),user_id:i.z.string().uuid(),created_at:i.z.string().datetime(),full_name:i.z.string().nullable(),birth_year:i.z.number().nullable(),sex:i.z.string().nullable(),onboarding_status:i.z.enum(["not_started","in_progress","completed"]).optional()}),i.z.object({hasConsent:i.z.boolean(),hasProfile:i.z.boolean(),isComplete:i.z.boolean(),status:i.z.enum(["not_started","in_progress","completed"]).optional()}),e.s(["ConsentClient",()=>o],37380)}]);

//# sourceMappingURL=8e219532674b365e.js.map