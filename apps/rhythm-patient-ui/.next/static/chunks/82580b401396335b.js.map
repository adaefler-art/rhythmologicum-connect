{"version":3,"sources":["turbopack:///[project]/lib/contracts/registry.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/arrow-left.ts","turbopack:///[project]/app/components/MobileHeader.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/settings.ts","turbopack:///[project]/app/components/layout/ContentContainer.tsx","turbopack:///[project]/lib/contracts/funnelManifest.ts","turbopack:///[project]/lib/utils/urlSecurity.ts","turbopack:///[project]/lib/components/content/blocks/HeroBlockRenderer.tsx","turbopack:///[project]/lib/components/content/blocks/TextBlockRenderer.tsx","turbopack:///[project]/lib/components/content/blocks/ImageBlockRenderer.tsx","turbopack:///[project]/lib/components/content/blocks/VideoBlockRenderer.tsx","turbopack:///[project]/lib/components/content/blocks/MarkdownBlockRenderer.tsx","turbopack:///[project]/lib/components/content/blocks/CTABlockRenderer.tsx","turbopack:///[project]/lib/components/content/blocks/DividerBlockRenderer.tsx","turbopack:///[project]/lib/components/content/SectionRenderer.tsx","turbopack:///[project]/lib/components/content/PageRenderer.tsx","turbopack:///[project]/lib/components/content/ContentBlockRenderer.tsx","turbopack:///[project]/lib/components/content/CardRenderer.tsx","turbopack:///[project]/app/components/StandardContentContainer.tsx","turbopack:///[project]/apps/rhythm-patient-ui/app/patient/funnel/[slug]/intro/client.tsx","turbopack:///[project]/app/components/MobileWelcomeScreen.tsx"],"sourcesContent":["/**\n * Contract Registry - Canonical Identifiers\n * \n * This file serves as the single source of truth for all critical string identifiers\n * used throughout the application. All new identifiers MUST be added here to prevent\n * \"fantasy names\" and ensure consistency.\n * \n * **IMPORTANT**: This file is protected by CODEOWNERS. Any changes require review.\n * \n * Usage:\n * ```typescript\n * import { ASSESSMENT_STATUS, FUNNEL_SLUG, USER_ROLE } from '@/lib/contracts/registry'\n * \n * const status: AssessmentStatus = ASSESSMENT_STATUS.IN_PROGRESS\n * const funnel: FunnelSlug = FUNNEL_SLUG.STRESS_ASSESSMENT\n * ```\n */\n\n// ============================================================\n// Assessment Statuses\n// ============================================================\n\n/**\n * Valid statuses for assessments\n */\nexport const ASSESSMENT_STATUS = {\n  IN_PROGRESS: 'in_progress',\n  COMPLETED: 'completed',\n} as const\n\nexport type AssessmentStatus = typeof ASSESSMENT_STATUS[keyof typeof ASSESSMENT_STATUS]\n\n// ============================================================\n// Content Page Statuses\n// ============================================================\n\n/**\n * Valid statuses for content pages\n */\nexport const CONTENT_STATUS = {\n  DRAFT: 'draft',\n  PUBLISHED: 'published',\n  ARCHIVED: 'archived',\n} as const\n\nexport type ContentStatus = typeof CONTENT_STATUS[keyof typeof CONTENT_STATUS]\n\n// ============================================================\n// Pillar Keys (7-Pillar Model)\n// ============================================================\n\n/**\n * Valid pillar keys for funnel taxonomy (7-Pillar Wellness Model)\n */\nexport const PILLAR_KEY = {\n  NUTRITION: 'nutrition',\n  MOVEMENT: 'movement',\n  SLEEP: 'sleep',\n  MENTAL_HEALTH: 'mental-health',\n  SOCIAL: 'social',\n  MEANING: 'meaning',\n  PREVENTION: 'prevention',\n} as const\n\nexport type PillarKey = typeof PILLAR_KEY[keyof typeof PILLAR_KEY]\n\n// ============================================================\n// Funnel Slugs\n// ============================================================\n\n/**\n * Valid funnel slugs\n * The canonical slug is the primary identifier\n * Legacy aliases are maintained for backward compatibility\n */\nexport const FUNNEL_SLUG = {\n  STRESS_ASSESSMENT: 'stress-assessment',\n  CARDIOVASCULAR_AGE: 'cardiovascular-age',\n  SLEEP_QUALITY: 'sleep-quality',\n  HEART_HEALTH_NUTRITION: 'heart-health-nutrition',\n  // Legacy aliases - deprecated but maintained for compatibility\n  STRESS: 'stress',\n  STRESS_CHECK: 'stress-check',\n  STRESS_CHECK_V2: 'stress-check-v2',\n} as const\n\nexport type FunnelSlug = typeof FUNNEL_SLUG[keyof typeof FUNNEL_SLUG]\n\n/**\n * Maps legacy funnel slugs to their canonical equivalents\n * Uses lowercase keys for case-insensitive matching\n */\nexport const FUNNEL_SLUG_ALIASES: Record<string, string> = {\n  'stress': FUNNEL_SLUG.STRESS_ASSESSMENT,\n  'stress-check': FUNNEL_SLUG.STRESS_ASSESSMENT,\n  'stress-check-v2': FUNNEL_SLUG.STRESS_ASSESSMENT,\n}\n\n/**\n * Resolves a funnel slug to its canonical form\n * Normalizes input by trimming and converting to lowercase for deterministic matching\n * \n * @param slug - The funnel slug to resolve (case-insensitive, whitespace trimmed)\n * @returns The canonical slug or the normalized input if no mapping exists\n */\nexport function getCanonicalFunnelSlug(slug: string): string {\n  const normalized = slug.toLowerCase().trim()\n  return FUNNEL_SLUG_ALIASES[normalized] || normalized\n}\n\n/**\n * Checks if a funnel slug is known in the registry\n * A funnel is \"known\" if it exists in FUNNEL_SLUG values (canonical or legacy)\n * \n * @param slug - The funnel slug to check (case-insensitive, whitespace trimmed)\n * @returns true if the funnel slug is registered, false otherwise\n */\nexport function isKnownFunnelSlug(slug: string): boolean {\n  const canonical = getCanonicalFunnelSlug(slug)\n  const allSlugs = Object.values(FUNNEL_SLUG)\n  return allSlugs.includes(canonical as FunnelSlug)\n}\n\n// ============================================================\n// Node/Step Types\n// ============================================================\n\n/**\n * Valid node/step types for funnel steps\n * These correspond to the 'type' field in the funnel_steps table\n */\nexport const NODE_TYPE = {\n  QUESTION_STEP: 'question_step',\n  FORM: 'form',\n  INFO_STEP: 'info_step',\n  INFO: 'info',\n  CONTENT_PAGE: 'content_page',\n  SUMMARY: 'summary',\n  OTHER: 'other',\n} as const\n\nexport type NodeType = typeof NODE_TYPE[keyof typeof NODE_TYPE]\n\n// ============================================================\n// User Roles\n// ============================================================\n\n/**\n * Valid user roles\n * These are stored in auth.users.raw_app_meta_data.role\n */\nexport const USER_ROLE = {\n  PATIENT: 'patient',\n  CLINICIAN: 'clinician',\n  ADMIN: 'admin',\n  NURSE: 'nurse',\n} as const\n\nexport type UserRole = typeof USER_ROLE[keyof typeof USER_ROLE]\n\n// ============================================================\n// Question Types\n// ============================================================\n\n/**\n * Valid question types\n * These correspond to the 'question_type' field in the questions table\n */\nexport const QUESTION_TYPE = {\n  RADIO: 'radio',\n  CHECKBOX: 'checkbox',\n  TEXT: 'text',\n  TEXTAREA: 'textarea',\n  NUMBER: 'number',\n  SCALE: 'scale',\n  SLIDER: 'slider',\n} as const\n\nexport type QuestionType = typeof QUESTION_TYPE[keyof typeof QUESTION_TYPE]\n\n// ============================================================\n// Patient Demographics\n// ============================================================\n\n/**\n * Valid sex/gender options for patient profiles\n * These correspond to the 'sex' field in the patient_profiles table\n */\nexport const PATIENT_SEX = {\n  MALE: 'male',\n  FEMALE: 'female',\n  OTHER: 'other',\n  PREFER_NOT_TO_SAY: 'prefer_not_to_say',\n} as const\n\nexport type PatientSex = typeof PATIENT_SEX[keyof typeof PATIENT_SEX]\n\n// ============================================================\n// Feature Flag Names\n// ============================================================\n\n/**\n * Valid feature flag names (without NEXT_PUBLIC_FEATURE_ prefix)\n */\nexport const FEATURE_FLAG = {\n  AMY_ENABLED: 'AMY_ENABLED',\n  CLINICIAN_DASHBOARD_ENABLED: 'CLINICIAN_DASHBOARD_ENABLED',\n  CHARTS_ENABLED: 'CHARTS_ENABLED',\n} as const\n\nexport type FeatureFlag = typeof FEATURE_FLAG[keyof typeof FEATURE_FLAG]\n\n// ============================================================\n// Helper Functions\n// ============================================================\n\n/**\n * Type guard to check if a value is a valid assessment status\n */\nexport function isValidAssessmentStatus(value: unknown): value is AssessmentStatus {\n  return typeof value === 'string' && Object.values(ASSESSMENT_STATUS).includes(value as AssessmentStatus)\n}\n\n/**\n * Type guard to check if a value is a valid content status\n */\nexport function isValidContentStatus(value: unknown): value is ContentStatus {\n  return typeof value === 'string' && Object.values(CONTENT_STATUS).includes(value as ContentStatus)\n}\n\n/**\n * Type guard to check if a value is a valid user role\n */\nexport function isValidUserRole(value: unknown): value is UserRole {\n  return typeof value === 'string' && Object.values(USER_ROLE).includes(value as UserRole)\n}\n\n/**\n * Type guard to check if a value is a valid node type\n */\nexport function isValidNodeType(value: unknown): value is NodeType {\n  return typeof value === 'string' && Object.values(NODE_TYPE).includes(value as NodeType)\n}\n\n/**\n * Type guard to check if a value is a valid pillar key\n */\nexport function isValidPillarKey(value: unknown): value is PillarKey {\n  return typeof value === 'string' && Object.values(PILLAR_KEY).includes(value as PillarKey)\n}\n\n/**\n * Type guard to check if a value is a valid patient sex option\n */\nexport function isValidPatientSex(value: unknown): value is PatientSex {\n  return typeof value === 'string' && Object.values(PATIENT_SEX).includes(value as PatientSex)\n}\n\n// ============================================================\n// Audit Log Entity Types\n// ============================================================\n\n/**\n * Valid entity types for audit logging\n * These correspond to the 'entity_type' field in the audit_log table\n */\nexport const AUDIT_ENTITY_TYPE = {\n  ASSESSMENT: 'assessment',\n  REPORT: 'report',\n  TASK: 'task',\n  FUNNEL_VERSION: 'funnel_version',\n  FUNNEL_CATALOG: 'funnel_catalog',\n  CONFIG: 'config',\n  CONSENT: 'consent',\n  ORGANIZATION: 'organization',\n  USER_ORG_MEMBERSHIP: 'user_org_membership',\n  CLINICIAN_ASSIGNMENT: 'clinician_assignment',\n  DOCUMENT: 'document', // V05-I04.3: Document confirmation tracking\n  PROCESSING_JOB: 'processing_job', // V05-I05.1: Processing job orchestration\n  REVIEW_RECORD: 'review_record', // V05-I05.7: Medical review records\n  PRE_SCREENING_CALL: 'pre_screening_call', // V05-I08.2: Pre-screening call records\n  DEVICE_SHIPMENT: 'device_shipment', // V05-I08.3: Shipment tracking\n  SUPPORT_CASE: 'support_case', // V05-I08.4: Support case documentation\n  ACCOUNT: 'account', // V05-I10.2: Account lifecycle (deletion/retention)\n} as const\n\nexport type AuditEntityType = typeof AUDIT_ENTITY_TYPE[keyof typeof AUDIT_ENTITY_TYPE]\n\n// ============================================================\n// Audit Log Actions\n// ============================================================\n\n/**\n * Valid actions for audit logging\n * These correspond to the 'action' field in the audit_log table\n */\nexport const AUDIT_ACTION = {\n  CREATE: 'create',\n  UPDATE: 'update',\n  DELETE: 'delete',\n  APPROVE: 'approve',\n  REJECT: 'reject',\n  REQUEST_CHANGES: 'request_changes', // V05-I05.7: Review workflow\n  GENERATE: 'generate',\n  FLAG: 'flag',\n  ASSIGN: 'assign',\n  ACTIVATE: 'activate',\n  DEACTIVATE: 'deactivate',\n  ROLLOUT: 'rollout',\n  COMPLETE: 'complete',\n  ESCALATE: 'escalate', // V05-I08.4: Support case escalation\n  DELETION_REQUEST: 'deletion_request', // V05-I10.2: User requested account deletion\n  DELETION_CANCEL: 'deletion_cancel', // V05-I10.2: User cancelled deletion request\n  DELETION_EXECUTE: 'deletion_execute', // V05-I10.2: System executed account deletion\n  ANONYMIZE: 'anonymize', // V05-I10.2: Records anonymized instead of deleted\n} as const\n\nexport type AuditAction = typeof AUDIT_ACTION[keyof typeof AUDIT_ACTION]\n\n// ============================================================\n// Audit Log Sources\n// ============================================================\n\n/**\n * Valid sources for audit logging\n * These correspond to the 'source' field in the audit_log table\n */\nexport const AUDIT_SOURCE = {\n  API: 'api',\n  JOB: 'job',\n  ADMIN_UI: 'admin-ui',\n  SYSTEM: 'system',\n} as const\n\nexport type AuditSource = typeof AUDIT_SOURCE[keyof typeof AUDIT_SOURCE]\n\n// ============================================================\n// Audit Type Guards\n// ============================================================\n\n/**\n * Type guard to check if a value is a valid audit entity type\n */\nexport function isValidAuditEntityType(value: unknown): value is AuditEntityType {\n  return typeof value === 'string' && Object.values(AUDIT_ENTITY_TYPE).includes(value as AuditEntityType)\n}\n\n/**\n * Type guard to check if a value is a valid audit action\n */\nexport function isValidAuditAction(value: unknown): value is AuditAction {\n  return typeof value === 'string' && Object.values(AUDIT_ACTION).includes(value as AuditAction)\n}\n\n/**\n * Type guard to check if a value is a valid audit source\n */\nexport function isValidAuditSource(value: unknown): value is AuditSource {\n  return typeof value === 'string' && Object.values(AUDIT_SOURCE).includes(value as AuditSource)\n}\n\n// ============================================================\n// Program Tier Levels (TV05_01D)\n// ============================================================\n\n/**\n * Valid program tier levels based on Thomas' journey model\n * These map the 3-tier patient journey to platform capabilities\n */\nexport const PROGRAM_TIER = {\n  /**\n   * Tier 1 (Essential): Basic stress/resilience assessment\n   * Focus: Initial assessment, baseline data collection\n   */\n  TIER_1_ESSENTIAL: 'tier-1-essential',\n  \n  /**\n   * Tier 2.5 (Enhanced): Extended monitoring with nurse touchpoints\n   * Focus: Regular check-ins, progress tracking\n   */\n  TIER_2_5_ENHANCED: 'tier-2-5-enhanced',\n  \n  /**\n   * Tier 2 (Comprehensive): Full program with intensive support\n   * Focus: Comprehensive care, multiple pillars, frequent touchpoints\n   */\n  TIER_2_COMPREHENSIVE: 'tier-2-comprehensive',\n} as const\n\nexport type ProgramTier = typeof PROGRAM_TIER[keyof typeof PROGRAM_TIER]\n\n/**\n * Type guard to check if a value is a valid program tier\n */\nexport function isValidProgramTier(value: unknown): value is ProgramTier {\n  return typeof value === 'string' && Object.values(PROGRAM_TIER).includes(value as ProgramTier)\n}\n\n// ============================================================\n// Document Extraction Versions (V05-I04.2)\n// ============================================================\n\n/**\n * Valid extractor versions for AI document extraction\n * Format: vMAJOR.MINOR.PATCH\n * Update when extraction logic or prompts change\n */\nexport const EXTRACTOR_VERSION = {\n  /**\n   * v1.0.0: Initial extraction pipeline\n   * - Basic lab value extraction\n   * - Medication list extraction\n   * - Confidence scoring\n   */\n  V1_0_0: 'v1.0.0',\n} as const\n\nexport type ExtractorVersion = typeof EXTRACTOR_VERSION[keyof typeof EXTRACTOR_VERSION]\n\n/**\n * Current extractor version (latest)\n */\nexport const CURRENT_EXTRACTOR_VERSION = EXTRACTOR_VERSION.V1_0_0\n\n/**\n * Type guard to check if a value is a valid extractor version\n */\nexport function isValidExtractorVersion(value: unknown): value is ExtractorVersion {\n  return typeof value === 'string' && Object.values(EXTRACTOR_VERSION).includes(value as ExtractorVersion)\n}\n\n// ============================================================\n// Processing Stages & Status (V05-I05.1)\n// ============================================================\n\n/**\n * Valid processing stages for job orchestrator\n * Jobs progress deterministically through these stages\n */\nexport const PROCESSING_STAGE = {\n  PENDING: 'pending',\n  RISK: 'risk',\n  RANKING: 'ranking',\n  CONTENT: 'content',\n  VALIDATION: 'validation',\n  REVIEW: 'review',\n  PDF: 'pdf',\n  DELIVERY: 'delivery',\n  COMPLETED: 'completed',\n  FAILED: 'failed',\n} as const\n\nexport type ProcessingStage = typeof PROCESSING_STAGE[keyof typeof PROCESSING_STAGE]\n\n/**\n * Valid processing statuses for job orchestrator\n */\nexport const PROCESSING_STATUS = {\n  QUEUED: 'queued',\n  IN_PROGRESS: 'in_progress',\n  COMPLETED: 'completed',\n  FAILED: 'failed',\n} as const\n\nexport type ProcessingStatus = typeof PROCESSING_STATUS[keyof typeof PROCESSING_STATUS]\n\n/**\n * Type guard to check if a value is a valid processing stage\n */\nexport function isValidProcessingStage(value: unknown): value is ProcessingStage {\n  return typeof value === 'string' && Object.values(PROCESSING_STAGE).includes(value as ProcessingStage)\n}\n\n/**\n * Type guard to check if a value is a valid processing status\n */\nexport function isValidProcessingStatus(value: unknown): value is ProcessingStatus {\n  return typeof value === 'string' && Object.values(PROCESSING_STATUS).includes(value as ProcessingStatus)\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","'use client'\n\nimport React from 'react'\nimport { useRouter } from 'next/navigation'\nimport { ArrowLeft, Settings, Info } from 'lucide-react'\nimport { spacing, typography, shadows, colors } from '@/lib/design-tokens'\n\nexport type MobileHeaderVariant = 'minimal' | 'with-title' | 'with-action'\n\nexport type MobileHeaderProps = {\n  /**\n   * Display variant of the header\n   * - 'minimal': Only back button\n   * - 'with-title': Back button + title\n   * - 'with-action': Back button + title + action icon\n   */\n  variant?: MobileHeaderVariant\n  /**\n   * Title to display in the header\n   */\n  title?: string\n  /**\n   * Optional subtitle/breadcrumb text\n   */\n  subtitle?: string\n  /**\n   * Show back button (default: true)\n   */\n  showBack?: boolean\n  /**\n   * Custom back navigation handler\n   * If not provided, uses router.back()\n   */\n  onBack?: () => void\n  /**\n   * Action icon type ('settings' or 'info')\n   */\n  actionIcon?: 'settings' | 'info'\n  /**\n   * Handler for action icon click\n   */\n  onAction?: () => void\n  /**\n   * Additional CSS classes\n   */\n  className?: string\n}\n\n/**\n * MobileHeader Component\n * \n * Global mobile navigation header for all /patient/* pages.\n * Provides consistent back navigation and optional title/actions.\n * \n * Features:\n * - Sticky positioning with elevated z-index\n * - Touch-friendly 44px minimum hit areas\n * - Accessible focus management\n * - Three variants: minimal, with-title, with-action\n * - Consistent design tokens\n * \n * UX Pattern:\n * [← Back] [Title/Subtitle] [Action Icon]\n * \n * @example\n * // Minimal - just back button\n * <MobileHeader variant=\"minimal\" />\n * \n * @example\n * // With title\n * <MobileHeader variant=\"with-title\" title=\"Stress Assessment\" />\n * \n * @example\n * // With action icon\n * <MobileHeader \n *   variant=\"with-action\" \n *   title=\"Ergebnisse\"\n *   actionIcon=\"info\"\n *   onAction={() => console.log('Info clicked')}\n * />\n */\nexport default function MobileHeader({\n  variant = 'with-title',\n  title,\n  subtitle,\n  showBack = true,\n  onBack,\n  actionIcon = 'settings',\n  onAction,\n  className = '',\n}: MobileHeaderProps) {\n  const router = useRouter()\n\n  const handleBack = () => {\n    if (onBack) {\n      onBack()\n    } else {\n      router.back()\n    }\n  }\n\n  // Render action icon based on type\n  const renderActionIcon = () => {\n    if (!onAction) return null\n\n    const iconProps = {\n      size: 20,\n      strokeWidth: 2,\n      'aria-hidden': true,\n    }\n\n    return (\n      <button\n        type=\"button\"\n        onClick={onAction}\n        className=\"shrink-0 flex items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 active:bg-slate-300 dark:active:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2\"\n        style={{\n          width: '44px',\n          height: '44px',\n        }}\n        aria-label={actionIcon === 'settings' ? 'Einstellungen' : 'Information'}\n      >\n        {actionIcon === 'settings' ? (\n          <Settings {...iconProps} className=\"text-slate-700 dark:text-slate-300\" />\n        ) : (\n          <Info {...iconProps} className=\"text-slate-700 dark:text-slate-300\" />\n        )}\n      </button>\n    )\n  }\n\n  return (\n    <header\n      className={`sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 transition-colors duration-150 ${className}`}\n      style={{\n        zIndex: 50,\n        boxShadow: shadows.sm,\n      }}\n    >\n      <div\n        className=\"flex items-center gap-3\"\n        style={{\n          padding: `${spacing.sm} ${spacing.md}`,\n          minHeight: '56px',\n        }}\n      >\n        {/* Back Button */}\n        {showBack && (\n          <button\n            type=\"button\"\n            onClick={handleBack}\n            className=\"shrink-0 flex items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 active:bg-slate-300 dark:active:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2\"\n            style={{\n              width: '44px',\n              height: '44px',\n            }}\n            aria-label=\"Zurück\"\n          >\n            <ArrowLeft\n              size={20}\n              strokeWidth={2}\n              className=\"text-slate-700 dark:text-slate-300\"\n              aria-hidden={true}\n            />\n          </button>\n        )}\n\n        {/* Title Section */}\n        {(variant === 'with-title' || variant === 'with-action') && (\n          <div className=\"flex-1 min-w-0\">\n            {subtitle && (\n              <p\n                className=\"text-xs font-medium text-sky-600 dark:text-sky-400 uppercase tracking-wide truncate\"\n                style={{ fontSize: typography.fontSize.xs }}\n              >\n                {subtitle}\n              </p>\n            )}\n            {title && (\n              <h1\n                className=\"font-semibold text-slate-900 dark:text-slate-100 truncate\"\n                style={{\n                  fontSize: typography.fontSize.lg,\n                  lineHeight: typography.lineHeight.tight,\n                }}\n              >\n                {title}\n              </h1>\n            )}\n          </div>\n        )}\n\n        {/* Action Icon */}\n        {variant === 'with-action' && renderActionIcon()}\n      </div>\n    </header>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915',\n      key: '1i5ecw',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOS42NzEgNC4xMzZhMi4zNCAyLjM0IDAgMCAxIDQuNjU5IDAgMi4zNCAyLjM0IDAgMCAwIDMuMzE5IDEuOTE1IDIuMzQgMi4zNCAwIDAgMSAyLjMzIDQuMDMzIDIuMzQgMi4zNCAwIDAgMCAwIDMuODMxIDIuMzQgMi4zNCAwIDAgMS0yLjMzIDQuMDMzIDIuMzQgMi4zNCAwIDAgMC0zLjMxOSAxLjkxNSAyLjM0IDIuMzQgMCAwIDEtNC42NTkgMCAyLjM0IDIuMzQgMCAwIDAtMy4zMi0xLjkxNSAyLjM0IDIuMzQgMCAwIDEtMi4zMy00LjAzMyAyLjM0IDIuMzQgMCAwIDAgMC0zLjgzMUEyLjM0IDIuMzQgMCAwIDEgNi4zNSA2LjA1MWEyLjM0IDIuMzQgMCAwIDAgMy4zMTktMS45MTUiIC8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('settings', __iconNode);\n\nexport default Settings;\n","import type { ReactNode } from 'react'\n\ntype ContentContainerProps = {\n  children: ReactNode\n  className?: string\n}\n\nexport default function ContentContainer({ children, className = '' }: ContentContainerProps) {\n  return <div className={`mx-auto w-full max-w-4xl ${className}`.trim()}>{children}</div>\n}\n","/**\n * Funnel Plugin Manifest Schemas (V05-I02.2)\n * \n * This file defines the versioned \"Plugin Manifest\" structure for funnels.\n * All funnel versions store their configuration in JSONB fields validated by these schemas.\n * \n * **NO MAGIC STRINGS**: All question types, section types, and step types come from registry.\n * \n * Structure:\n * - FunnelQuestionnaireConfigSchema: Steps, questions, validation logic\n * - FunnelContentManifestSchema: Content pages, sections, assets\n * - Algorithm bundle version: String pointer to algorithm version\n * - Prompt version: String for content/report generation\n */\n\nimport { z } from 'zod'\nimport { NODE_TYPE, QUESTION_TYPE, type NodeType, type QuestionType } from './registry'\nimport { isValidUrl } from '@/lib/utils/urlSecurity'\n\nfunction normalizeQuestionType(value: unknown): unknown {\n  if (typeof value !== 'string') return value\n\n  const normalized = value.toLowerCase().trim()\n  if (Object.values(QUESTION_TYPE).includes(normalized as QuestionType)) {\n    return normalized\n  }\n\n  // Compatibility layer for older/looser DB values.\n  // Keep this mapping narrow + deterministic so QuestionRenderer still receives only registry types.\n  const aliases: Record<string, QuestionType> = {\n    // single choice\n    'single_choice': QUESTION_TYPE.RADIO,\n    'single-choice': QUESTION_TYPE.RADIO,\n    'select_one': QUESTION_TYPE.RADIO,\n    'select-one': QUESTION_TYPE.RADIO,\n    'multiple_choice': QUESTION_TYPE.RADIO,\n\n    // multiple select\n    'multi_choice': QUESTION_TYPE.CHECKBOX,\n    'multi-choice': QUESTION_TYPE.CHECKBOX,\n    'select_many': QUESTION_TYPE.CHECKBOX,\n    'select-many': QUESTION_TYPE.CHECKBOX,\n    'multiple_select': QUESTION_TYPE.CHECKBOX,\n    'multiple-select': QUESTION_TYPE.CHECKBOX,\n\n    // text\n    'short_text': QUESTION_TYPE.TEXT,\n    'short-text': QUESTION_TYPE.TEXT,\n    'string': QUESTION_TYPE.TEXT,\n\n    // textarea\n    'long_text': QUESTION_TYPE.TEXTAREA,\n    'long-text': QUESTION_TYPE.TEXTAREA,\n    'paragraph': QUESTION_TYPE.TEXTAREA,\n\n    // number\n    'integer': QUESTION_TYPE.NUMBER,\n    'float': QUESTION_TYPE.NUMBER,\n    'decimal': QUESTION_TYPE.NUMBER,\n\n    // scale/rating\n    'likert': QUESTION_TYPE.SCALE,\n    'likert_scale': QUESTION_TYPE.SCALE,\n    'likert-scale': QUESTION_TYPE.SCALE,\n    'rating': QUESTION_TYPE.SCALE,\n\n    // slider/range\n    'range': QUESTION_TYPE.SLIDER,\n  }\n\n  return aliases[normalized] ?? normalized\n}\n\n// IMPORTANT: keep this optional at the *object key* level.\n// Using `.transform()` directly can turn it into a required key with `string | undefined`.\nconst nullableString = z\n  .preprocess((value) => (value === null ? undefined : value), z.string().optional())\n  .optional()\n\n// ============================================================\n// Questionnaire Config Schema\n// ============================================================\n\n/**\n * V05-I06.4 Security: Safe URL validator for Zod schemas\n * Rejects javascript:, data:, vbscript:, file: and other dangerous protocols\n */\nconst safeUrlValidator = z.string().refine(\n  (url) => {\n    // Empty/undefined is OK for optional fields\n    if (!url || url.trim() === '') return true\n    return isValidUrl(url, false)\n  },\n  {\n    message: 'URL must use http:, https:, mailto:, tel:, or be a relative path. Dangerous protocols (javascript:, data:, vbscript:, file:) are not allowed.',\n  }\n)\n\n/**\n * Validation rule for question\n */\nexport const QuestionValidationSchema = z.object({\n  required: z.boolean().optional(),\n  min: z.number().optional(),\n  max: z.number().optional(),\n  pattern: z.string().optional(),\n  message: z.string().optional(),\n})\n\nexport type QuestionValidation = z.infer<typeof QuestionValidationSchema>\n\n/**\n * Option for radio/checkbox questions\n */\nexport const QuestionOptionSchema = z.object({\n  value: z.string(),\n  label: z.string(),\n  helpText: nullableString,\n})\n\nexport type QuestionOption = z.infer<typeof QuestionOptionSchema>\n\n/**\n * Individual question in questionnaire\n */\nexport const QuestionConfigSchema = z.object({\n  id: z.string(),\n  key: z.string(),\n  type: z.preprocess(\n    normalizeQuestionType,\n    z.enum([\n      QUESTION_TYPE.RADIO,\n      QUESTION_TYPE.CHECKBOX,\n      QUESTION_TYPE.TEXT,\n      QUESTION_TYPE.TEXTAREA,\n      QUESTION_TYPE.NUMBER,\n      QUESTION_TYPE.SCALE,\n      QUESTION_TYPE.SLIDER,\n    ] as [QuestionType, ...QuestionType[]]),\n  ),\n  label: z.string(),\n  helpText: nullableString,\n  required: z.boolean().default(false),\n  options: z.array(QuestionOptionSchema).optional(),\n  validation: QuestionValidationSchema.optional(),\n  minValue: z.number().optional(),\n  maxValue: z.number().optional(),\n})\n\nexport type QuestionConfig = z.infer<typeof QuestionConfigSchema>\n\n/**\n * Conditional logic for step/question visibility\n */\nexport const ConditionalLogicSchema = z.object({\n  type: z.enum(['show', 'hide', 'skip']),\n  conditions: z.array(\n    z.object({\n      questionId: z.string(),\n      operator: z.enum(['eq', 'neq', 'gt', 'gte', 'lt', 'lte', 'in', 'notIn']),\n      value: z.union([z.string(), z.number(), z.boolean(), z.array(z.string())]),\n    }),\n  ),\n  logic: z.enum(['and', 'or']).default('and'),\n})\n\nexport type ConditionalLogic = z.infer<typeof ConditionalLogicSchema>\n\n/**\n * Step in questionnaire flow\n */\nexport const QuestionnaireStepSchema = z.object({\n  id: z.string(),\n  title: z.string(),\n  description: z.string().optional(),\n  questions: z.array(QuestionConfigSchema),\n  conditionalLogic: ConditionalLogicSchema.optional(),\n})\n\nexport type QuestionnaireStep = z.infer<typeof QuestionnaireStepSchema>\n\n/**\n * Complete questionnaire configuration\n */\nexport const FunnelQuestionnaireConfigSchema = z.object({\n  version: z.string().default('1.0'),\n  steps: z.array(QuestionnaireStepSchema),\n  conditionalLogic: z.array(ConditionalLogicSchema).optional(),\n  metadata: z.record(z.string(), z.any()).optional(),\n})\n\nexport type FunnelQuestionnaireConfig = z.infer<typeof FunnelQuestionnaireConfigSchema>\n\n// ============================================================\n// Content Manifest Schema\n// ============================================================\n\n/**\n * Section types for content pages\n * These are the allowed types for sections within content pages\n */\nexport const SECTION_TYPE = {\n  HERO: 'hero',\n  TEXT: 'text',\n  IMAGE: 'image',\n  VIDEO: 'video',\n  MARKDOWN: 'markdown',\n  CTA: 'cta',\n  DIVIDER: 'divider',\n} as const\n\nexport type SectionType = typeof SECTION_TYPE[keyof typeof SECTION_TYPE]\n\n/**\n * Content section within a page\n * \n * V05-I06.2 Hardening: Added strict bounds and validation\n * V05-I06.4 Security: Added URL validation for content fields\n * - key: max 200 chars (prevent DoS)\n * - contentRef: max 2048 chars (URL/path length limit)\n * - orderIndex: non-negative integer (deterministic sorting)\n * - content.url, content.href: validated against dangerous protocols\n * - No unknown keys allowed (strict mode via .strict())\n */\nexport const ContentSectionSchema = z\n  .object({\n    key: z.string().min(1).max(200),\n    type: z.enum([\n      SECTION_TYPE.HERO,\n      SECTION_TYPE.TEXT,\n      SECTION_TYPE.IMAGE,\n      SECTION_TYPE.VIDEO,\n      SECTION_TYPE.MARKDOWN,\n      SECTION_TYPE.CTA,\n      SECTION_TYPE.DIVIDER,\n    ] as [SectionType, ...SectionType[]]),\n    contentRef: z.string().max(2048).optional(),\n    content: z.record(z.string(), z.any()).optional(),\n    orderIndex: z.number().int().nonnegative().optional(),\n  })\n  .strict()\n  .refine(\n    (section) => {\n      // Validate URLs in content object for security\n      if (!section.content) return true\n      \n      // Check href field (CTA blocks)\n      if ('href' in section.content && typeof section.content.href === 'string') {\n        if (!isValidUrl(section.content.href, false)) {\n          return false\n        }\n      }\n      \n      // Check url field (Image, Video blocks)\n      if ('url' in section.content && typeof section.content.url === 'string') {\n        if (!isValidUrl(section.content.url, false)) {\n          return false\n        }\n      }\n      \n      // Check backgroundImage field (Hero blocks)\n      if ('backgroundImage' in section.content && typeof section.content.backgroundImage === 'string') {\n        if (section.content.backgroundImage && !isValidUrl(section.content.backgroundImage, false)) {\n          return false\n        }\n      }\n      \n      return true\n    },\n    {\n      message: 'Content URLs must use safe protocols (http:, https:, mailto:, tel:, or relative paths). Dangerous protocols (javascript:, data:, vbscript:, file:) are not allowed.',\n    }\n  )\n\nexport type ContentSection = z.infer<typeof ContentSectionSchema>\n\n/**\n * Content page definition\n * \n * V05-I06.2 Hardening: Added strict bounds\n * - slug: max 200 chars, alphanumeric + hyphens\n * - title: max 500 chars\n * - description: max 2000 chars\n * - sections: max 100 sections per page\n * - No unknown keys allowed (strict mode)\n */\nexport const ContentPageSchema = z\n  .object({\n    slug: z\n      .string()\n      .min(1)\n      .max(200)\n      .regex(/^[a-z0-9-]+$/, 'Slug must be lowercase alphanumeric with hyphens'),\n    title: z.string().min(1).max(500),\n    description: z.string().max(2000).optional(),\n    sections: z.array(ContentSectionSchema).max(100),\n    metadata: z.record(z.string(), z.any()).optional(),\n  })\n  .strict()\n\nexport type ContentPage = z.infer<typeof ContentPageSchema>\n\n/**\n * Complete content manifest\n * \n * V05-I06.2 Hardening: Added strict bounds\n * - version: max 20 chars\n * - pages: max 50 pages per manifest\n * - assets: max 200 assets per manifest\n * - asset key: max 200 chars\n * - asset url: max 2048 chars\n * - No unknown keys allowed (strict mode)\n */\nexport const FunnelContentManifestSchema = z\n  .object({\n    version: z.string().max(20).default('1.0'),\n    pages: z.array(ContentPageSchema).max(50),\n    assets: z\n      .array(\n        z\n          .object({\n            key: z.string().min(1).max(200),\n            type: z.enum(['image', 'video', 'audio', 'document']),\n            url: safeUrlValidator.min(1).max(2048),\n            metadata: z.record(z.string(), z.any()).optional(),\n          })\n          .strict(),\n      )\n      .max(200)\n      .optional(),\n    metadata: z.record(z.string(), z.any()).optional(),\n  })\n  .strict()\n\nexport type FunnelContentManifest = z.infer<typeof FunnelContentManifestSchema>\n\n// ============================================================\n// Complete Plugin Manifest\n// ============================================================\n\n/**\n * Complete funnel plugin manifest\n * This represents all configuration data for a funnel version\n */\nexport const FunnelPluginManifestSchema = z.object({\n  questionnaire_config: FunnelQuestionnaireConfigSchema,\n  content_manifest: FunnelContentManifestSchema,\n  algorithm_bundle_version: z.string(),\n  prompt_version: z.string(),\n})\n\nexport type FunnelPluginManifest = z.infer<typeof FunnelPluginManifestSchema>\n\n// ============================================================\n// Helper Functions\n// ============================================================\n\n/**\n * Type guard to check if a value is a valid section type\n */\nexport function isValidSectionType(value: unknown): value is SectionType {\n  return typeof value === 'string' && Object.values(SECTION_TYPE).includes(value as SectionType)\n}\n\n/**\n * Validates and parses questionnaire config from JSONB\n * @throws ZodError if validation fails\n */\nexport function parseQuestionnaireConfig(\n  json: unknown,\n): FunnelQuestionnaireConfig {\n  return FunnelQuestionnaireConfigSchema.parse(json)\n}\n\n/**\n * Safely parses questionnaire config with error handling\n * @returns Parsed config or null if invalid\n */\nexport function safeParseQuestionnaireConfig(\n  json: unknown,\n): FunnelQuestionnaireConfig | null {\n  const result = FunnelQuestionnaireConfigSchema.safeParse(json)\n  return result.success ? result.data : null\n}\n\n/**\n * Validates and parses content manifest from JSONB\n * @throws ZodError if validation fails\n */\nexport function parseContentManifest(json: unknown): FunnelContentManifest {\n  return FunnelContentManifestSchema.parse(json)\n}\n\n/**\n * Safely parses content manifest with error handling\n * @returns Parsed manifest or null if invalid\n */\nexport function safeParseContentManifest(json: unknown): FunnelContentManifest | null {\n  const result = FunnelContentManifestSchema.safeParse(json)\n  return result.success ? result.data : null\n}\n\n/**\n * Validates and parses complete plugin manifest\n * @throws ZodError if validation fails\n */\nexport function parsePluginManifest(json: unknown): FunnelPluginManifest {\n  return FunnelPluginManifestSchema.parse(json)\n}\n\n/**\n * Safely parses complete plugin manifest with error handling\n * @returns Parsed manifest or null if invalid\n */\nexport function safeParsePluginManifest(json: unknown): FunnelPluginManifest | null {\n  const result = FunnelPluginManifestSchema.safeParse(json)\n  return result.success ? result.data : null\n}\n","/**\n * URL Security Validation (V05-I06.2 Hardening)\n * \n * Validates URLs to prevent XSS and other security issues\n * Denies javascript:, data:, vbscript:, and other dangerous protocols\n */\n\n/**\n * Allowed URL protocols for content blocks\n */\nconst ALLOWED_PROTOCOLS = ['http:', 'https:', 'mailto:', 'tel:']\n\n/**\n * Maximum URL length to prevent buffer overflow attacks\n */\nconst MAX_URL_LENGTH = 2048\n\n/**\n * Validates a URL for security\n * \n * Rejects:\n * - javascript: URLs (XSS)\n * - data: URLs (unless explicitly allowed)\n * - vbscript: URLs (XSS)\n * - file: URLs (local file access)\n * - Overly long URLs (DoS)\n * \n * @param url - URL to validate\n * @param allowDataUrls - Whether to allow data: URLs (default: false)\n * @returns true if URL is safe, false otherwise\n */\nexport function isValidUrl(url: string | undefined, allowDataUrls = false): boolean {\n  if (!url || typeof url !== 'string') {\n    return false\n  }\n\n  // Check length\n  if (url.length > MAX_URL_LENGTH) {\n    return false\n  }\n\n  // Trim and normalize\n  const trimmed = url.trim().toLowerCase()\n\n  // Empty after trim\n  if (trimmed.length === 0) {\n    return false\n  }\n\n  // Check for dangerous protocols (always forbidden)\n  const dangerousProtocols = ['javascript:', 'vbscript:', 'file:', 'about:']\n  \n  for (const protocol of dangerousProtocols) {\n    if (trimmed.startsWith(protocol)) {\n      return false\n    }\n  }\n\n  // Handle data: URLs separately\n  if (trimmed.startsWith('data:')) {\n    return allowDataUrls\n  }\n\n  // Relative URLs are OK (start with /, ./, ../)\n  if (trimmed.startsWith('/') || trimmed.startsWith('./') || trimmed.startsWith('../')) {\n    return true\n  }\n\n  // Check for allowed protocols\n  try {\n    const parsed = new URL(url)\n    return ALLOWED_PROTOCOLS.includes(parsed.protocol)\n  } catch {\n    // If URL parsing fails, allow relative URLs that don't look suspicious\n    // This handles cases like \"page.html\" or \"#anchor\"\n    return !trimmed.includes(':')\n  }\n}\n\n/**\n * Sanitizes a URL by returning it only if valid, otherwise returns fallback\n * \n * @param url - URL to sanitize\n * @param fallback - Fallback URL if invalid (default: '#')\n * @param allowDataUrls - Whether to allow data: URLs (default: false)\n * @returns Sanitized URL or fallback\n */\nexport function sanitizeUrl(\n  url: string | undefined,\n  fallback = '#',\n  allowDataUrls = false,\n): string {\n  return isValidUrl(url, allowDataUrls) ? url! : fallback\n}\n\n/**\n * Gets safe link props for external links\n * Adds rel=\"noopener noreferrer\" for external links\n * \n * @param href - Link href\n * @returns Object with href and optional rel/target\n */\nexport function getSafeLinkProps(href: string): {\n  href: string\n  rel?: string\n  target?: string\n} {\n  const sanitized = sanitizeUrl(href)\n\n  // Check if external link (starts with http:// or https://)\n  const isExternal =\n    sanitized.startsWith('http://') || sanitized.startsWith('https://')\n\n  if (isExternal) {\n    return {\n      href: sanitized,\n      rel: 'noopener noreferrer',\n      target: '_blank',\n    }\n  }\n\n  return { href: sanitized }\n}\n","/**\n * Hero Block Renderer (V05-I06.2)\n * \n * Renders hero section with title, subtitle, and optional background\n */\n\n'use client'\n\nimport React from 'react'\nimport { type ContentSection } from '@/lib/contracts/funnelManifest'\n\nexport type HeroBlockRendererProps = {\n  section: ContentSection\n}\n\n/**\n * Hero Block - Large header section for page introduction\n * \n * Expected content fields:\n * - title: string (required)\n * - subtitle?: string (optional)\n * - backgroundImage?: string (optional)\n * - alignment?: 'left' | 'center' | 'right' (optional, default 'center')\n */\nexport function HeroBlockRenderer({ section }: HeroBlockRendererProps) {\n  const content = section.content || {}\n  const title = content.title as string | undefined\n  const subtitle = content.subtitle as string | undefined\n  const backgroundImage = content.backgroundImage as string | undefined\n  const alignment = (content.alignment as string | undefined) || 'center'\n\n  const alignmentClass = {\n    left: 'text-left',\n    center: 'text-center',\n    right: 'text-right',\n  }[alignment] || 'text-center'\n\n  return (\n    <div\n      className={`hero-block rounded-lg bg-gradient-to-r from-sky-500 to-sky-600 dark:from-sky-700 dark:to-sky-800 p-8 ${alignmentClass}`}\n      data-section-key={section.key}\n      style={backgroundImage ? { backgroundImage: `url(${backgroundImage})`, backgroundSize: 'cover', backgroundPosition: 'center' } : undefined}\n    >\n      {title && (\n        <h1 className=\"text-3xl md:text-4xl font-bold text-white mb-2\">\n          {title}\n        </h1>\n      )}\n      {subtitle && (\n        <p className=\"text-lg text-sky-50\">\n          {subtitle}\n        </p>\n      )}\n    </div>\n  )\n}\n","/**\n * Text Block Renderer (V05-I06.2)\n * \n * Renders simple text content block\n */\n\n'use client'\n\nimport React from 'react'\nimport { type ContentSection } from '@/lib/contracts/funnelManifest'\n\nexport type TextBlockRendererProps = {\n  section: ContentSection\n}\n\n/**\n * Text Block - Simple text content with optional title\n * \n * Expected content fields:\n * - title?: string (optional)\n * - text: string (required)\n * - alignment?: 'left' | 'center' | 'right' (optional, default 'left')\n */\nexport function TextBlockRenderer({ section }: TextBlockRendererProps) {\n  const content = section.content || {}\n  const title = content.title as string | undefined\n  const text = content.text as string | undefined\n  const alignment = (content.alignment as string | undefined) || 'left'\n\n  const alignmentClass = {\n    left: 'text-left',\n    center: 'text-center',\n    right: 'text-right',\n  }[alignment] || 'text-left'\n\n  return (\n    <div\n      className={`text-block bg-white dark:bg-slate-800 rounded-lg p-6 ${alignmentClass}`}\n      data-section-key={section.key}\n    >\n      {title && (\n        <h3 className=\"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-3\">\n          {title}\n        </h3>\n      )}\n      {text && (\n        <p className=\"text-slate-700 dark:text-slate-300 whitespace-pre-wrap\">\n          {text}\n        </p>\n      )}\n    </div>\n  )\n}\n","/**\n * Image Block Renderer (V05-I06.2)\n * \n * Renders image content block\n * \n * V05-I06.2 Hardening: URL security validation\n * - Validates image URLs to prevent XSS\n * - Allows data: URLs for inline images\n */\n\n'use client'\n\nimport React from 'react'\nimport { type ContentSection } from '@/lib/contracts/funnelManifest'\nimport { sanitizeUrl } from '@/lib/utils/urlSecurity'\n\nexport type ImageBlockRendererProps = {\n  section: ContentSection\n}\n\n/**\n * Image Block - Image with optional caption\n * \n * Expected content fields:\n * - url: string (required) - can also use contentRef\n * - alt: string (required for accessibility)\n * - caption?: string (optional)\n * - width?: number (optional)\n * - height?: number (optional)\n * \n * Security:\n * - URLs are validated to prevent XSS attacks\n * - data: URLs are allowed for inline images\n * - Dangerous protocols (javascript:) are rejected\n */\nexport function ImageBlockRenderer({ section }: ImageBlockRendererProps) {\n  const content = section.content || {}\n  const url = (content.url as string | undefined) || section.contentRef || ''\n  const alt = (content.alt as string | undefined) || 'Image'\n  const caption = content.caption as string | undefined\n  const width = content.width as number | undefined\n  const height = content.height as number | undefined\n\n  // Sanitize URL (allow data: URLs for inline images)\n  const safeUrl = sanitizeUrl(url, '', true)\n\n  return (\n    <div\n      className=\"image-block bg-white dark:bg-slate-800 rounded-lg p-4\"\n      data-section-key={section.key}\n    >\n      {safeUrl && (\n        <>\n          <img\n            src={safeUrl}\n            alt={alt}\n            width={width}\n            height={height}\n            className=\"w-full h-auto rounded\"\n            loading=\"lazy\"\n          />\n          {caption && (\n            <p className=\"mt-2 text-sm text-slate-600 dark:text-slate-400 text-center\">\n              {caption}\n            </p>\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n","/**\n * Video Block Renderer (V05-I06.2)\n * \n * Renders video content block\n * \n * V05-I06.2 Hardening: URL security validation\n * - Validates video URLs to prevent XSS\n * - Validates poster URLs\n */\n\n'use client'\n\nimport React from 'react'\nimport { type ContentSection } from '@/lib/contracts/funnelManifest'\nimport { sanitizeUrl } from '@/lib/utils/urlSecurity'\n\nexport type VideoBlockRendererProps = {\n  section: ContentSection\n}\n\n/**\n * Video Block - Video player with optional caption\n * \n * Expected content fields:\n * - url: string (required) - can also use contentRef\n * - caption?: string (optional)\n * - poster?: string (optional thumbnail)\n * - controls?: boolean (optional, default true)\n * \n * Security:\n * - URLs are validated to prevent XSS attacks\n * - Dangerous protocols (javascript:, data:) are rejected\n */\nexport function VideoBlockRenderer({ section }: VideoBlockRendererProps) {\n  const content = section.content || {}\n  const url = (content.url as string | undefined) || section.contentRef || ''\n  const caption = content.caption as string | undefined\n  const poster = content.poster as string | undefined\n  const controls = (content.controls as boolean | undefined) ?? true\n\n  // Sanitize URLs (no data: URLs for video sources)\n  const safeUrl = sanitizeUrl(url, '', false)\n  const safePoster = poster ? sanitizeUrl(poster, '', true) : undefined\n\n  return (\n    <div\n      className=\"video-block bg-white dark:bg-slate-800 rounded-lg p-4\"\n      data-section-key={section.key}\n    >\n      {safeUrl && (\n        <>\n          <video\n            src={safeUrl}\n            poster={safePoster}\n            controls={controls}\n            className=\"w-full h-auto rounded\"\n            preload=\"metadata\"\n          >\n            Your browser does not support the video tag.\n          </video>\n          {caption && (\n            <p className=\"mt-2 text-sm text-slate-600 dark:text-slate-400 text-center\">\n              {caption}\n            </p>\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n","/**\n * Markdown Block Renderer (V05-I06.2)\n * \n * Renders markdown content using react-markdown\n * \n * V05-I06.2 Hardening: Security measures\n * - Raw HTML is NOT rendered (skipHtml: true)\n * - Markdown content is sanitized by react-markdown\n * - Links automatically get safe attributes\n */\n\n'use client'\n\nimport React from 'react'\nimport { type ContentSection } from '@/lib/contracts/funnelManifest'\nimport ReactMarkdown from 'react-markdown'\nimport remarkGfm from 'remark-gfm'\nimport { type Components } from 'react-markdown'\n\nexport type MarkdownBlockRendererProps = {\n  section: ContentSection\n}\n\n/**\n * Custom link component with security attributes\n * Adds rel=\"noopener noreferrer\" for external links\n */\nconst SafeLink: Components['a'] = ({ href, children, ...props }) => {\n  const isExternal = href?.startsWith('http://') || href?.startsWith('https://')\n\n  if (isExternal) {\n    return (\n      <a\n        href={href}\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n        {...props}\n      >\n        {children}\n      </a>\n    )\n  }\n\n  return <a href={href} {...props}>{children}</a>\n}\n\n/**\n * Markdown Block - Renders markdown content\n * \n * Expected content fields:\n * - markdown: string (required) - markdown content\n * - contentRef can also be used to reference external markdown file\n * \n * Security:\n * - Raw HTML is disabled (skipHtml: true)\n * - External links get rel=\"noopener noreferrer\"\n * - All content is sanitized by react-markdown\n */\nexport function MarkdownBlockRenderer({ section }: MarkdownBlockRendererProps) {\n  const content = section.content || {}\n  const markdown = (content.markdown as string | undefined) || section.contentRef || ''\n\n  return (\n    <div\n      className=\"markdown-block bg-white dark:bg-slate-800 rounded-lg p-6 prose prose-slate dark:prose-invert max-w-none\"\n      data-section-key={section.key}\n    >\n      {markdown && (\n        <ReactMarkdown\n          remarkPlugins={[remarkGfm]}\n          skipHtml={true}\n          components={{\n            a: SafeLink,\n            table: ({ children, ...props }) => (\n              <div className=\"w-full overflow-x-auto\">\n                <table className=\"w-full min-w-[640px]\" {...props}>\n                  {children}\n                </table>\n              </div>\n            ),\n            th: ({ children, ...props }) => (\n              <th className=\"whitespace-nowrap\" {...props}>\n                {children}\n              </th>\n            ),\n          }}\n        >\n          {markdown}\n        </ReactMarkdown>\n      )}\n    </div>\n  )\n}\n","/**\n * CTA (Call-to-Action) Block Renderer (V05-I06.2)\n * \n * Renders call-to-action button/link\n * \n * V05-I06.2 Hardening: URL security validation\n * - Validates URLs to prevent XSS (javascript:, data:, etc.)\n * - External links get rel=\"noopener noreferrer\"\n */\n\n'use client'\n\nimport React from 'react'\nimport { type ContentSection } from '@/lib/contracts/funnelManifest'\nimport Link from 'next/link'\nimport { getSafeLinkProps } from '@/lib/utils/urlSecurity'\n\nexport type CTABlockRendererProps = {\n  section: ContentSection\n}\n\n/**\n * CTA Block - Call-to-action button or link\n * \n * Expected content fields:\n * - text: string (required) - button text\n * - href: string (required) - link destination\n * - variant?: 'primary' | 'secondary' | 'outline' (optional, default 'primary')\n * - alignment?: 'left' | 'center' | 'right' (optional, default 'center')\n * \n * Security:\n * - URLs are validated to prevent XSS attacks\n * - Dangerous protocols (javascript:, data:) are rejected\n * - External links get rel=\"noopener noreferrer\"\n */\nexport function CTABlockRenderer({ section }: CTABlockRendererProps) {\n  const content = section.content || {}\n  const text = content.text as string | undefined\n  const href = content.href as string | undefined\n  const variant = (content.variant as string | undefined) || 'primary'\n  const alignment = (content.alignment as string | undefined) || 'center'\n\n  const variantClasses = {\n    primary: 'bg-sky-600 hover:bg-sky-700 text-white',\n    secondary: 'bg-slate-600 hover:bg-slate-700 text-white',\n    outline: 'border-2 border-sky-600 text-sky-600 hover:bg-sky-50 dark:border-sky-400 dark:text-sky-400 dark:hover:bg-slate-800',\n  }[variant] || 'bg-sky-600 hover:bg-sky-700 text-white'\n\n  const alignmentClass = {\n    left: 'justify-start',\n    center: 'justify-center',\n    right: 'justify-end',\n  }[alignment] || 'justify-center'\n\n  if (!text || !href) {\n    return (\n      <div\n        className={`cta-block flex ${alignmentClass} py-4`}\n        data-section-key={section.key}\n      />\n    )\n  }\n\n  // Get safe link props with URL validation\n  const linkProps = getSafeLinkProps(href)\n\n  return (\n    <div\n      className={`cta-block flex ${alignmentClass} py-4`}\n      data-section-key={section.key}\n    >\n      <Link\n        {...linkProps}\n        className={`px-6 py-3 rounded-lg font-semibold transition-colors duration-200 ${variantClasses}`}\n      >\n        {text}\n      </Link>\n    </div>\n  )\n}\n","/**\n * Divider Block Renderer (V05-I06.2)\n * \n * Renders visual divider/separator\n */\n\n'use client'\n\nimport React from 'react'\nimport { type ContentSection } from '@/lib/contracts/funnelManifest'\n\nexport type DividerBlockRendererProps = {\n  section: ContentSection\n}\n\n/**\n * Divider Block - Visual separator between content sections\n * \n * Expected content fields:\n * - style?: 'solid' | 'dashed' | 'dotted' (optional, default 'solid')\n * - spacing?: 'sm' | 'md' | 'lg' (optional, default 'md')\n */\nexport function DividerBlockRenderer({ section }: DividerBlockRendererProps) {\n  const content = section.content || {}\n  const style = (content.style as string | undefined) || 'solid'\n  const spacing = (content.spacing as string | undefined) || 'md'\n\n  const styleClasses = {\n    solid: 'border-solid',\n    dashed: 'border-dashed',\n    dotted: 'border-dotted',\n  }[style] || 'border-solid'\n\n  const spacingClasses = {\n    sm: 'my-2',\n    md: 'my-4',\n    lg: 'my-8',\n  }[spacing] || 'my-4'\n\n  return (\n    <hr\n      className={`divider-block border-slate-200 dark:border-slate-700 ${styleClasses} ${spacingClasses}`}\n      data-section-key={section.key}\n    />\n  )\n}\n","/**\n * Section Renderer (V05-I06.2)\n * \n * Renders individual content sections based on type\n * Type-safe switch on SECTION_TYPE from registry\n * Fail-closed: Unknown types → error\n */\n\n'use client'\n\nimport React from 'react'\nimport { type ContentSection, SECTION_TYPE, isValidSectionType } from '@/lib/contracts/funnelManifest'\nimport { HeroBlockRenderer } from './blocks/HeroBlockRenderer'\nimport { TextBlockRenderer } from './blocks/TextBlockRenderer'\nimport { ImageBlockRenderer } from './blocks/ImageBlockRenderer'\nimport { VideoBlockRenderer } from './blocks/VideoBlockRenderer'\nimport { MarkdownBlockRenderer } from './blocks/MarkdownBlockRenderer'\nimport { CTABlockRenderer } from './blocks/CTABlockRenderer'\nimport { DividerBlockRenderer } from './blocks/DividerBlockRenderer'\n\nexport type SectionRendererProps = {\n  section: ContentSection\n  onBlockTypeError?: (blockType: string, sectionKey: string) => void\n}\n\n/**\n * UnsupportedBlockTypeError\n * Thrown when encountering unknown block type (fail-closed behavior)\n */\nexport class UnsupportedBlockTypeError extends Error {\n  constructor(public blockType: string, public sectionKey: string) {\n    super(`Unsupported block type: \"${blockType}\" in section \"${sectionKey}\"`)\n    this.name = 'UnsupportedBlockTypeError'\n  }\n}\n\n/**\n * Section Renderer - Type-safe switch on section type\n * \n * Uses registry SECTION_TYPE for type checking\n * Unknown types → controlled error (no silent fallbacks)\n */\nexport function SectionRenderer({ section, onBlockTypeError }: SectionRendererProps) {\n  // Type guard validation (should already be validated by Zod, but double-check)\n  if (!isValidSectionType(section.type)) {\n    const error = new UnsupportedBlockTypeError(section.type, section.key)\n    \n    if (onBlockTypeError) {\n      onBlockTypeError(section.type, section.key)\n      return null\n    }\n    \n    throw error\n  }\n\n  // Type-safe switch on SECTION_TYPE (exhaustive)\n  switch (section.type) {\n    case SECTION_TYPE.HERO:\n      return <HeroBlockRenderer section={section} />\n    \n    case SECTION_TYPE.TEXT:\n      return <TextBlockRenderer section={section} />\n    \n    case SECTION_TYPE.IMAGE:\n      return <ImageBlockRenderer section={section} />\n    \n    case SECTION_TYPE.VIDEO:\n      return <VideoBlockRenderer section={section} />\n    \n    case SECTION_TYPE.MARKDOWN:\n      return <MarkdownBlockRenderer section={section} />\n    \n    case SECTION_TYPE.CTA:\n      return <CTABlockRenderer section={section} />\n    \n    case SECTION_TYPE.DIVIDER:\n      return <DividerBlockRenderer section={section} />\n    \n    default: {\n      // TypeScript exhaustiveness check\n      const _exhaustiveCheck: never = section.type\n      const error = new UnsupportedBlockTypeError(String(_exhaustiveCheck), section.key)\n      \n      if (onBlockTypeError) {\n        onBlockTypeError(String(_exhaustiveCheck), section.key)\n        return null\n      }\n      \n      throw error\n    }\n  }\n}\n","/**\n * Page Renderer (V05-I06.2)\n * \n * Renders a single content page from manifest\n * Orchestrates section rendering in deterministic order\n */\n\n'use client'\n\nimport React from 'react'\nimport { type ContentPage } from '@/lib/contracts/funnelManifest'\nimport { SectionRenderer } from './SectionRenderer'\n\nexport type PageRendererProps = {\n  page: ContentPage\n  onBlockTypeError?: (blockType: string, sectionKey: string) => void\n}\n\n/**\n * Renders a content page with optional title/description\n * Sections rendered in deterministic order with stable sorting\n * \n * V05-I06.2 Hardening: Stable sort with explicit tie-breakers\n * - Primary: orderIndex (ascending)\n * - Secondary: original array index (ascending)\n * - Tertiary: section key (lexicographic)\n */\nexport function PageRenderer({ page, onBlockTypeError }: PageRendererProps) {\n  // Create sections with original index for stable sorting\n  const sectionsWithIndex = page.sections.map((section, originalIndex) => ({\n    section,\n    originalIndex,\n  }))\n\n  // Stable deterministic sort\n  const sortedSections = [...sectionsWithIndex].sort((a, b) => {\n    const aOrder = a.section.orderIndex\n    const bOrder = b.section.orderIndex\n\n    // Both have orderIndex: sort by orderIndex\n    if (aOrder !== undefined && bOrder !== undefined) {\n      if (aOrder !== bOrder) {\n        return aOrder - bOrder\n      }\n      // Tie-breaker 1: original index\n      if (a.originalIndex !== b.originalIndex) {\n        return a.originalIndex - b.originalIndex\n      }\n      // Tie-breaker 2: key (lexicographic)\n      return a.section.key.localeCompare(b.section.key)\n    }\n\n    // Only a has orderIndex: a comes first\n    if (aOrder !== undefined) {\n      return -1\n    }\n\n    // Only b has orderIndex: b comes first\n    if (bOrder !== undefined) {\n      return 1\n    }\n\n    // Neither has orderIndex: preserve original order\n    return a.originalIndex - b.originalIndex\n  })\n\n  return (\n    <div className=\"content-page\" data-page-slug={page.slug}>\n      {/* Optional page title/description */}\n      {page.title && (\n        <div className=\"content-page-header mb-6\">\n          <h2 className=\"text-2xl font-bold text-slate-900 dark:text-slate-100\">\n            {page.title}\n          </h2>\n          {page.description && (\n            <p className=\"mt-2 text-slate-600 dark:text-slate-400\">\n              {page.description}\n            </p>\n          )}\n        </div>\n      )}\n\n      {/* Sections stack */}\n      <div className=\"content-sections-stack space-y-4\">\n        {sortedSections.map(({ section }) => (\n          <SectionRenderer\n            key={section.key}\n            section={section}\n            onBlockTypeError={onBlockTypeError}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n","/**\n * Content Block Renderer (V05-I06.2)\n * \n * Manifest-driven content renderer for mobile UI v0.5.\n * Renders content blocks (cards/sections stack) from FunnelContentManifest.\n * \n * **NO MAGIC STRINGS**: All block types from SECTION_TYPE registry.\n * **DETERMINISTIC**: Same manifest input → identical render order and structure.\n * **FAIL-CLOSED**: Unknown block types → controlled error, no silent fallbacks.\n * \n * Usage:\n * ```tsx\n * // Server Component loads manifest\n * const manifest = await loadFunnelVersion(slug)\n * \n * // Client Component renders blocks\n * <ContentBlockRenderer manifest={manifest.manifest.content_manifest} />\n * ```\n */\n\n'use client'\n\nimport React from 'react'\nimport { type FunnelContentManifest, type ContentPage } from '@/lib/contracts/funnelManifest'\nimport { PageRenderer } from './PageRenderer'\n\nexport type ContentBlockRendererProps = {\n  /**\n   * Validated content manifest from funnel version\n   * Must be validated server-side before passing to renderer\n   */\n  manifest: FunnelContentManifest\n  \n  /**\n   * Optional: Specific page slug to render\n   * If provided, only renders that page\n   * If omitted, renders all pages in manifest order\n   */\n  pageSlug?: string\n  \n  /**\n   * Optional: Custom error handler for unsupported block types\n   * If omitted, throws error\n   */\n  onBlockTypeError?: (blockType: string, sectionKey: string) => void\n}\n\n/**\n * Content Block Renderer - Main orchestrator\n * \n * Renders content manifest as UI stack (pages → sections → blocks)\n * Preserves manifest order for deterministic rendering\n */\nexport function ContentBlockRenderer({\n  manifest,\n  pageSlug,\n  onBlockTypeError,\n}: ContentBlockRendererProps) {\n  // Filter to specific page if slug provided\n  const pages = pageSlug\n    ? manifest.pages.filter((p) => p.slug === pageSlug)\n    : manifest.pages\n\n  // Empty manifest → empty valid UI\n  if (pages.length === 0) {\n    return null\n  }\n\n  // Render pages in manifest order (deterministic)\n  return (\n    <div className=\"content-block-renderer\">\n      {pages.map((page) => (\n        <PageRenderer\n          key={page.slug}\n          page={page}\n          onBlockTypeError={onBlockTypeError}\n        />\n      ))}\n    </div>\n  )\n}\n","/**\n * Card Renderer (V05-I06.2)\n * \n * Optional wrapper component for rendering content in card format\n * Can be used to wrap sections for consistent card styling\n */\n\n'use client'\n\nimport { type ReactNode } from 'react'\n\nexport type CardRendererProps = {\n  children: ReactNode\n  title?: string\n  className?: string\n}\n\n/**\n * Card Renderer - Wraps content in card styling\n * \n * Provides consistent card appearance across different content blocks\n * Optional title for card header\n */\nexport function CardRenderer({ children, title, className = '' }: CardRendererProps) {\n  return (\n    <div className={`card-renderer bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 ${className}`}>\n      {title && (\n        <div className=\"card-header border-b border-slate-200 dark:border-slate-700 px-6 py-4\">\n          <h3 className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">\n            {title}\n          </h3>\n        </div>\n      )}\n      <div className=\"card-body p-6\">\n        {children}\n      </div>\n    </div>\n  )\n}\n","import type { ReactNode } from 'react'\n\ntype StandardContentContainerProps = {\n  children: ReactNode\n  className?: string\n}\n\nexport default function StandardContentContainer({\n  children,\n  className = '',\n}: StandardContentContainerProps) {\n  return (\n    <div\n      className={`mx-auto flex w-full max-w-6xl flex-col px-4 ${className}`.trim()}\n    >\n      {children}\n    </div>\n  )\n}\n","'use client'\n\nimport React, { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { Button, LoadingSpinner, Card } from '@/lib/ui'\nimport type { ContentPage } from '@/lib/types/content'\nimport type { QuestionnaireStep, ContentPage as ManifestContentPage, FunnelContentManifest } from '@/lib/contracts/funnelManifest'\nimport MobileWelcomeScreen from '@/app/components/MobileWelcomeScreen'\nimport { ContentBlockRenderer } from '@/lib/components/content'\nimport StandardContentContainer from '@/app/components/StandardContentContainer'\nimport ContentContainer from '@/app/components/layout/ContentContainer'\n\ntype ManifestData = {\n  version: string\n  funnelId: string\n  algorithmVersion: string\n  promptVersion: string\n  steps: QuestionnaireStep[]\n  contentPages: ManifestContentPage[]\n  contentManifest: FunnelContentManifest\n}\n\ntype IntroPageClientProps = {\n  funnelSlug: string\n  manifestData: ManifestData | null\n  manifestError: string | null\n}\n\nexport default function IntroPageClient({ funnelSlug, manifestData, manifestError }: IntroPageClientProps) {\n  const router = useRouter()\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [introPage, setIntroPage] = useState<ContentPage | null>(null)\n  const [funnelTitle, setFunnelTitle] = useState<string>('')\n  const [funnelMeta, setFunnelMeta] = useState<{\n    title: string\n    subtitle: string | null\n    description: string | null\n  } | null>(null)\n  const [isMissingContent, setIsMissingContent] = useState(false)\n  const [useManifestRenderer, setUseManifestRenderer] = useState(false)\n\n  useEffect(() => {\n    if (manifestError) {\n      return\n    }\n\n    const loadIntroContent = async () => {\n      try {\n        setLoading(true)\n        setError(null)\n        setIsMissingContent(false)\n\n        // Load funnel definition to get title\n        const funnelResponse = await fetch(`/api/funnels/${funnelSlug}/definition`)\n        if (funnelResponse.ok) {\n          const funnelData = await funnelResponse.json()\n          setFunnelTitle(funnelData.title || 'Assessment')\n          setFunnelMeta({\n            title: funnelData.title || 'Assessment',\n            subtitle: funnelData.subtitle ?? null,\n            description: funnelData.description ?? null,\n          })\n        }\n\n        // V05-I06.5: Check if manifest has intro page content\n        if (manifestData?.contentManifest) {\n          const introPageInManifest = manifestData.contentManifest.pages.find(\n            (p) => p.slug === 'intro'\n          )\n          \n          if (introPageInManifest && introPageInManifest.sections.length > 0) {\n            // Use manifest-driven renderer\n            setUseManifestRenderer(true)\n            setLoading(false)\n            return\n          }\n        }\n\n        // Fallback: Load intro content page via Content Resolver (legacy path)\n        const response = await fetch(\n          `/api/content/resolve?funnel=${funnelSlug}&category=intro`,\n        )\n\n        if (!response.ok) {\n          // Missing content is optional: show a friendly state instead of error/redirect loops.\n          setIsMissingContent(true)\n          setIntroPage(null)\n          return\n        }\n\n        const data = await response.json()\n\n        if (data?.status === 'missing_content' || !data.page) {\n          setIsMissingContent(true)\n          setIntroPage(null)\n          return\n        }\n\n        setIntroPage(data.page)\n      } catch (err) {\n        console.error('[INTRO_PAGE_LOAD_FAILED]')\n        setError('Intro-Inhalt konnte nicht geladen werden.')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    loadIntroContent()\n  }, [funnelSlug, router, manifestData, manifestError])\n\n  const handleStartAssessment = () => {\n    // Add skipIntro parameter to avoid redirect loop\n    // startOver=true forces a fresh assessment instance\n    router.push(`/patient/funnel/${funnelSlug}?skipIntro=true&startOver=true`)\n  }\n\n  // V05-I06.5: Handle manifest error (422 - invalid manifest)\n  if (manifestError) {\n    return (\n      <main className=\"flex items-center justify-center bg-muted py-20 px-4\">\n        <Card padding=\"lg\" radius=\"xl\" className=\"w-full max-w-md\" border={true}>\n          <div className=\"text-4xl mb-4\">⚠️</div>\n          <h2 className=\"text-xl font-bold mb-2 text-red-700\">\n            Konfigurationsfehler\n          </h2>\n          <p className=\"mb-4 text-neutral-700\">\n            {manifestError}\n          </p>\n          <Button variant=\"primary\" fullWidth onClick={() => router.push('/patient/funnels')}>\n            Zurück zur Übersicht\n          </Button>\n        </Card>\n      </main>\n    )\n  }\n\n  // Loading state\n  if (loading) {\n    return <LoadingSpinner size=\"lg\" text=\"Bitte warten…\" centered />\n  }\n\n  // V05-I06.5: Render manifest-driven content if available\n  if (useManifestRenderer && manifestData?.contentManifest) {\n    const handleBlockTypeError = (blockType: string, sectionKey: string) => {\n      console.error(`[INTRO_PAGE] Unsupported block type: ${blockType} in section ${sectionKey}`)\n      // PHI-free logging only - don't expose to user\n    }\n\n    return (\n      <main className=\"min-h-screen bg-muted\">\n        {/* V05-I06.5: Manifest-driven content renderer */}\n        <StandardContentContainer className=\"py-8\">\n          <ContentBlockRenderer\n            manifest={manifestData.contentManifest}\n            pageSlug=\"intro\"\n            onBlockTypeError={handleBlockTypeError}\n          />\n        </StandardContentContainer>\n        \n        {/* CTA Button */}\n        <div className=\"bg-white border-t border-slate-200\">\n          <StandardContentContainer className=\"py-6\">\n            <Button\n              variant=\"primary\"\n              size=\"lg\"\n              fullWidth\n              onClick={handleStartAssessment}\n            >\n              Assessment starten\n            </Button>\n          </StandardContentContainer>\n        </div>\n\n        {/* Manifest Info Display - Only visible if manifest loaded successfully */}\n        {manifestData && (\n          <div className=\"bg-slate-50 px-4 py-6\">\n            <StandardContentContainer>\n              <div className=\"bg-white border border-slate-200 rounded-lg p-4 shadow-sm\">\n                <h3 className=\"text-sm font-semibold text-slate-900 mb-3\">\n                  📋 Funnel-Konfiguration (Version {manifestData.version})\n                </h3>\n                \n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-slate-600\">Assessment-Schritte:</span>\n                    <span className=\"font-medium text-slate-900\">{manifestData.steps.length}</span>\n                  </div>\n                  \n                  <div className=\"flex justify-between\">\n                    <span className=\"text-slate-600\">Algorithmus-Version:</span>\n                    <span className=\"font-mono text-xs text-slate-900\">{manifestData.algorithmVersion}</span>\n                  </div>\n                  \n                  <div className=\"flex justify-between\">\n                    <span className=\"text-slate-600\">Prompt-Version:</span>\n                    <span className=\"font-mono text-xs text-slate-900\">{manifestData.promptVersion}</span>\n                  </div>\n                </div>\n                \n                {/* Step List */}\n                <details className=\"mt-4\">\n                  <summary className=\"cursor-pointer text-sm font-medium text-slate-700 hover:text-slate-900\">\n                    Schritte anzeigen ({manifestData.steps.length})\n                  </summary>\n                  <ul className=\"mt-2 space-y-1 pl-4\">\n                    {manifestData.steps.map((step, index) => (\n                      <li key={step.id} className=\"text-sm text-slate-600\">\n                        {index + 1}. {step.title}\n                        {step.questions && (\n                          <span className=\"text-xs text-slate-500 ml-2\">\n                            ({step.questions.length} Fragen)\n                          </span>\n                        )}\n                      </li>\n                    ))}\n                  </ul>\n                </details>\n\n                {/* Content Pages from Manifest */}\n                {manifestData.contentPages && manifestData.contentPages.length > 0 && (\n                  <details className=\"mt-3\">\n                    <summary className=\"cursor-pointer text-sm font-medium text-slate-700 hover:text-slate-900\">\n                      Content Pages ({manifestData.contentPages.length})\n                    </summary>\n                    <ul className=\"mt-2 space-y-1 pl-4\">\n                      {manifestData.contentPages.map((page) => (\n                        <li key={page.slug} className=\"text-sm text-slate-600\">\n                          📄 {page.title}\n                          <span className=\"text-xs text-slate-500 ml-2\">({page.slug})</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </details>\n                )}\n              </div>\n            </StandardContentContainer>\n          </div>\n        )}\n      </main>\n    )\n  }\n\n  // Error state or no intro page\n  if (isMissingContent && !introPage) {\n    const title = funnelMeta?.title || funnelTitle || 'Assessment'\n    const subtitle = funnelMeta?.subtitle\n    const description = funnelMeta?.description\n\n    return (\n      <main className=\"min-h-screen bg-muted\">\n        <ContentContainer className=\"px-4 py-10\">\n          <Card\n            data-testid=\"intro-missing-content-fallback\"\n            padding=\"lg\"\n            radius=\"xl\"\n            className=\"w-full min-w-[320px]\"\n          >\n            <h1 className=\"text-2xl sm:text-3xl font-bold text-foreground\">\n              {title}\n            </h1>\n            {subtitle && (\n              <p className=\"mt-2 text-base sm:text-lg text-neutral-700\">\n                {subtitle}\n              </p>\n            )}\n            {description && (\n              <div className=\"prose max-w-none mt-4 text-neutral-700\">\n                <p>{description}</p>\n              </div>\n            )}\n\n            {!description && (\n              <p className=\"mt-4 text-base text-neutral-700\">\n                Inhalt ist noch nicht verfügbar.\n              </p>\n            )}\n\n            <Button\n              variant=\"primary\"\n              size=\"lg\"\n              fullWidth\n              onClick={handleStartAssessment}\n              className=\"mt-6\"\n            >\n              Direkt zum Assessment\n            </Button>\n          </Card>\n        </ContentContainer>\n      </main>\n    )\n  }\n\n  if (error || !introPage) {\n    return (\n      <main className=\"flex items-center justify-center bg-muted py-20 px-4\">\n        <Card padding=\"lg\" radius=\"xl\" className=\"w-full max-w-md\">\n          <p className=\"mb-4 text-neutral-700\">\n            {error || 'Intro-Seite konnte nicht geladen werden.'}\n          </p>\n          <Button variant=\"primary\" fullWidth onClick={handleStartAssessment}>\n            Direkt zum Assessment\n          </Button>\n        </Card>\n      </main>\n    )\n  }\n\n  // Extract bullet points from markdown content if available\n  const bulletPoints = extractBulletPoints(introPage.body_markdown)\n\n  // If manifest data is available, add manifest info to bullet points\n  const enhancedBulletPoints = manifestData \n    ? [\n        ...bulletPoints.slice(0, 3), // Keep first 3 original points\n        `${manifestData.steps.length} Schritte im Assessment`,\n      ]\n    : bulletPoints\n\n  return (\n    <>\n      <MobileWelcomeScreen\n        title={introPage.title}\n        subtitle={funnelTitle}\n        description={introPage.excerpt || undefined}\n        bulletPoints={enhancedBulletPoints}\n        ctaLabel=\"Assessment starten\"\n        onContinue={handleStartAssessment}\n        isLoading={false}\n      />\n      \n      {/* Manifest Info Display - Only visible if manifest loaded successfully */}\n      {manifestData && (\n        <div className=\"bg-slate-50 py-6\">\n          <StandardContentContainer>\n            <div className=\"bg-white border border-slate-200 rounded-lg p-4 shadow-sm\">\n              <h3 className=\"text-sm font-semibold text-slate-900 mb-3\">\n                📋 Funnel-Konfiguration (Version {manifestData.version})\n              </h3>\n              \n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-slate-600\">Assessment-Schritte:</span>\n                  <span className=\"font-medium text-slate-900\">{manifestData.steps.length}</span>\n                </div>\n                \n                <div className=\"flex justify-between\">\n                  <span className=\"text-slate-600\">Algorithmus-Version:</span>\n                  <span className=\"font-mono text-xs text-slate-900\">{manifestData.algorithmVersion}</span>\n                </div>\n                \n                <div className=\"flex justify-between\">\n                  <span className=\"text-slate-600\">Prompt-Version:</span>\n                  <span className=\"font-mono text-xs text-slate-900\">{manifestData.promptVersion}</span>\n                </div>\n              </div>\n              \n              {/* Step List */}\n              <details className=\"mt-4\">\n                <summary className=\"cursor-pointer text-sm font-medium text-slate-700 hover:text-slate-900\">\n                  Schritte anzeigen ({manifestData.steps.length})\n                </summary>\n                <ul className=\"mt-2 space-y-1 pl-4\">\n                  {manifestData.steps.map((step, index) => (\n                    <li key={step.id} className=\"text-sm text-slate-600\">\n                      {index + 1}. {step.title}\n                      {step.questions && (\n                        <span className=\"text-xs text-slate-500 ml-2\">\n                          ({step.questions.length} Fragen)\n                        </span>\n                      )}\n                    </li>\n                  ))}\n                </ul>\n              </details>\n\n              {/* Content Pages from Manifest */}\n              {manifestData.contentPages && manifestData.contentPages.length > 0 && (\n                <details className=\"mt-3\">\n                  <summary className=\"cursor-pointer text-sm font-medium text-slate-700 hover:text-slate-900\">\n                    Content Pages ({manifestData.contentPages.length})\n                  </summary>\n                  <ul className=\"mt-2 space-y-1 pl-4\">\n                    {manifestData.contentPages.map((page) => (\n                      <li key={page.slug} className=\"text-sm text-slate-600\">\n                        📄 {page.title}\n                        <span className=\"text-xs text-slate-500 ml-2\">({page.slug})</span>\n                      </li>\n                    ))}\n                  </ul>\n                </details>\n              )}\n            </div>\n          </StandardContentContainer>\n        </div>\n      )}\n\n      {/* Manifest Error Display */}\n      {manifestError && (\n        <div className=\"bg-red-50 py-4\">\n          <StandardContentContainer>\n            <div className=\"bg-red-100 border border-red-300 rounded-lg p-4\">\n              <p className=\"text-sm font-medium text-red-900\">⚠️ Manifest-Fehler</p>\n              <p className=\"text-sm text-red-700 mt-1\">{manifestError}</p>\n            </div>\n          </StandardContentContainer>\n        </div>\n      )}\n    </>\n  )\n}\n\n/**\n * Extract bullet points from markdown content\n * Looks for lines starting with \"- \" or \"* \"\n */\nfunction extractBulletPoints(markdown: string): string[] {\n  if (!markdown) return []\n  \n  const lines = markdown.split('\\n')\n  const bulletPoints: string[] = []\n  \n  for (const line of lines) {\n    const trimmed = line.trim()\n    // Match lines starting with - or * followed by space\n    if (trimmed.match(/^[-*]\\s+(.+)$/)) {\n      const content = trimmed.replace(/^[-*]\\s+/, '').trim()\n      if (content) {\n        bulletPoints.push(content)\n      }\n    }\n  }\n  \n  // If no bullet points found, provide default ones\n  if (bulletPoints.length === 0) {\n    return [\n      'Beantworten Sie Fragen zu Ihrem aktuellen Stresslevel',\n      'Erhalten Sie eine persönliche Auswertung',\n      'Entdecken Sie Ihre Resilienzfaktoren',\n    ]\n  }\n  \n  return bulletPoints\n}\n\n\n","'use client'\n\nimport React from 'react'\nimport { spacing, typography, radii, shadows, colors, componentTokens } from '@/lib/design-tokens'\nimport MobileHeader from './MobileHeader'\n\nexport type MobileWelcomeScreenProps = {\n  title: string\n  subtitle?: string\n  description?: string\n  bulletPoints?: string[]\n  ctaLabel?: string\n  onContinue: () => void\n  isLoading?: boolean\n}\n\n/**\n * MobileWelcomeScreen Component\n * \n * A mobile-first welcome/intro screen with clean, modern design.\n * Optimized for 360-430px viewport widths.\n * \n * Features:\n * - Illustration placeholder\n * - Title and subtitle\n * - Bullet point list\n * - Primary CTA button\n * - Responsive layout using design tokens\n */\nexport default function MobileWelcomeScreen({\n  title,\n  subtitle,\n  description,\n  bulletPoints = [],\n  ctaLabel = 'Assessment starten',\n  onContinue,\n  isLoading = false,\n}: MobileWelcomeScreenProps) {\n  const navTokens = componentTokens.navigationButton\n  const infoTokens = componentTokens.infoBox\n\n  return (\n    <div \n      className=\"min-h-screen\"\n      style={{\n        background: `linear-gradient(to bottom, ${colors.primary[50]}, ${colors.background.light}, ${colors.neutral[50]})`,\n      }}\n    >\n      {/* Mobile Header */}\n      <MobileHeader\n        variant=\"with-title\"\n        title={title}\n        subtitle=\"Rhythmologicum Connect\"\n        showBack={true}\n      />\n\n      {/* Main Content - Scrollable */}\n      <main className=\"px-4 sm:px-6 lg:px-8 py-6\" style={{\n        paddingBottom: 'calc(6rem + env(safe-area-inset-bottom))',\n      }}>\n        <div className=\"w-full max-w-5xl mx-auto\">\n          \n          {/* Illustration Placeholder */}\n          <div \n            className=\"mb-8 flex items-center justify-center overflow-hidden\"\n            style={{ \n              height: '240px',\n              borderRadius: radii['2xl'],\n              border: `1px solid ${colors.primary[200]}`,\n              background: `linear-gradient(to bottom right, ${colors.primary[100]}, ${colors.primary[50]})`,\n            }}\n          >\n            <div className=\"text-center\">\n              <div className=\"text-6xl mb-3\">🧘‍♀️</div>\n              <p \n                className=\"font-medium\"\n                style={{ \n                  fontSize: typography.fontSize.sm,\n                  color: colors.primary[700],\n                }}\n              >\n                Rhythmologicum Connect\n              </p>\n            </div>\n          </div>\n\n          {/* Subtitle Badge */}\n          {subtitle && (\n            <div className=\"mb-4\">\n              <span \n                className=\"inline-block bg-primary-600 text-white font-semibold uppercase tracking-wide\"\n                style={{\n                  fontSize: typography.fontSize.xs,\n                  padding: `${spacing.xs} ${spacing.md}`,\n                  borderRadius: radii.full,\n                }}\n              >\n                {subtitle}\n              </span>\n            </div>\n          )}\n\n          {/* Title */}\n          <h1 \n            className=\"font-bold text-slate-900 mb-4 leading-tight\"\n            style={{ \n              fontSize: typography.fontSize['3xl'],\n              lineHeight: typography.lineHeight.tight,\n            }}\n          >\n            {title}\n          </h1>\n\n          {/* Description */}\n          {description && (\n            <p \n              className=\"text-slate-600 mb-6\"\n              style={{ \n                fontSize: typography.fontSize.base,\n                lineHeight: typography.lineHeight.relaxed,\n              }}\n            >\n              {description}\n            </p>\n          )}\n\n          {/* Info Cards Grid */}\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-6\">\n            {/* Duration Card */}\n            <div \n              className=\"bg-white border border-slate-200\"\n              style={{ \n                padding: spacing.md,\n                borderRadius: radii.lg,\n                boxShadow: shadows.sm,\n              }}\n            >\n              <div className=\"text-center\">\n                <div className=\"text-3xl mb-2\">⏱️</div>\n                <p \n                  className=\"font-semibold text-slate-900 mb-1\"\n                  style={{ fontSize: typography.fontSize.sm }}\n                >\n                  Dauer\n                </p>\n                <p \n                  className=\"text-slate-600\"\n                  style={{ fontSize: typography.fontSize.xs }}\n                >\n                  5-10 Min\n                </p>\n              </div>\n            </div>\n\n            {/* Privacy Card */}\n            <div \n              className=\"bg-white border border-slate-200\"\n              style={{ \n                padding: spacing.md,\n                borderRadius: radii.lg,\n                boxShadow: shadows.sm,\n              }}\n            >\n              <div className=\"text-center\">\n                <div className=\"text-3xl mb-2\">🔒</div>\n                <p \n                  className=\"font-semibold text-slate-900 mb-1\"\n                  style={{ fontSize: typography.fontSize.sm }}\n                >\n                  Sicher\n                </p>\n                <p \n                  className=\"text-slate-600\"\n                  style={{ fontSize: typography.fontSize.xs }}\n                >\n                  Vertraulich\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Bullet Points List */}\n          {bulletPoints.length > 0 && (\n            <div \n              className=\"bg-white border border-slate-200 mb-6\"\n              style={{ \n                padding: spacing.lg,\n                borderRadius: radii.xl,\n                boxShadow: shadows.sm,\n              }}\n            >\n              <h2 \n                className=\"font-semibold text-slate-900 mb-4 flex items-center gap-2\"\n                style={{ fontSize: typography.fontSize.lg }}\n              >\n                <span className=\"text-primary-600\">✓</span>\n                Was Sie erwartet\n              </h2>\n              <ul className=\"space-y-3\">\n                {bulletPoints.map((point, index) => (\n                  <li \n                    key={index}\n                    className=\"flex items-start gap-3\"\n                  >\n                    <span \n                      className=\"shrink-0 bg-primary-100 text-primary-700 font-semibold flex items-center justify-center\"\n                      style={{\n                        width: '24px',\n                        height: '24px',\n                        borderRadius: radii.full,\n                        fontSize: typography.fontSize.xs,\n                      }}\n                    >\n                      {index + 1}\n                    </span>\n                    <p \n                      className=\"text-slate-700 flex-1\"\n                      style={{ \n                        fontSize: typography.fontSize.sm,\n                        lineHeight: typography.lineHeight.relaxed,\n                      }}\n                    >\n                      {point}\n                    </p>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          {/* Info Note */}\n          <div \n            className=\"bg-primary-50 border border-primary-200 mb-6\"\n            style={{ \n              padding: infoTokens.padding,\n              borderRadius: infoTokens.borderRadius,\n            }}\n          >\n            <div className=\"flex items-start gap-3\">\n              <span className=\"text-lg shrink-0\">ℹ️</span>\n              <p \n                className=\"text-primary-900 flex-1\"\n                style={{ \n                  fontSize: infoTokens.fontSize,\n                  lineHeight: infoTokens.lineHeight,\n                }}\n              >\n                Nehmen Sie sich Zeit für die Beantwortung. Es gibt keine richtigen oder falschen Antworten.\n              </p>\n            </div>\n          </div>\n\n          {/* CTA Button - Now inline with content */}\n          <div className=\"mt-8\">\n            <button\n              type=\"button\"\n              onClick={onContinue}\n              disabled={isLoading}\n              className=\"w-full bg-sky-600 text-white font-semibold hover:bg-sky-700 disabled:opacity-60 disabled:cursor-not-allowed active:scale-98 flex items-center justify-center gap-2\"\n              style={{\n                padding: `${navTokens.paddingY} ${navTokens.paddingX}`,\n                borderRadius: navTokens.borderRadius,\n                minHeight: navTokens.minHeight,\n                boxShadow: navTokens.shadow,\n                fontSize: navTokens.fontSize,\n                fontWeight: navTokens.fontWeight,\n                transition: navTokens.transition,\n              }}\n            >\n              {isLoading ? (\n                <>\n                  <svg\n                    className=\"animate-spin h-5 w-5\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <circle\n                      className=\"opacity-25\"\n                      cx=\"12\"\n                      cy=\"12\"\n                      r=\"10\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"4\"\n                    />\n                    <path\n                      className=\"opacity-75\"\n                      fill=\"currentColor\"\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    />\n                  </svg>\n                  Bitte warten...\n                </>\n              ) : (\n                <>\n                  {ctaLabel} →\n                </>\n              )}\n            </button>\n          </div>\n\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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AA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACH,GA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","ignoreList":[1,3]}