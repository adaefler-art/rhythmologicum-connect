{"version":3,"sources":["turbopack:///[project]/node_modules/styled-jsx/dist/index/index.js","turbopack:///[project]/node_modules/styled-jsx/style.js","turbopack:///[project]/apps/rhythm-patient-ui/app/patient/funnel/[slug]/client.tsx","turbopack:///[project]/lib/types/funnel.ts","turbopack:///[project]/app/components/QuestionStepRenderer.tsx","turbopack:///[project]/app/components/MobileQuestionScreen.tsx","turbopack:///[project]/app/components/SliderAnswerComponent.tsx","turbopack:///[project]/app/components/InfoStepRenderer.tsx","turbopack:///[project]/app/components/ContentPageStepRenderer.tsx","turbopack:///[project]/app/components/AssessmentProgress.tsx","turbopack:///[project]/app/components/AssessmentNavigationController.tsx","turbopack:///[project]/app/components/PatientFlowRenderer.tsx","turbopack:///[project]/lib/logging/clientLogger.ts"],"sourcesContent":["require('client-only');\nvar React = require('react');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n/*\nBased on Glamor's sheet\nhttps://github.com/threepointone/glamor/blob/667b480d31b3721a905021b26e1290ce92ca2879/src/sheet.js\n*/ function _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nvar isProd = typeof process !== \"undefined\" && process.env && process.env.NODE_ENV === \"production\";\nvar isString = function(o) {\n    return Object.prototype.toString.call(o) === \"[object String]\";\n};\nvar StyleSheet = /*#__PURE__*/ function() {\n    function StyleSheet(param) {\n        var ref = param === void 0 ? {} : param, _name = ref.name, name = _name === void 0 ? \"stylesheet\" : _name, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? isProd : _optimizeForSpeed;\n        invariant$1(isString(name), \"`name` must be a string\");\n        this._name = name;\n        this._deletedRulePlaceholder = \"#\" + name + \"-deleted-rule____{}\";\n        invariant$1(typeof optimizeForSpeed === \"boolean\", \"`optimizeForSpeed` must be a boolean\");\n        this._optimizeForSpeed = optimizeForSpeed;\n        this._serverSheet = undefined;\n        this._tags = [];\n        this._injected = false;\n        this._rulesCount = 0;\n        var node = typeof window !== \"undefined\" && document.querySelector('meta[property=\"csp-nonce\"]');\n        this._nonce = node ? node.getAttribute(\"content\") : null;\n    }\n    var _proto = StyleSheet.prototype;\n    _proto.setOptimizeForSpeed = function setOptimizeForSpeed(bool) {\n        invariant$1(typeof bool === \"boolean\", \"`setOptimizeForSpeed` accepts a boolean\");\n        invariant$1(this._rulesCount === 0, \"optimizeForSpeed cannot be when rules have already been inserted\");\n        this.flush();\n        this._optimizeForSpeed = bool;\n        this.inject();\n    };\n    _proto.isOptimizeForSpeed = function isOptimizeForSpeed() {\n        return this._optimizeForSpeed;\n    };\n    _proto.inject = function inject() {\n        var _this = this;\n        invariant$1(!this._injected, \"sheet already injected\");\n        this._injected = true;\n        if (typeof window !== \"undefined\" && this._optimizeForSpeed) {\n            this._tags[0] = this.makeStyleTag(this._name);\n            this._optimizeForSpeed = \"insertRule\" in this.getSheet();\n            if (!this._optimizeForSpeed) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: optimizeForSpeed mode not supported falling back to standard mode.\");\n                }\n                this.flush();\n                this._injected = true;\n            }\n            return;\n        }\n        this._serverSheet = {\n            cssRules: [],\n            insertRule: function(rule, index) {\n                if (typeof index === \"number\") {\n                    _this._serverSheet.cssRules[index] = {\n                        cssText: rule\n                    };\n                } else {\n                    _this._serverSheet.cssRules.push({\n                        cssText: rule\n                    });\n                }\n                return index;\n            },\n            deleteRule: function(index) {\n                _this._serverSheet.cssRules[index] = null;\n            }\n        };\n    };\n    _proto.getSheetForTag = function getSheetForTag(tag) {\n        if (tag.sheet) {\n            return tag.sheet;\n        }\n        // this weirdness brought to you by firefox\n        for(var i = 0; i < document.styleSheets.length; i++){\n            if (document.styleSheets[i].ownerNode === tag) {\n                return document.styleSheets[i];\n            }\n        }\n    };\n    _proto.getSheet = function getSheet() {\n        return this.getSheetForTag(this._tags[this._tags.length - 1]);\n    };\n    _proto.insertRule = function insertRule(rule, index) {\n        invariant$1(isString(rule), \"`insertRule` accepts only strings\");\n        if (typeof window === \"undefined\") {\n            if (typeof index !== \"number\") {\n                index = this._serverSheet.cssRules.length;\n            }\n            this._serverSheet.insertRule(rule, index);\n            return this._rulesCount++;\n        }\n        if (this._optimizeForSpeed) {\n            var sheet = this.getSheet();\n            if (typeof index !== \"number\") {\n                index = sheet.cssRules.length;\n            }\n            // this weirdness for perf, and chrome's weird bug\n            // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                return -1;\n            }\n        } else {\n            var insertionPoint = this._tags[index];\n            this._tags.push(this.makeStyleTag(this._name, rule, insertionPoint));\n        }\n        return this._rulesCount++;\n    };\n    _proto.replaceRule = function replaceRule(index, rule) {\n        if (this._optimizeForSpeed || typeof window === \"undefined\") {\n            var sheet = typeof window !== \"undefined\" ? this.getSheet() : this._serverSheet;\n            if (!rule.trim()) {\n                rule = this._deletedRulePlaceholder;\n            }\n            if (!sheet.cssRules[index]) {\n                // @TBD Should we throw an error?\n                return index;\n            }\n            sheet.deleteRule(index);\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                // In order to preserve the indices we insert a deleteRulePlaceholder\n                sheet.insertRule(this._deletedRulePlaceholder, index);\n            }\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"old rule at index `\" + index + \"` not found\");\n            tag.textContent = rule;\n        }\n        return index;\n    };\n    _proto.deleteRule = function deleteRule(index) {\n        if (typeof window === \"undefined\") {\n            this._serverSheet.deleteRule(index);\n            return;\n        }\n        if (this._optimizeForSpeed) {\n            this.replaceRule(index, \"\");\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"rule at index `\" + index + \"` not found\");\n            tag.parentNode.removeChild(tag);\n            this._tags[index] = null;\n        }\n    };\n    _proto.flush = function flush() {\n        this._injected = false;\n        this._rulesCount = 0;\n        if (typeof window !== \"undefined\") {\n            this._tags.forEach(function(tag) {\n                return tag && tag.parentNode.removeChild(tag);\n            });\n            this._tags = [];\n        } else {\n            // simpler on server\n            this._serverSheet.cssRules = [];\n        }\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        if (typeof window === \"undefined\") {\n            return this._serverSheet.cssRules;\n        }\n        return this._tags.reduce(function(rules, tag) {\n            if (tag) {\n                rules = rules.concat(Array.prototype.map.call(_this.getSheetForTag(tag).cssRules, function(rule) {\n                    return rule.cssText === _this._deletedRulePlaceholder ? null : rule;\n                }));\n            } else {\n                rules.push(null);\n            }\n            return rules;\n        }, []);\n    };\n    _proto.makeStyleTag = function makeStyleTag(name, cssString, relativeToTag) {\n        if (cssString) {\n            invariant$1(isString(cssString), \"makeStyleTag accepts only strings as second parameter\");\n        }\n        var tag = document.createElement(\"style\");\n        if (this._nonce) tag.setAttribute(\"nonce\", this._nonce);\n        tag.type = \"text/css\";\n        tag.setAttribute(\"data-\" + name, \"\");\n        if (cssString) {\n            tag.appendChild(document.createTextNode(cssString));\n        }\n        var head = document.head || document.getElementsByTagName(\"head\")[0];\n        if (relativeToTag) {\n            head.insertBefore(tag, relativeToTag);\n        } else {\n            head.appendChild(tag);\n        }\n        return tag;\n    };\n    _createClass(StyleSheet, [\n        {\n            key: \"length\",\n            get: function get() {\n                return this._rulesCount;\n            }\n        }\n    ]);\n    return StyleSheet;\n}();\nfunction invariant$1(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheet: \" + message + \".\");\n    }\n}\n\nfunction hash(str) {\n    var _$hash = 5381, i = str.length;\n    while(i){\n        _$hash = _$hash * 33 ^ str.charCodeAt(--i);\n    }\n    /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */ return _$hash >>> 0;\n}\nvar stringHash = hash;\n\nvar sanitize = function(rule) {\n    return rule.replace(/\\/style/gi, \"\\\\/style\");\n};\nvar cache = {};\n/**\n * computeId\n *\n * Compute and memoize a jsx id from a basedId and optionally props.\n */ function computeId(baseId, props) {\n    if (!props) {\n        return \"jsx-\" + baseId;\n    }\n    var propsToString = String(props);\n    var key = baseId + propsToString;\n    if (!cache[key]) {\n        cache[key] = \"jsx-\" + stringHash(baseId + \"-\" + propsToString);\n    }\n    return cache[key];\n}\n/**\n * computeSelector\n *\n * Compute and memoize dynamic selectors.\n */ function computeSelector(id, css) {\n    var selectoPlaceholderRegexp = /__jsx-style-dynamic-selector/g;\n    // Sanitize SSR-ed CSS.\n    // Client side code doesn't need to be sanitized since we use\n    // document.createTextNode (dev) and the CSSOM api sheet.insertRule (prod).\n    if (typeof window === \"undefined\") {\n        css = sanitize(css);\n    }\n    var idcss = id + css;\n    if (!cache[idcss]) {\n        cache[idcss] = css.replace(selectoPlaceholderRegexp, id);\n    }\n    return cache[idcss];\n}\n\nfunction mapRulesToStyle(cssRules, options) {\n    if (options === void 0) options = {};\n    return cssRules.map(function(args) {\n        var id = args[0];\n        var css = args[1];\n        return /*#__PURE__*/ React__default[\"default\"].createElement(\"style\", {\n            id: \"__\" + id,\n            // Avoid warnings upon render with a key\n            key: \"__\" + id,\n            nonce: options.nonce ? options.nonce : undefined,\n            dangerouslySetInnerHTML: {\n                __html: css\n            }\n        });\n    });\n}\nvar StyleSheetRegistry = /*#__PURE__*/ function() {\n    function StyleSheetRegistry(param) {\n        var ref = param === void 0 ? {} : param, _styleSheet = ref.styleSheet, styleSheet = _styleSheet === void 0 ? null : _styleSheet, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? false : _optimizeForSpeed;\n        this._sheet = styleSheet || new StyleSheet({\n            name: \"styled-jsx\",\n            optimizeForSpeed: optimizeForSpeed\n        });\n        this._sheet.inject();\n        if (styleSheet && typeof optimizeForSpeed === \"boolean\") {\n            this._sheet.setOptimizeForSpeed(optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    }\n    var _proto = StyleSheetRegistry.prototype;\n    _proto.add = function add(props) {\n        var _this = this;\n        if (undefined === this._optimizeForSpeed) {\n            this._optimizeForSpeed = Array.isArray(props.children);\n            this._sheet.setOptimizeForSpeed(this._optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        if (typeof window !== \"undefined\" && !this._fromServer) {\n            this._fromServer = this.selectFromServer();\n            this._instancesCounts = Object.keys(this._fromServer).reduce(function(acc, tagName) {\n                acc[tagName] = 0;\n                return acc;\n            }, {});\n        }\n        var ref = this.getIdAndRules(props), styleId = ref.styleId, rules = ref.rules;\n        // Deduping: just increase the instances count.\n        if (styleId in this._instancesCounts) {\n            this._instancesCounts[styleId] += 1;\n            return;\n        }\n        var indices = rules.map(function(rule) {\n            return _this._sheet.insertRule(rule);\n        })// Filter out invalid rules\n        .filter(function(index) {\n            return index !== -1;\n        });\n        this._indices[styleId] = indices;\n        this._instancesCounts[styleId] = 1;\n    };\n    _proto.remove = function remove(props) {\n        var _this = this;\n        var styleId = this.getIdAndRules(props).styleId;\n        invariant(styleId in this._instancesCounts, \"styleId: `\" + styleId + \"` not found\");\n        this._instancesCounts[styleId] -= 1;\n        if (this._instancesCounts[styleId] < 1) {\n            var tagFromServer = this._fromServer && this._fromServer[styleId];\n            if (tagFromServer) {\n                tagFromServer.parentNode.removeChild(tagFromServer);\n                delete this._fromServer[styleId];\n            } else {\n                this._indices[styleId].forEach(function(index) {\n                    return _this._sheet.deleteRule(index);\n                });\n                delete this._indices[styleId];\n            }\n            delete this._instancesCounts[styleId];\n        }\n    };\n    _proto.update = function update(props, nextProps) {\n        this.add(nextProps);\n        this.remove(props);\n    };\n    _proto.flush = function flush() {\n        this._sheet.flush();\n        this._sheet.inject();\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        var fromServer = this._fromServer ? Object.keys(this._fromServer).map(function(styleId) {\n            return [\n                styleId,\n                _this._fromServer[styleId]\n            ];\n        }) : [];\n        var cssRules = this._sheet.cssRules();\n        return fromServer.concat(Object.keys(this._indices).map(function(styleId) {\n            return [\n                styleId,\n                _this._indices[styleId].map(function(index) {\n                    return cssRules[index].cssText;\n                }).join(_this._optimizeForSpeed ? \"\" : \"\\n\")\n            ];\n        })// filter out empty rules\n        .filter(function(rule) {\n            return Boolean(rule[1]);\n        }));\n    };\n    _proto.styles = function styles(options) {\n        return mapRulesToStyle(this.cssRules(), options);\n    };\n    _proto.getIdAndRules = function getIdAndRules(props) {\n        var css = props.children, dynamic = props.dynamic, id = props.id;\n        if (dynamic) {\n            var styleId = computeId(id, dynamic);\n            return {\n                styleId: styleId,\n                rules: Array.isArray(css) ? css.map(function(rule) {\n                    return computeSelector(styleId, rule);\n                }) : [\n                    computeSelector(styleId, css)\n                ]\n            };\n        }\n        return {\n            styleId: computeId(id),\n            rules: Array.isArray(css) ? css : [\n                css\n            ]\n        };\n    };\n    /**\n   * selectFromServer\n   *\n   * Collects style tags from the document with id __jsx-XXX\n   */ _proto.selectFromServer = function selectFromServer() {\n        var elements = Array.prototype.slice.call(document.querySelectorAll('[id^=\"__jsx-\"]'));\n        return elements.reduce(function(acc, element) {\n            var id = element.id.slice(2);\n            acc[id] = element;\n            return acc;\n        }, {});\n    };\n    return StyleSheetRegistry;\n}();\nfunction invariant(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheetRegistry: \" + message + \".\");\n    }\n}\nvar StyleSheetContext = /*#__PURE__*/ React.createContext(null);\nStyleSheetContext.displayName = \"StyleSheetContext\";\nfunction createStyleRegistry() {\n    return new StyleSheetRegistry();\n}\nfunction StyleRegistry(param) {\n    var configuredRegistry = param.registry, children = param.children;\n    var rootRegistry = React.useContext(StyleSheetContext);\n    var ref = React.useState(function() {\n        return rootRegistry || configuredRegistry || createStyleRegistry();\n    }), registry = ref[0];\n    return /*#__PURE__*/ React__default[\"default\"].createElement(StyleSheetContext.Provider, {\n        value: registry\n    }, children);\n}\nfunction useStyleRegistry() {\n    return React.useContext(StyleSheetContext);\n}\n\n// Opt-into the new `useInsertionEffect` API in React 18, fallback to `useLayoutEffect`.\n// https://github.com/reactwg/react-18/discussions/110\nvar useInsertionEffect = React__default[\"default\"].useInsertionEffect || React__default[\"default\"].useLayoutEffect;\nvar defaultRegistry = typeof window !== \"undefined\" ? createStyleRegistry() : undefined;\nfunction JSXStyle(props) {\n    var registry = defaultRegistry ? defaultRegistry : useStyleRegistry();\n    // If `registry` does not exist, we do nothing here.\n    if (!registry) {\n        return null;\n    }\n    if (typeof window === \"undefined\") {\n        registry.add(props);\n        return null;\n    }\n    useInsertionEffect(function() {\n        registry.add(props);\n        return function() {\n            registry.remove(props);\n        };\n    // props.children can be string[], will be striped since id is identical\n    }, [\n        props.id,\n        String(props.dynamic)\n    ]);\n    return null;\n}\nJSXStyle.dynamic = function(info) {\n    return info.map(function(tagInfo) {\n        var baseId = tagInfo[0];\n        var props = tagInfo[1];\n        return computeId(baseId, props);\n    }).join(\" \");\n};\n\nexports.StyleRegistry = StyleRegistry;\nexports.createStyleRegistry = createStyleRegistry;\nexports.style = JSXStyle;\nexports.useStyleRegistry = useStyleRegistry;\n","module.exports = require('./dist/index').style\n","'use client'\n\nimport { useEffect, useState, useCallback, useMemo } from 'react'\nimport { useRouter, useSearchParams } from 'next/navigation'\nimport { supabase } from '@/lib/supabaseClient'\nimport type { FunnelDefinition } from '@/lib/types/funnel'\nimport type { ContentPage } from '@/lib/types/content'\nimport { getIntroPages, getInfoPages } from '@/lib/utils/contentPageHelpers'\nimport PatientFlowRenderer, {\n  type AssessmentStatus,\n  type ValidationError,\n} from '@/app/components/PatientFlowRenderer'\nimport { LoadingSpinner, ErrorState } from '@/lib/ui'\nimport {\n  logAssessmentStarted,\n  logAssessmentResumed,\n  logAssessmentCompleted,\n  logStepNavigated,\n  logValidationError,\n  logErrorDisplayed,\n  logClientEvent,\n  ClientEventType,\n} from '@/lib/logging/clientLogger'\n\ntype RecoveryState = {\n  isRecovering: boolean\n  recoveryAttempt: number\n  recoveryMessage: string | null\n}\n\n// Guard to prevent infinite 404-fallback loops (max 1 fallback per mount)\nlet fallbackAttemptedThisMount = false\n\ntype FunnelClientProps = {\n  slug: string\n}\n\nexport default function FunnelClient({ slug }: FunnelClientProps) {\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const startOver = searchParams.get('startOver') === 'true'\n  const [startOverConsumed, setStartOverConsumed] = useState(false)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [funnel, setFunnel] = useState<FunnelDefinition | null>(null)\n  const [assessmentStatus, setAssessmentStatus] = useState<AssessmentStatus | null>(null)\n  const [answers, setAnswers] = useState<Record<string, number | string>>({})\n  const [validationErrors, setValidationErrors] = useState<ValidationError[]>([])\n  const [submitting, setSubmitting] = useState(false)\n  const [contentPages, setContentPages] = useState<ContentPage[]>([])\n  const [recovery, setRecovery] = useState<RecoveryState>({\n    isRecovering: false,\n    recoveryAttempt: 0,\n    recoveryMessage: null,\n  })\n\n  // Reset fallback guard on mount\n  useEffect(() => {\n    fallbackAttemptedThisMount = false\n    return () => {\n      fallbackAttemptedThisMount = false\n    }\n  }, [])\n\n  /**\n   * Create a new assessment via POST /api/funnels/{slug}/assessments\n   * Returns the new assessmentId or throws on error\n   */\n  const createAssessment = useCallback(async (): Promise<string> => {\n    const response = await fetch(`/api/funnels/${slug}/assessments`, {\n      method: 'POST',\n      credentials: 'include',\n    })\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}))\n      const errorCode = errorData.error?.code || 'UNKNOWN'\n      const errorMsg = errorData.error?.message || 'Assessment konnte nicht erstellt werden.'\n\n      // Log the failure\n      logClientEvent(ClientEventType.ASSESSMENT_CREATE_FAILED, {\n        slug,\n        errorCode,\n        httpStatus: response.status,\n      })\n\n      throw new Error(errorMsg)\n    }\n\n    const { data } = await response.json()\n    return data.assessmentId\n  }, [slug])\n\n  const loadExistingAnswers = useCallback(async (assessmentId: string, retryAttempt: number = 0) => {\n    const maxRetries = 2\n    const retryDelay = 1000\n\n    try {\n      const { data: answersData, error: answersError } = await supabase\n        .from('assessment_answers')\n        .select('question_id, answer_value')\n        .eq('assessment_id', assessmentId)\n\n      if (answersError) {\n        console.error('Error loading answers:', answersError)\n        \n        // Retry on error\n        if (retryAttempt < maxRetries) {\n          console.log(`Retrying answer load in ${retryDelay}ms (attempt ${retryAttempt + 1}/${maxRetries})`)\n          await new Promise((resolve) => setTimeout(resolve, retryDelay))\n          return loadExistingAnswers(assessmentId, retryAttempt + 1)\n        }\n        \n        // Don't throw - we can continue with empty answers\n        console.warn('Failed to load existing answers after retries, continuing with empty state')\n        return\n      }\n\n      if (answersData) {\n        const answersMap: Record<string, number> = {}\n        answersData.forEach((answer) => {\n          answersMap[answer.question_id] = answer.answer_value\n        })\n        setAnswers(answersMap)\n        \n        // Log successful resume if we have answers\n        if (Object.keys(answersMap).length > 0) {\n          console.info(`‚úÖ Resumed assessment with ${Object.keys(answersMap).length} existing answers`)\n          // Client-side event logging for assessment resume\n          logAssessmentResumed(assessmentId, slug, Object.keys(answersMap).length)\n        }\n      }\n    } catch (err) {\n      console.error('Error loading existing answers:', err)\n      // Don't throw - we can continue with empty answers\n    }\n  }, [slug])\n\n  const loadAssessmentStatus = useCallback(\n    async (assessmentId: string, retryAttempt: number = 0) => {\n      const maxRetries = 3\n      const retryDelay = Math.min(1000 * Math.pow(2, retryAttempt), 5000) // Exponential backoff, max 5s\n\n      try {\n        // Validate assessmentId before making the request\n        if (!assessmentId || typeof assessmentId !== 'string' || assessmentId.trim() === '') {\n          throw new Error('Ung√ºltige Assessment-ID.')\n        }\n\n        // Show recovery message on retry\n        if (retryAttempt > 0) {\n          setRecovery({\n            isRecovering: true,\n            recoveryAttempt: retryAttempt,\n            recoveryMessage: `Wiederherstellung l√§uft... (Versuch ${retryAttempt}/${maxRetries})`,\n          })\n        }\n\n        let response: Response\n        try {\n          response = await fetch(`/api/funnels/${slug}/assessments/${assessmentId}`, {\n            credentials: 'include',\n          })\n        } catch (fetchErr) {\n          // Network error or fetch failed\n          console.error('Network error during fetch:', fetchErr)\n\n          // Retry on network errors\n          if (retryAttempt < maxRetries) {\n            console.log(`Retrying in ${retryDelay}ms (attempt ${retryAttempt + 1}/${maxRetries})`)\n            await new Promise((resolve) => setTimeout(resolve, retryDelay))\n            return loadAssessmentStatus(assessmentId, retryAttempt + 1)\n          }\n\n          throw new Error(\n            'Der Fragebogen konnte nicht geladen werden. Bitte √ºberpr√ºfen Sie Ihre Internetverbindung und versuchen Sie es erneut.',\n          )\n        }\n\n        if (!response.ok) {\n          // Try to extract error message from response\n          let errorMessage = 'Assessment-Status konnte nicht geladen werden.'\n          let errorCode = 'UNKNOWN'\n          try {\n            const errorData = await response.json()\n            if (errorData.error?.message) {\n              errorMessage = errorData.error.message\n            }\n            if (errorData.error?.code) {\n              errorCode = errorData.error.code\n            }\n          } catch {\n            // If JSON parsing fails, use default message\n          }\n\n          if (response.status === 404) {\n            // 404 = Assessment not found. Try to create a new one (fallback)\n            // Guard: only attempt fallback once per mount to prevent loops\n            if (!fallbackAttemptedThisMount) {\n              fallbackAttemptedThisMount = true\n\n              console.warn('[FunnelClient] Assessment not found (404), attempting fallback create', {\n                staleAssessmentId: assessmentId,\n                slug,\n              })\n\n              // Log telemetry for the fallback\n              logClientEvent(ClientEventType.ASSESSMENT_404_FALLBACK, {\n                slug,\n                staleAssessmentId: assessmentId,\n                errorCode,\n              })\n\n              try {\n                // Create new assessment\n                const newAssessmentId = await createAssessment()\n\n                console.info('[FunnelClient] Fallback successful, created new assessment', {\n                  oldAssessmentId: assessmentId,\n                  newAssessmentId,\n                  slug,\n                })\n\n                // Log telemetry for successful recovery\n                logClientEvent(ClientEventType.ASSESSMENT_404_RECOVERED, {\n                  slug,\n                  oldAssessmentId: assessmentId,\n                  newAssessmentId,\n                })\n\n                // Log assessment start\n                logAssessmentStarted(newAssessmentId, slug)\n\n                // Recursively load the new assessment status\n                return loadAssessmentStatus(newAssessmentId, 0)\n              } catch (createErr) {\n                console.error('[FunnelClient] Fallback create failed:', createErr)\n                // Fall through to throw the original 404 error\n              }\n            } else {\n              console.warn('[FunnelClient] 404 fallback already attempted, not retrying')\n            }\n\n            throw new Error('Assessment nicht gefunden. M√∂glicherweise wurde es gel√∂scht.')\n          } else if (response.status === 401 || response.status === 403) {\n            // Auth errors - do NOT fallback, just throw\n            throw new Error(errorMessage)\n          } else if (response.status >= 500) {\n            // Retry on server errors\n            if (retryAttempt < maxRetries) {\n              console.log(\n                `Server error, retrying in ${retryDelay}ms (attempt ${retryAttempt + 1}/${maxRetries})`,\n              )\n              await new Promise((resolve) => setTimeout(resolve, retryDelay))\n              return loadAssessmentStatus(assessmentId, retryAttempt + 1)\n            }\n            throw new Error('Server-Fehler beim Laden des Assessment-Status. Bitte versuchen Sie es sp√§ter erneut.')\n          } else {\n            throw new Error(errorMessage)\n          }\n        }\n\n        const { data } = await response.json()\n\n        // Validate AssessmentStatus structure\n        if (!data || typeof data !== 'object') {\n          throw new Error('Ung√ºltige Antwort vom Server: Keine Daten erhalten.')\n        }\n\n        if (!data.assessmentId || typeof data.assessmentId !== 'string') {\n          throw new Error('Ung√ºltige Antwort vom Server: AssessmentId fehlt.')\n        }\n\n        if (!data.currentStep || typeof data.currentStep !== 'object') {\n          throw new Error('Ung√ºltige Antwort vom Server: CurrentStep fehlt.')\n        }\n\n        if (!data.currentStep.stepId || typeof data.currentStep.stepIndex !== 'number') {\n          throw new Error('Ung√ºltige Antwort vom Server: CurrentStep ist unvollst√§ndig.')\n        }\n\n        if (typeof data.totalSteps !== 'number') {\n          throw new Error('Ung√ºltige Antwort vom Server: TotalSteps fehlt.')\n        }\n\n        setAssessmentStatus(data)\n\n        // Load existing answers with retry\n        await loadExistingAnswers(assessmentId, 0)\n\n        // Clear recovery state on success\n        setRecovery({\n          isRecovering: false,\n          recoveryAttempt: 0,\n          recoveryMessage: null,\n        })\n\n        setLoading(false)\n      } catch (err) {\n        console.error('Error loading assessment status:', err)\n        const errorMsg = err instanceof Error ? err.message : 'Fehler beim Laden des Assessment-Status.'\n        setError(errorMsg)\n        setRecovery({\n          isRecovering: false,\n          recoveryAttempt: 0,\n          recoveryMessage: null,\n        })\n        setLoading(false)\n        throw err // Re-throw so caller knows it failed\n      }\n    },\n    [createAssessment, loadExistingAnswers, slug],\n  )\n\n\n  // Load funnel definition\n  useEffect(() => {\n    const loadFunnelData = async () => {\n      try {\n        const response = await fetch(`/api/funnels/${slug}/definition`)\n        \n        // V05-FIXOPT-01: Handle 404 gracefully for \"coming soon\" funnels\n        if (response.status === 404) {\n          setError('not_available')\n          setLoading(false)\n          return\n        }\n        \n        if (!response.ok) {\n          throw new Error('Funnel konnte nicht geladen werden.')\n        }\n        const data: FunnelDefinition = await response.json()\n\n        // V0.5 wiring: If funnel exists but has no questionnaire steps, treat as \"coming soon\"\n        // without depending on 404 semantics.\n        if (!data.steps || data.steps.length === 0) {\n          setError('not_available')\n          setLoading(false)\n          return\n        }\n        setFunnel(data)\n      } catch (err) {\n        console.error('Error loading funnel:', err)\n        setError('Fehler beim Laden des Funnels. Bitte versuchen Sie es erneut.')\n        setLoading(false)\n      }\n    }\n    loadFunnelData()\n  }, [slug])\n\n  // Load content pages for this funnel (V05-FIXOPT-01: Only if funnel definition exists)\n  useEffect(() => {\n    // Skip loading content pages if funnel is not available\n    if (error === 'not_available') return\n    \n    const loadContentPages = async () => {\n      try {\n        const response = await fetch(`/api/funnels/${slug}/content-pages`)\n        if (response.ok) {\n          const pages: ContentPage[] = await response.json()\n          setContentPages(pages)\n        }\n        // V05-FIXOPT-01: Don't log 404 as error - content pages are optional\n      } catch (err) {\n        console.error('Error loading content pages:', err)\n        // Non-critical error, don't block the funnel\n      }\n    }\n    loadContentPages()\n  }, [slug, error])\n\n  // Handle page visibility changes for better recovery\n  // When user returns to tab, refresh status to ensure consistency\n  useEffect(() => {\n    if (!assessmentStatus?.assessmentId) return\n\n    const handleVisibilityChange = () => {\n      if (document.visibilityState === 'visible' && assessmentStatus) {\n        console.info('üì± Page became visible, refreshing assessment status')\n        // Silently refresh status in background without showing loading state\n        loadAssessmentStatus(assessmentStatus.assessmentId).catch((err) => {\n          console.warn('Failed to refresh status on visibility change:', err)\n          // Don't show error to user - they can continue with current state\n        })\n      }\n    }\n\n    document.addEventListener('visibilitychange', handleVisibilityChange)\n    return () => {\n      document.removeEventListener('visibilitychange', handleVisibilityChange)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [assessmentStatus?.assessmentId])\n\n  // Bootstrap assessment once funnel is loaded\n  useEffect(() => {\n    const initAssessment = async () => {\n      try {\n        setLoading(true)\n        setError(null)\n\n        // Get user and patient profile\n        const {\n          data: { user },\n        } = await supabase.auth.getUser()\n        if (!user) {\n          router.push('/')\n          return\n        }\n\n        const { data: profileData, error: profileError } = await supabase\n          .from('patient_profiles')\n          .select('id')\n          .eq('user_id', user.id)\n          .single()\n\n        if (profileError || !profileData) {\n          throw new Error('Benutzerprofil konnte nicht geladen werden.')\n        }\n\n        // Check for existing in_progress assessment unless startOver is requested\n        if (!startOver || startOverConsumed) {\n          const { data: existingAssessments } = await supabase\n            .from('assessments')\n            .select('id, status, completed_at')\n            .eq('patient_id', profileData.id)\n            .eq('funnel', slug)\n            .order('started_at', { ascending: false })\n            .limit(1)\n\n          // If an in-progress assessment exists, resume it; otherwise start a new one\n          if (existingAssessments && existingAssessments.length > 0) {\n            const latest = existingAssessments[0]\n\n            if (latest.status === 'in_progress') {\n              await loadAssessmentStatus(latest.id)\n              return\n            }\n\n            // For completed assessments, always start a fresh assessment instead of redirecting to result\n            // so users can take the test again without manual query params.\n          }\n        }\n\n        // Start new assessment via API\n        const response = await fetch(`/api/funnels/${slug}/assessments`, {\n          method: 'POST',\n          credentials: 'include',\n        })\n\n        if (!response.ok) {\n          throw new Error('Assessment konnte nicht gestartet werden.')\n        }\n\n        const { data } = await response.json()\n        \n        // Log assessment start\n        logAssessmentStarted(data.assessmentId, slug)\n\n        if (startOver && !startOverConsumed) {\n          setStartOverConsumed(true)\n          router.replace(`/patient/funnel/${slug}?skipIntro=true`)\n        }\n        \n        await loadAssessmentStatus(data.assessmentId)\n      } catch (err) {\n        console.error('Error bootstrapping assessment:', err)\n        setError(err instanceof Error ? err.message : 'Fehler beim Starten des Assessments.')\n        setLoading(false)\n      }\n    }\n\n    if (funnel) {\n      initAssessment()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [funnel, slug])\n\n  const handleAnswerChange = useCallback(async (questionId: string, value: number | string, retryAttempt: number = 0) => {\n    if (!assessmentStatus || !funnel) return\n\n    const maxRetries = 2\n    const retryDelay = 1000\n\n    // Update local state immediately for UI responsiveness\n    setAnswers((prev) => ({\n      ...prev,\n      [questionId]: value,\n    }))\n    setValidationErrors((prev) => prev.filter((err) => err.questionId !== questionId))\n    setError(null)\n\n    // Save to server with retry logic\n    try {\n      const currentStep = funnel.steps.find((s) => s.id === assessmentStatus.currentStep.stepId)\n      if (!currentStep) return\n\n      const response = await fetch(\n        `/api/funnels/${slug}/assessments/${assessmentStatus.assessmentId}/answers/save`,\n        {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          credentials: 'include',\n          body: JSON.stringify({\n            stepId: currentStep.id,\n            questionId,\n            answerValue: value,\n          }),\n        },\n      )\n\n      if (!response.ok) {\n        // Retry on server errors\n        if ((response.status >= 500 || response.status === 0) && retryAttempt < maxRetries) {\n          console.log(`Retrying answer save in ${retryDelay}ms (attempt ${retryAttempt + 1}/${maxRetries})`)\n          await new Promise((resolve) => setTimeout(resolve, retryDelay))\n          return handleAnswerChange(questionId, value, retryAttempt + 1)\n        }\n\n        const errorData = await response.json()\n        console.error('Error saving answer:', errorData)\n        \n        // Show warning but don't block user - answer is saved locally\n        console.warn('‚ö†Ô∏è Answer saved locally but not synced to server. Will retry on next action.')\n      }\n    } catch (err) {\n      console.error('Error saving answer:', err)\n      \n      // Retry on network errors\n      if (retryAttempt < maxRetries) {\n        console.log(`Retrying answer save after error in ${retryDelay}ms (attempt ${retryAttempt + 1}/${maxRetries})`)\n        await new Promise((resolve) => setTimeout(resolve, retryDelay))\n        return handleAnswerChange(questionId, value, retryAttempt + 1)\n      }\n      \n      // Show warning but don't block user - answer is saved locally\n      console.warn('‚ö†Ô∏è Answer saved locally but not synced to server. Will retry on next action.')\n    }\n  }, [assessmentStatus, funnel, slug])\n\n  const handleComplete = useCallback(async () => {\n    if (!assessmentStatus) return\n\n    setSubmitting(true)\n    setError(null)\n\n    try {\n      const response = await fetch(\n        `/api/funnels/${slug}/assessments/${assessmentStatus.assessmentId}/complete`,\n        {\n          method: 'POST',\n          credentials: 'include',\n        },\n      )\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        if (errorData.error?.details?.missingQuestions) {\n          setValidationErrors(errorData.error.details.missingQuestions)\n          setError('Nicht alle Pflichtfragen wurden beantwortet.')\n          \n          // Log validation error\n          logValidationError(\n            assessmentStatus.assessmentId,\n            assessmentStatus.currentStep.stepId,\n            errorData.error.details.missingQuestions.length\n          )\n          \n          setSubmitting(false)\n          return\n        }\n        throw new Error('Fehler beim Abschlie√üen des Assessments.')\n      }\n\n      // Log assessment completion\n      logAssessmentCompleted(assessmentStatus.assessmentId, slug)\n\n      // Redirect to result page\n      router.push(`/patient/funnel/${slug}/result?assessmentId=${assessmentStatus.assessmentId}`)\n    } catch (err) {\n      console.error('Error completing assessment:', err)\n      setError(\n        err instanceof Error\n          ? err.message\n          : 'Fehler beim Abschlie√üen des Assessments. Bitte versuchen Sie es erneut.',\n      )\n      setSubmitting(false)\n    }\n  }, [assessmentStatus, slug, router])\n\n  const handleNextStep = useCallback(async () => {\n    if (!assessmentStatus || !funnel) return\n\n    setSubmitting(true)\n    setError(null)\n    setValidationErrors([])\n\n    try {\n      const currentStep = funnel.steps.find((s) => s.id === assessmentStatus.currentStep.stepId)\n      if (!currentStep) {\n        setError('Aktueller Schritt konnte nicht gefunden werden.')\n        setSubmitting(false)\n        return\n      }\n\n      // Validate current step\n      const response = await fetch(\n        `/api/funnels/${slug}/assessments/${assessmentStatus.assessmentId}/steps/${currentStep.id}`,\n        {\n          method: 'POST',\n          credentials: 'include',\n        },\n      )\n\n      if (!response.ok) {\n        // Try to extract error message from response\n        let errorMessage = 'Validierung fehlgeschlagen.'\n        try {\n          const errorData = await response.json()\n          if (errorData.error?.message) {\n            errorMessage = errorData.error.message\n          }\n        } catch {\n          // If JSON parsing fails, use default message\n        }\n        throw new Error(errorMessage)\n      }\n\n      const { data } = await response.json()\n\n      if (!data.isValid) {\n        // Show validation errors\n        setValidationErrors(data.missingQuestions || [])\n        setError(\n          `Bitte beantworten Sie alle Pflichtfragen (${data.missingQuestions?.length || 0} fehlend).`,\n        )\n\n        // Scroll to first missing question\n        if (data.missingQuestions && data.missingQuestions.length > 0) {\n          const firstMissing = data.missingQuestions[0]\n          setTimeout(() => {\n            const element = document.getElementById(`question-${firstMissing.questionId}`)\n            element?.scrollIntoView({ behavior: 'smooth', block: 'center' })\n          }, 100)\n        }\n\n        setSubmitting(false)\n        return\n      }\n\n      // Validation passed\n      if (data.nextStep) {\n        // Log step navigation\n        logStepNavigated(assessmentStatus.assessmentId, data.nextStep.stepId, 'next')\n        \n        // Reload status to get updated current step\n        try {\n          await loadAssessmentStatus(assessmentStatus.assessmentId)\n          window.scrollTo({ top: 0, behavior: 'smooth' })\n        } catch (loadErr) {\n          // Error already handled by loadAssessmentStatus (error state set)\n          // Just prevent the finally block from clearing submitting state prematurely\n          console.error('Failed to load next step status:', loadErr)\n          // Don't set submitting to false here - let finally handle it\n        }\n      } else {\n        // Last step - complete assessment\n        await handleComplete()\n      }\n    } catch (err) {\n      console.error('Error navigating to next step:', err)\n      const errorMsg = err instanceof Error ? err.message : 'Fehler bei der Navigation. Bitte versuchen Sie es erneut.'\n      setError(errorMsg)\n    } finally {\n      setSubmitting(false)\n    }\n  }, [assessmentStatus, funnel, slug, loadAssessmentStatus, handleComplete])\n\n  const handlePreviousStep = useCallback(async () => {\n    if (!assessmentStatus || !funnel) return\n\n    // Find previous step by order index\n    const currentOrderIndex = assessmentStatus.currentStep.orderIndex\n    const previousStep = funnel.steps.find((s) => s.orderIndex === currentOrderIndex - 1)\n\n    if (!previousStep) return\n\n    // Navigate back by reloading status (the navigation API will handle it)\n    // For now, we'll just show a message since backward navigation\n    // might require additional API support\n    setError('Zur√ºck-Navigation wird in K√ºrze unterst√ºtzt.')\n  }, [assessmentStatus, funnel])\n\n  // Memoized derived values (must run before any early returns to keep hook order stable)\n  const currentStep = useMemo(() => {\n    if (!funnel || !assessmentStatus) return null\n    return funnel.steps.find((s) => s.id === assessmentStatus.currentStep.stepId) ?? null\n  }, [assessmentStatus, funnel])\n\n  const isFirstStep = useMemo(() => {\n    if (!assessmentStatus) return false\n    return assessmentStatus.currentStep.stepIndex === 0\n  }, [assessmentStatus])\n  \n  const isLastStep = useMemo(() => {\n    if (!assessmentStatus) return false\n    return assessmentStatus.currentStep.stepIndex === assessmentStatus.totalSteps - 1\n  }, [assessmentStatus])\n\n  const introPages = useMemo(() => getIntroPages(contentPages), [contentPages])\n  const infoPages = useMemo(() => getInfoPages(contentPages), [contentPages])\n  const showContentLinks = useMemo(\n    () => introPages.length > 0 || infoPages.length > 0,\n    [infoPages, introPages]\n  )\n\n  const answeredCount = useMemo(() => Object.keys(answers).length, [answers])\n\n  // Loading state\n  if (loading || (!error && (!funnel || !assessmentStatus || !currentStep))) {\n    return (\n      <main className=\"flex flex-col items-center justify-center bg-slate-50 py-20 px-4\">\n        <LoadingSpinner\n          size=\"lg\"\n          text={recovery.isRecovering ? recovery.recoveryMessage || 'Laden...' : 'Fragebogen wird geladen‚Ä¶'}\n          centered\n        />\n      </main>\n    )\n  }\n\n  // V05-FIXOPT-01: Not available state (funnel exists in catalog but not fully defined)\n  if (error === 'not_available') {\n    return (\n      <main className=\"flex items-center justify-center bg-slate-50 py-20 px-4\">\n        <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center\">\n          <div className=\"mb-4 text-6xl\">üöß</div>\n          <h1 className=\"text-2xl font-bold text-slate-900 mb-4\">In K√ºrze verf√ºgbar</h1>\n          <p className=\"text-slate-600 mb-6\">\n            Dieses Assessment ist derzeit noch in Vorbereitung und wird bald verf√ºgbar sein.\n          </p>\n          <button\n            onClick={() => router.push('/patient/funnels')}\n            className=\"inline-flex items-center gap-2 bg-sky-600 hover:bg-sky-700 text-white font-semibold px-6 py-3 rounded-lg transition-colors\"\n          >\n            ‚Üê Zur√ºck zur √úbersicht\n          </button>\n        </div>\n      </main>\n    )\n  }\n\n  // Error state\n  if (!loading && error && !assessmentStatus) {\n    // Log error display\n    logErrorDisplayed(error, 'funnel_client', { funnelSlug: slug })\n    \n    const handleRetry = () => {\n      setError(null)\n      setLoading(true)\n      // Reload the page to restart the assessment bootstrap process\n      window.location.reload()\n    }\n\n    return (\n      <main className=\"flex items-center justify-center bg-slate-50 py-20 px-4\">\n        <ErrorState\n          title=\"Fehler\"\n          message={error}\n          onRetry={handleRetry}\n          centered\n        />\n      </main>\n    )\n  }\n\n  // Render using PatientFlowRenderer\n  // TypeScript narrowing: At this point, funnel, assessmentStatus, and currentStep are guaranteed to be non-null\n  // because we've returned early for all error/loading cases above\n  if (!funnel || !assessmentStatus || !currentStep) {\n    // This should never happen due to the checks above, but satisfies TypeScript\n    return (\n      <main className=\"flex items-center justify-center bg-slate-50 py-20 px-4\">\n        <LoadingSpinner size=\"lg\" text=\"Laden...\" centered />\n      </main>\n    )\n  }\n\n  return (\n    <>\n      {/* Content Page Links - Show above the main flow */}\n      {showContentLinks && (\n        <div className=\"bg-slate-50 px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"bg-sky-50 border border-sky-200 rounded-lg p-4\">\n            <div className=\"flex items-start gap-3\">\n              <span className=\"text-xl shrink-0\">‚ÑπÔ∏è</span>\n              <div className=\"flex-1\">\n                <h3 className=\"text-sm font-semibold text-primary-900 mb-2\">\n                  Weitere Informationen\n                </h3>\n                <div className=\"space-y-2\">\n                  {introPages.map((page) => (\n                    <a\n                      key={page.id}\n                      href={`/patient/funnel/${slug}/content/${page.slug}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"block text-sm text-primary-700 hover:text-primary-900 hover:underline\"\n                    >\n                      üìÑ {page.title}\n                      {page.excerpt && (\n                        <span className=\"text-xs text-primary-600 ml-1\">\n                          ‚Äî {page.excerpt.substring(0, 60)}\n                          {page.excerpt.length > 60 ? '...' : ''}\n                        </span>\n                      )}\n                    </a>\n                  ))}\n                  {infoPages.map((page) => (\n                    <a\n                      key={page.id}\n                      href={`/patient/funnel/${slug}/content/${page.slug}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"block text-sm text-primary-700 hover:text-primary-900 hover:underline\"\n                    >\n                      üìÑ {page.title}\n                      {page.excerpt && (\n                        <span className=\"text-xs text-primary-600 ml-1\">\n                          ‚Äî {page.excerpt.substring(0, 60)}\n                          {page.excerpt.length > 60 ? '...' : ''}\n                        </span>\n                      )}\n                    </a>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <PatientFlowRenderer\n        funnel={funnel}\n        assessmentStatus={assessmentStatus}\n        currentStep={currentStep}\n        answers={answers}\n        validationErrors={validationErrors}\n        error={error}\n        submitting={submitting}\n        answeredCount={answeredCount}\n        showRecoveryBanner={answeredCount > 0 && assessmentStatus.currentStep.stepIndex > 0}\n        onAnswerChange={handleAnswerChange}\n        onNextStep={handleNextStep}\n        onPreviousStep={handlePreviousStep}\n        isFirstStep={isFirstStep}\n        isLastStep={isLastStep}\n      />\n    </>\n  )\n}\n","// Funnel type definitions based on database schema\n\nimport { NODE_TYPE, type NodeType, type AssessmentStatus } from '@/lib/contracts/registry'\n\n// ============================================================\n// Node Type Constants\n// ============================================================\n\n/**\n * Node/Step type constants for the funnel engine.\n * These correspond to the 'type' field in the funnel_steps table.\n * \n * Usage:\n * ```typescript\n * import { NODE_TYPE, isContentPageStep } from '@/lib/types/funnel'\n * \n * // Check step type using constants\n * if (step.type === NODE_TYPE.CONTENT_PAGE) {\n *   // Handle content page step\n * }\n * \n * // Or use type guard functions\n * if (isContentPageStep(step)) {\n *   // TypeScript knows step is ContentPageStepDefinition\n *   console.log(step.contentPageId)\n * }\n * ```\n */\n\n// Re-export NODE_TYPE and NodeType from registry\nexport { NODE_TYPE, type NodeType }\n\n// ============================================================\n// Base Database Types\n// ============================================================\n\nexport type Funnel = {\n  id: string\n  slug: string\n  title: string\n  subtitle: string | null\n  description: string | null\n  is_active: boolean\n  default_theme: string | null\n  created_at: string\n  updated_at: string\n}\n\nexport type FunnelStep = {\n  id: string\n  funnel_id: string\n  order_index: number\n  title: string\n  description: string | null\n  type: string\n  created_at: string\n  updated_at: string\n}\n\nexport type Question = {\n  id: string\n  key: string\n  label: string\n  help_text: string | null\n  question_type: string\n  min_value: number | null\n  max_value: number | null\n  created_at: string\n  updated_at: string\n}\n\nexport type FunnelStepQuestion = {\n  id: string\n  funnel_step_id: string\n  question_id: string\n  order_index: number\n  is_required: boolean\n  created_at: string\n  updated_at: string\n}\n\nexport type Assessment = {\n  id: string\n  patient_id: string\n  funnel: string\n  funnel_id: string | null\n  started_at: string\n  completed_at: string | null\n  status: AssessmentStatus\n}\n\n// Extended types with joined data\nexport type QuestionWithDetails = Question & {\n  funnel_step_questions: FunnelStepQuestion[]\n}\n\nexport type FunnelStepWithQuestions = FunnelStep & {\n  questions: QuestionWithDetails[]\n}\n\nexport type FunnelWithSteps = Funnel & {\n  funnel_steps: FunnelStepWithQuestions[]\n}\n\n// For active question determination\nexport type ActiveQuestion = {\n  question: Question\n  stepIndex: number\n  questionIndex: number\n  totalSteps: number\n  totalQuestions: number\n  funnelStepQuestion: FunnelStepQuestion\n}\n\n// ============================================================\n// B1: Structured Funnel Definition Types\n// ============================================================\n\n// Option for radio/checkbox/select questions\nexport type QuestionOption = {\n  value: string | number\n  label: string\n}\n\n// Question with metadata for UI rendering\nexport type QuestionDefinition = {\n  id: string\n  key: string\n  label: string\n  helpText: string | null\n  questionType: string\n  minValue: number | null\n  maxValue: number | null\n  isRequired: boolean\n  orderIndex: number\n  options?: QuestionOption[] | null\n}\n\n// Base step interface\nexport interface BaseStepDefinition {\n  id: string\n  orderIndex: number\n  title: string\n  description: string | null\n  type: string\n}\n\n// Question step with questions\nexport interface QuestionStepDefinition extends BaseStepDefinition {\n  type: 'question_step' | 'form'\n  questions: QuestionDefinition[]\n}\n\n// Info step (no questions, just content)\nexport interface InfoStepDefinition extends BaseStepDefinition {\n  type: 'info_step' | 'info'\n  content?: string\n}\n\n// Content page step (references a content page)\nexport interface ContentPageStepDefinition extends BaseStepDefinition {\n  type: 'content_page'\n  contentPageId: string\n  contentPage?: {\n    id: string\n    slug: string\n    title: string\n    excerpt: string | null\n    body_markdown: string\n    status: string\n  }\n}\n\n// Other step types\nexport interface OtherStepDefinition extends BaseStepDefinition {\n  type: 'summary' | 'other'\n}\n\n// Union type for all step types\nexport type StepDefinition = QuestionStepDefinition | InfoStepDefinition | ContentPageStepDefinition | OtherStepDefinition\n\n// Complete funnel definition for UI consumption\nexport type FunnelDefinition = {\n  id: string\n  slug: string\n  title: string\n  subtitle: string | null\n  description: string | null\n  theme: string | null\n  steps: StepDefinition[]\n  totalSteps: number\n  totalQuestions: number\n  isActive: boolean\n}\n\n// Helper type guard functions\nexport function isQuestionStep(step: StepDefinition): step is QuestionStepDefinition {\n  return step.type === NODE_TYPE.QUESTION_STEP || step.type === NODE_TYPE.FORM\n}\n\nexport function isInfoStep(step: StepDefinition): step is InfoStepDefinition {\n  return step.type === NODE_TYPE.INFO_STEP || step.type === NODE_TYPE.INFO\n}\n\nexport function isContentPageStep(step: StepDefinition): step is ContentPageStepDefinition {\n  return step.type === NODE_TYPE.CONTENT_PAGE\n}\n","'use client'\n\nimport { memo, useCallback } from 'react'\nimport type { QuestionStepDefinition, QuestionDefinition } from '@/lib/types/funnel'\nimport type { ValidationError } from './PatientFlowRenderer'\nimport { useIsMobile } from '@/lib/hooks/useIsMobile'\nimport MobileQuestionScreen from './MobileQuestionScreen'\n\n/**\n * QuestionStepRenderer - Renders a step containing questions\n * \n * Displays all questions in the step with their answer controls.\n * On mobile (<640px), uses the new adaptive MobileQuestionScreen layout.\n * On desktop, uses the traditional card-based layout.\n * \n * Supports question types: number, radio, scale (with options or minValue/maxValue)\n */\n\nexport type QuestionStepRendererProps = {\n  step: QuestionStepDefinition\n  answers: Record<string, number | string>\n  validationErrors: ValidationError[]\n  onAnswerChange: (questionKey: string, value: number | string) => void\n  onNextStep?: () => void\n  onPreviousStep?: () => void\n  isFirstStep?: boolean\n  isLastStep?: boolean\n  submitting?: boolean\n  totalQuestions?: number\n  funnelTitle?: string\n}\n\nexport default function QuestionStepRenderer({\n  step,\n  answers,\n  validationErrors,\n  onAnswerChange,\n  onNextStep,\n  onPreviousStep,\n  isFirstStep,\n  isLastStep,\n  submitting,\n  totalQuestions,\n  funnelTitle,\n}: QuestionStepRendererProps) {\n  const isMobile = useIsMobile()\n\n  // On mobile, use the new adaptive single-question screen\n  if (isMobile && step.questions.length === 1) {\n    const question = step.questions[0]\n    const hasError = validationErrors.some((err) => err.questionId === question.id)\n    const errorMsg = hasError ? 'Diese Pflichtfrage muss beantwortet werden' : null\n\n    // Wrap the onChange handler - pass through directly for string values\n    const handleMobileChange = (questionKey: string, value: number | string) => {\n      onAnswerChange(questionKey, value)\n    }\n\n    return (\n      <MobileQuestionScreen\n        question={question}\n        questionIndex={step.orderIndex}\n        totalQuestions={totalQuestions || 1}\n        value={answers[question.id]}\n        onChange={handleMobileChange}\n        onNext={onNextStep}\n        onPrevious={onPreviousStep}\n        isFirst={isFirstStep}\n        isLast={isLastStep}\n        isRequired={question.isRequired}\n        error={errorMsg}\n        isSubmitting={submitting}\n        funnelTitle={funnelTitle}\n      />\n    )\n  }\n\n  // Desktop or multi-question step: use traditional card layout\n  return (\n    <div className=\"space-y-4\">\n      {step.questions.map((question, index) => (\n        <QuestionCard\n          key={question.id}\n          index={index + 1}\n          question={question}\n          value={answers[question.id]}\n          onChange={onAnswerChange}\n          hasError={validationErrors.some((err) => err.questionId === question.id)}\n        />\n      ))}\n    </div>\n  )\n}\n\ntype QuestionCardProps = {\n  index: number\n  question: QuestionDefinition\n  value?: number | string\n  onChange: (key: string, value: number | string) => void\n  hasError?: boolean\n}\n\n// Default Likert scale for legacy 'scale' questions without explicit options\nconst DEFAULT_SCALE = [\n  { value: 0, label: 'Nie' },\n  { value: 1, label: 'Selten' },\n  { value: 2, label: 'Manchmal' },\n  { value: 3, label: 'Oft' },\n  { value: 4, label: 'Sehr h√§ufig' },\n]\n\nconst QuestionCard = memo(function QuestionCard({\n  index,\n  question,\n  value,\n  onChange,\n  hasError,\n}: QuestionCardProps) {\n  const isAnswered = value !== undefined && value !== null && value !== ''\n\n  // Memoize the onChange handler for this specific question\n  const handleChange = useCallback(\n    (val: number | string) => onChange(question.id, val),\n    [onChange, question.id],\n  )\n\n  // Determine the effective options based on question type\n  const getEffectiveOptions = () => {\n    // If question has explicit options, use them\n    if (question.options && question.options.length > 0) {\n      return question.options\n    }\n\n    // For scale questions, generate options from minValue/maxValue or use default\n    if (question.questionType === 'scale') {\n      const min = question.minValue ?? 0\n      const max = question.maxValue ?? 4\n      // If it's the standard 0-4 range, use labeled default scale\n      if (min === 0 && max === 4) {\n        return DEFAULT_SCALE\n      }\n      // Otherwise generate numeric options\n      return Array.from({ length: max - min + 1 }, (_, i) => ({\n        value: min + i,\n        label: String(min + i),\n      }))\n    }\n\n    return null\n  }\n\n  // Render number input for 'number' type questions\n  const renderNumberInput = () => {\n    const min = question.minValue ?? undefined\n    const max = question.maxValue ?? undefined\n\n    return (\n      <div className=\"ml-0 sm:ml-11\">\n        <input\n          type=\"number\"\n          id={`question-${question.id}-input`}\n          name={question.id}\n          value={value ?? ''}\n          onChange={(e) => {\n            const numValue = e.target.value === '' ? '' : parseFloat(e.target.value)\n            handleChange(numValue as number | string)\n          }}\n          min={min}\n          max={max}\n          className=\"w-full max-w-[200px] px-4 py-3 text-lg border-2 border-slate-300 rounded-lg focus:border-sky-500 focus:ring-2 focus:ring-sky-200 outline-none transition-all\"\n          style={{ minHeight: '48px' }}\n          aria-label={question.label}\n        />\n        {(min !== undefined || max !== undefined) && (\n          <p className=\"text-xs text-slate-500 mt-1\">\n            {min !== undefined && max !== undefined\n              ? `Bereich: ${min} - ${max}`\n              : min !== undefined\n                ? `Minimum: ${min}`\n                : `Maximum: ${max}`}\n          </p>\n        )}\n      </div>\n    )\n  }\n\n  // Render radio buttons for 'radio' type or questions with options\n  const renderRadioOptions = (options: { value: string | number; label: string }[]) => {\n    return (\n      <div className=\"flex flex-wrap gap-2 sm:gap-2.5 ml-0 sm:ml-11\">\n        {options.map((option) => {\n          const id = `${question.id}-${option.value}`\n          const checked = value === option.value\n          return (\n            <label\n              key={String(option.value)}\n              htmlFor={id}\n              className={`flex-1 min-w-[70px] sm:min-w-[90px] md:min-w-[100px] flex flex-col items-center justify-center gap-0.5 px-2 py-2.5 sm:px-3 sm:py-3 rounded-lg border-2 cursor-pointer transition-all touch-manipulation ${\n                checked\n                  ? 'bg-sky-600 text-white border-sky-600 shadow-md scale-105'\n                  : 'bg-white text-slate-700 border-slate-300 hover:border-sky-400 hover:bg-sky-50 hover:shadow-sm active:scale-95'\n              }`}\n              style={{ minHeight: '44px', minWidth: '44px' }}\n            >\n              <input\n                id={id}\n                type=\"radio\"\n                className=\"sr-only\"\n                name={question.id}\n                value={String(option.value)}\n                checked={checked}\n                onChange={() => handleChange(option.value)}\n                aria-label={`${option.label}`}\n              />\n              {typeof option.value === 'number' && (\n                <span className=\"text-lg sm:text-xl md:text-2xl font-bold\">{option.value}</span>\n              )}\n              <span className=\"text-xs sm:text-sm font-medium text-center leading-tight\">\n                {option.label}\n              </span>\n            </label>\n          )\n        })}\n      </div>\n    )\n  }\n\n  // Render the appropriate input based on question type\n  const renderQuestionInput = () => {\n    const questionType = question.questionType?.toLowerCase() || 'scale'\n\n    // Number input for 'number' type\n    if (questionType === 'number') {\n      return renderNumberInput()\n    }\n\n    // Get effective options for radio/scale types\n    const options = getEffectiveOptions()\n\n    // If we have options (radio, scale, or checkbox), render as radio buttons\n    if (options && options.length > 0) {\n      return renderRadioOptions(options)\n    }\n\n    // Fallback: use default scale for unknown types\n    return renderRadioOptions(DEFAULT_SCALE)\n  }\n\n  return (\n    <div\n      id={`question-${question.id}`}\n      className={`border-2 rounded-xl p-4 sm:p-5 md:p-6 transition-all ${\n        hasError\n          ? 'border-red-300 bg-red-50/30'\n          : isAnswered\n            ? 'border-sky-200 bg-sky-50/30'\n            : 'border-slate-200 bg-white'\n      }`}\n    >\n      <div className=\"flex items-start gap-2 sm:gap-3 mb-4\">\n        <span\n          className={`shrink-0 flex items-center justify-center w-7 h-7 sm:w-8 sm:h-8 rounded-full text-xs sm:text-sm font-bold ${\n            hasError\n              ? 'bg-red-600 text-white'\n              : isAnswered\n                ? 'bg-sky-600 text-white'\n                : 'bg-slate-200 text-slate-600'\n          }`}\n        >\n          {index}\n        </span>\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-start gap-2\">\n            <p className=\"text-sm sm:text-base md:text-lg font-medium text-slate-900 leading-relaxed pt-0.5 flex-1\">\n              {question.label}\n            </p>\n            {!question.isRequired && (\n              <span className=\"text-xs bg-slate-100 text-slate-600 px-2 py-0.5 sm:py-1 rounded-md whitespace-nowrap\">\n                Optional\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n      {question.helpText && (\n        <div className=\"bg-sky-50 border border-sky-200 rounded-lg p-3 sm:p-4 mb-3 sm:mb-4 ml-0 sm:ml-11\">\n          <p className=\"text-xs sm:text-sm text-sky-900 leading-relaxed flex items-start gap-2\">\n            <span className=\"text-base sm:text-lg shrink-0\">üí°</span>\n            <span>{question.helpText}</span>\n          </p>\n        </div>\n      )}\n      {hasError && (\n        <p className=\"text-xs sm:text-sm text-red-700 bg-red-50 border border-red-200 rounded-lg px-3 py-2 mb-3 ml-0 sm:ml-11\">\n          ‚ö†Ô∏è Diese Pflichtfrage muss beantwortet werden\n        </p>\n      )}\n      {!isAnswered && !hasError && question.isRequired && (\n        <p className=\"text-xs sm:text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-lg px-3 py-2 mb-3 ml-0 sm:ml-11\">\n          ‚ö†Ô∏è Bitte w√§hlen Sie eine Antwort aus\n        </p>\n      )}\n      {renderQuestionInput()}\n    </div>\n  )\n})\n","'use client'\n\nimport { memo, useState } from 'react'\nimport { motion } from 'framer-motion'\nimport type { QuestionDefinition } from '@/lib/types/funnel'\nimport { componentTokens, motion as motionTokens, spacing, typography, colors, shadows } from '@/lib/design-tokens'\nimport ScaleAnswerButtons from './ScaleAnswerButtons'\nimport BinaryAnswerButtons from './BinaryAnswerButtons'\nimport SingleChoiceAnswerButtons from './SingleChoiceAnswerButtons'\nimport SliderAnswerComponent from './SliderAnswerComponent'\nimport MobileHeader from './MobileHeader'\nimport {\n  getQuestionOptions,\n  getBinaryQuestionConfig,\n  hasQuestionOptions,\n  isBinaryQuestion,\n} from '@/lib/questionOptions'\n\n/**\n * MobileQuestionScreen - Complete mobile-first question screen layout\n * \n * Implements the new v0.4 adaptive questionnaire design with:\n * - Top Progress Indicator (sticky)\n * - Question Block (scrollable content)\n * - Answer Components (Buttons 1-5, Slider, Boolean, Chips)\n * - Bottom Action Bar (sticky)\n * - Error Handling\n * - Mobile-first autolayout\n * \n * This is a complete screen component that takes over the entire viewport.\n */\n\nexport type MobileQuestionScreenProps = {\n  question: QuestionDefinition\n  questionIndex: number\n  totalQuestions: number\n  value?: number | string\n  onChange: (questionKey: string, value: number | string) => void\n  onNext?: () => void\n  onPrevious?: () => void\n  isFirst?: boolean\n  isLast?: boolean\n  isRequired?: boolean\n  error?: string | null\n  isSubmitting?: boolean\n  funnelTitle?: string\n  useSlider?: boolean // Optional: Use slider instead of buttons for scale questions\n}\n\nconst MobileQuestionScreen = memo(function MobileQuestionScreen({\n  question,\n  questionIndex,\n  totalQuestions,\n  value,\n  onChange,\n  onNext,\n  onPrevious,\n  isFirst = false,\n  isLast = false,\n  isRequired = true,\n  error = null,\n  isSubmitting = false,\n  funnelTitle = 'Fragebogen',\n  useSlider = false,\n}: MobileQuestionScreenProps) {\n  const [isFocused, setIsFocused] = useState(false)\n  const isAnswered = value !== undefined && value !== null\n\n  // Progress calculation\n  const progressPercent = totalQuestions > 0 ? (questionIndex / totalQuestions) * 100 : 0\n\n  // Handle answer change\n  const handleAnswerChange = (newValue: number | string) => {\n    onChange(question.id, newValue)\n  }\n\n  // Handle binary answer change (accepts boolean too)\n  const handleBinaryAnswerChange = (newValue: number | string | boolean) => {\n    onChange(question.id, newValue as number | string)\n  }\n\n  // Render answer component based on question type\n  const renderAnswerComponent = () => {\n    // Binary questions (Yes/No, True/False, etc.)\n    if (isBinaryQuestion(question.key)) {\n      const config = getBinaryQuestionConfig(question.key)\n      if (config) {\n        return (\n          <BinaryAnswerButtons\n            questionId={question.id}\n            value={value}\n            onChange={handleBinaryAnswerChange}\n            disabled={isSubmitting}\n            {...config}\n          />\n        )\n      }\n    }\n\n    // Single-choice questions with predefined options\n    if (hasQuestionOptions(question.key)) {\n      const options = getQuestionOptions(question.key)\n      if (options) {\n        return (\n          <SingleChoiceAnswerButtons\n            questionId={question.id}\n            options={options}\n            value={value as string | number}\n            onChange={handleAnswerChange}\n            disabled={isSubmitting}\n            layout={options.length > 4 ? 'grid' : 'vertical'}\n          />\n        )\n      }\n    }\n\n    // Scale questions (using minValue and maxValue from database)\n    if (question.questionType === 'scale') {\n      const minValue = question.minValue ?? 0\n      const maxValue = question.maxValue ?? 4\n\n      // Use slider for wider ranges or when explicitly requested\n      const shouldUseSlider = useSlider || (maxValue - minValue > 10)\n\n      if (shouldUseSlider) {\n        return (\n          <SliderAnswerComponent\n            questionId={question.id}\n            minValue={minValue}\n            maxValue={maxValue}\n            value={value as number}\n            onChange={(val) => handleAnswerChange(val)}\n            disabled={isSubmitting}\n            showValue={true}\n          />\n        )\n      }\n\n      return (\n        <ScaleAnswerButtons\n          questionId={question.id}\n          minValue={minValue}\n          maxValue={maxValue}\n          value={value as number}\n          onChange={handleAnswerChange}\n          disabled={isSubmitting}\n        />\n      )\n    }\n\n    // Text questions (textarea)\n    if (question.questionType === 'text') {\n      return (\n        <textarea\n          value={(value as string) || ''}\n          onChange={(e) => handleAnswerChange(e.target.value)}\n          className=\"w-full min-h-[120px] border-2 border-slate-300 focus:border-sky-500 focus:ring-2 focus:ring-sky-200 outline-none leading-relaxed bg-white\"\n          style={{\n            padding: componentTokens.mobileQuestionCard.padding,\n            borderRadius: componentTokens.answerButton.borderRadius,\n            fontSize: typography.fontSize.base,\n            transition: `all ${motionTokens.duration.normal} ${motionTokens.easing.smooth}`,\n          }}\n          placeholder=\"Ihre Antwort...\"\n          disabled={isSubmitting}\n        />\n      )\n    }\n\n    // Fallback: unsupported question type\n    return (\n      <div\n        className=\"text-center bg-amber-50 border border-amber-200\"\n        style={{\n          padding: componentTokens.mobileQuestionCard.padding,\n          borderRadius: componentTokens.answerButton.borderRadius,\n        }}\n      >\n        <p className=\"text-amber-800 text-sm\">\n          Dieser Fragetyp wird noch nicht unterst√ºtzt: {question.questionType}\n        </p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-sky-50 to-white flex flex-col\">\n      {/* Mobile Header */}\n      <MobileHeader\n        variant=\"with-title\"\n        title={funnelTitle}\n        subtitle={`Frage ${questionIndex + 1} von ${totalQuestions}`}\n        showBack={!isFirst}\n        onBack={onPrevious}\n      />\n\n      {/* Progress Bar - Sticky below header */}\n      <div \n        className=\"sticky bg-white border-b border-slate-100\"\n        style={{ \n          top: '56px', // Height of MobileHeader\n          zIndex: 40,\n          boxShadow: shadows.sm,\n        }}\n      >\n        <div style={{ padding: `${spacing.sm} ${spacing.lg}` }}>\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs font-medium text-slate-600\">\n              Fortschritt\n            </span>\n            <span className=\"text-xs font-semibold text-sky-600\">\n              {Math.round(progressPercent)}%\n            </span>\n          </div>\n          <div\n            className=\"w-full bg-slate-200 overflow-hidden\"\n            style={{\n              height: componentTokens.progressBar.height,\n              borderRadius: componentTokens.progressBar.borderRadius,\n            }}\n          >\n            <motion.div\n              className=\"h-full bg-gradient-to-r from-sky-500 to-sky-600\"\n              initial={{ width: 0 }}\n              animate={{ width: `${progressPercent}%` }}\n              transition={{ duration: 0.5, ease: 'easeOut' }}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Question Block - Scrollable Content */}\n      <main\n        className=\"flex-1 overflow-y-auto\"\n        style={{ padding: `${spacing.lg} ${spacing.lg}` }}\n      >\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.3 }}\n          className={`bg-white border-2 ${\n            isFocused ? 'border-sky-400 shadow-xl' : 'border-slate-200'\n          } ${isAnswered ? 'border-sky-200 bg-sky-50/30' : ''}`}\n          style={{\n            borderRadius: componentTokens.mobileQuestionCard.borderRadius,\n            boxShadow: componentTokens.mobileQuestionCard.shadow,\n            transition: `all ${motionTokens.duration.normal} ${motionTokens.easing.smooth}`,\n          }}\n          onFocus={() => setIsFocused(true)}\n          onBlur={() => setIsFocused(false)}\n        >\n          {/* Question Text */}\n          <div\n            style={{\n              padding: `${componentTokens.mobileQuestionCard.contentPaddingY} ${componentTokens.mobileQuestionCard.contentPaddingX}`,\n              paddingBottom: spacing.md,\n            }}\n          >\n            <h2\n              className=\"font-semibold text-slate-900 leading-relaxed mb-3\"\n              style={{ fontSize: typography.fontSize.xl }}\n            >\n              {question.label}\n            </h2>\n\n            {/* Help Text */}\n            {question.helpText && (\n              <div\n                className=\"bg-sky-50 border border-sky-200 mb-4\"\n                style={{\n                  borderRadius: componentTokens.infoBox.borderRadius,\n                  padding: componentTokens.infoBox.padding,\n                }}\n              >\n                <p\n                  className=\"text-sky-900 leading-relaxed flex items-start gap-2\"\n                  style={{\n                    fontSize: componentTokens.infoBox.fontSize,\n                    lineHeight: componentTokens.infoBox.lineHeight,\n                  }}\n                >\n                  <span className=\"shrink-0\" style={{ fontSize: typography.fontSize.lg }}>\n                    üí°\n                  </span>\n                  <span>{question.helpText}</span>\n                </p>\n              </div>\n            )}\n\n            {/* Required Indicator */}\n            {isRequired && !isAnswered && !error && (\n              <p\n                className=\"text-amber-700 bg-amber-50 border border-amber-200 mb-3\"\n                style={{\n                  fontSize: typography.fontSize.xs,\n                  borderRadius: componentTokens.infoBox.borderRadius,\n                  padding: `${spacing.sm} ${spacing.md}`,\n                }}\n              >\n                ‚ö†Ô∏è Bitte w√§hlen Sie eine Antwort aus\n              </p>\n            )}\n          </div>\n\n          {/* Answer Components */}\n          <div\n            style={{\n              padding: `0 ${componentTokens.mobileQuestionCard.contentPaddingX} ${componentTokens.mobileQuestionCard.contentPaddingY}`,\n            }}\n          >\n            {renderAnswerComponent()}\n          </div>\n\n          {/* Error Message */}\n          {error && (\n            <div\n              className=\"text-red-700 bg-red-50 border-2 border-red-200 flex items-start gap-3\"\n              style={{\n                margin: `0 ${componentTokens.mobileQuestionCard.contentPaddingX} ${componentTokens.mobileQuestionCard.contentPaddingY}`,\n                fontSize: typography.fontSize.sm,\n                borderRadius: componentTokens.infoBox.borderRadius,\n                padding: `${spacing.md} ${spacing.md}`,\n              }}\n            >\n              <span className=\"shrink-0\" style={{ fontSize: typography.fontSize.xl }}>\n                ‚ùå\n              </span>\n              <p className=\"leading-relaxed\">{error}</p>\n            </div>\n          )}\n        </motion.div>\n      </main>\n\n      {/* Bottom Action Bar - Sticky */}\n      <footer\n        className=\"sticky bottom-0 z-10 bg-white border-t border-slate-200 shadow-lg\"\n        style={{ padding: `${spacing.md} ${spacing.lg}` }}\n      >\n        <div className=\"flex gap-3\">\n          {/* Back Button */}\n          {!isFirst && onPrevious && (\n            <motion.button\n              type=\"button\"\n              onClick={onPrevious}\n              disabled={isSubmitting}\n              className=\"bg-slate-100 text-slate-700 font-semibold hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95\"\n              style={{\n                padding: `${componentTokens.navigationButton.paddingY} ${componentTokens.navigationButton.paddingX}`,\n                borderRadius: componentTokens.navigationButton.borderRadius,\n                minHeight: componentTokens.navigationButton.minHeight,\n                transition: componentTokens.navigationButton.transition,\n                fontSize: componentTokens.navigationButton.fontSize,\n              }}\n              whileTap={{ scale: 0.95 }}\n            >\n              ‚Üê Zur√ºck\n            </motion.button>\n          )}\n\n          {/* Next Button */}\n          {onNext && (\n            <motion.button\n              type=\"button\"\n              onClick={onNext}\n              disabled={!isAnswered || isSubmitting}\n              className=\"flex-1 font-semibold text-white disabled:opacity-60 disabled:cursor-not-allowed active:scale-95\"\n              style={{\n                padding: `${componentTokens.navigationButton.paddingY} ${componentTokens.navigationButton.paddingX}`,\n                borderRadius: componentTokens.navigationButton.borderRadius,\n                minHeight: componentTokens.navigationButton.minHeight,\n                boxShadow: componentTokens.navigationButton.shadow,\n                transition: componentTokens.navigationButton.transition,\n                fontSize: componentTokens.navigationButton.fontSize,\n                background: isAnswered && !isSubmitting\n                  ? `linear-gradient(135deg, ${colors.primary[500]} 0%, ${colors.primary[600]} 100%)`\n                  : colors.neutral[400],\n              }}\n              whileTap={isAnswered && !isSubmitting ? { scale: 0.95 } : undefined}\n            >\n              {isSubmitting ? (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <svg\n                    className=\"animate-spin h-5 w-5 text-white\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <circle\n                      className=\"opacity-25\"\n                      cx=\"12\"\n                      cy=\"12\"\n                      r=\"10\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"4\"\n                    />\n                    <path\n                      className=\"opacity-75\"\n                      fill=\"currentColor\"\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    />\n                  </svg>\n                  Bitte warten...\n                </span>\n              ) : (\n                <>{isLast ? '‚úì Abschlie√üen' : 'Weiter ‚Üí'}</>\n              )}\n            </motion.button>\n          )}\n        </div>\n      </footer>\n    </div>\n  )\n})\n\nexport default MobileQuestionScreen\n","'use client'\n\nimport { memo, useState } from 'react'\nimport { motion } from 'framer-motion'\nimport { componentTokens, typography, spacing, colors } from '@/lib/design-tokens'\n\n/**\n * SliderAnswerComponent - A continuous slider for scale questions\n * \n * Provides an alternative to discrete button-based scales for questions\n * that benefit from continuous input (e.g., \"Rate your stress level from 0-100\").\n * \n * Features:\n * - Touch-optimized slider with large thumb\n * - Visual feedback with gradient track\n * - Real-time value display\n * - Labels for min/max values\n * - Smooth animations\n * - Accessible with keyboard support\n */\n\nexport type SliderAnswerComponentProps = {\n  questionId: string\n  minValue: number\n  maxValue: number\n  value?: number\n  onChange: (value: number) => void\n  disabled?: boolean\n  minLabel?: string\n  maxLabel?: string\n  step?: number\n  showValue?: boolean\n}\n\nconst SliderAnswerComponent = memo(function SliderAnswerComponent({\n  questionId,\n  minValue,\n  maxValue,\n  value,\n  onChange,\n  disabled = false,\n  minLabel,\n  maxLabel,\n  step = 1,\n  showValue = true,\n}: SliderAnswerComponentProps) {\n  const [uncontrolledValue, setUncontrolledValue] = useState(value ?? minValue)\n  const [isDragging, setIsDragging] = useState(false)\n\n  const localValue = value ?? uncontrolledValue\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = parseFloat(e.target.value)\n    if (value === undefined) {\n      setUncontrolledValue(newValue)\n    }\n    onChange(newValue)\n  }\n\n  const handleMouseDown = () => setIsDragging(true)\n  const handleMouseUp = () => setIsDragging(false)\n\n  // Calculate percentage for visual feedback\n  const percentage = ((localValue - minValue) / (maxValue - minValue)) * 100\n\n  return (\n    <div className=\"w-full\">\n      {/* Value Display */}\n      {showValue && (\n        <motion.div\n          className=\"text-center mb-4\"\n          animate={{ scale: isDragging ? 1.1 : 1 }}\n          transition={{ duration: 0.2 }}\n        >\n          <div\n            className=\"inline-flex items-center justify-center font-bold text-white rounded-full\"\n            style={{\n              fontSize: typography.fontSize['3xl'],\n              width: '80px',\n              height: '80px',\n              background: `linear-gradient(135deg, ${colors.primary[500]} 0%, ${colors.primary[600]} 100%)`,\n              boxShadow: isDragging ? '0 10px 20px rgba(14, 165, 233, 0.3)' : '0 4px 8px rgba(14, 165, 233, 0.2)',\n              transition: 'box-shadow 0.2s ease',\n            }}\n          >\n            {Math.round(localValue)}\n          </div>\n        </motion.div>\n      )}\n\n      {/* Slider Track Container */}\n      <div className=\"relative\" style={{ padding: `${spacing.lg} ${spacing.md}` }}>\n        {/* Custom Track Background */}\n        <div\n          className=\"absolute w-full h-2 rounded-full overflow-hidden\"\n          style={{\n            top: '50%',\n            transform: 'translateY(-50%)',\n            left: spacing.md,\n            right: spacing.md,\n            width: `calc(100% - ${spacing.md} * 2)`,\n          }}\n        >\n          {/* Background track */}\n          <div\n            className=\"absolute inset-0 bg-slate-200\"\n            style={{ borderRadius: componentTokens.progressBar.borderRadius }}\n          />\n          {/* Filled track */}\n          <motion.div\n            className=\"absolute inset-y-0 left-0\"\n            style={{\n              width: `${percentage}%`,\n              background: `linear-gradient(90deg, ${colors.primary[400]} 0%, ${colors.primary[600]} 100%)`,\n              borderRadius: componentTokens.progressBar.borderRadius,\n            }}\n            animate={{ width: `${percentage}%` }}\n            transition={{ duration: 0.2 }}\n          />\n        </div>\n\n        {/* Native Slider Input */}\n        <input\n          id={questionId}\n          type=\"range\"\n          min={minValue}\n          max={maxValue}\n          step={step}\n          value={localValue}\n          onChange={handleChange}\n          onMouseDown={handleMouseDown}\n          onMouseUp={handleMouseUp}\n          onTouchStart={handleMouseDown}\n          onTouchEnd={handleMouseUp}\n          disabled={disabled}\n          className=\"relative w-full h-12 cursor-pointer appearance-none bg-transparent z-10\"\n          style={{\n            // Custom thumb styling (webkit)\n            WebkitAppearance: 'none',\n          }}\n          aria-label={`Wert zwischen ${minValue} und ${maxValue}`}\n          aria-valuemin={minValue}\n          aria-valuemax={maxValue}\n          aria-valuenow={localValue}\n        />\n      </div>\n\n      {/* Min/Max Labels */}\n      <div className=\"flex justify-between items-center\" style={{ padding: `0 ${spacing.md}` }}>\n        <span\n          className=\"text-slate-600 font-medium\"\n          style={{ fontSize: typography.fontSize.sm }}\n        >\n          {minLabel || minValue}\n        </span>\n        <span\n          className=\"text-slate-600 font-medium\"\n          style={{ fontSize: typography.fontSize.sm }}\n        >\n          {maxLabel || maxValue}\n        </span>\n      </div>\n\n      {/* Custom CSS for slider thumb */}\n      <style jsx>{`\n        input[type='range']::-webkit-slider-thumb {\n          -webkit-appearance: none;\n          appearance: none;\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          background: white;\n          cursor: pointer;\n          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n          border: 3px solid ${colors.primary[500]};\n          transition: all 0.2s ease;\n        }\n\n        input[type='range']::-webkit-slider-thumb:hover {\n          transform: scale(1.1);\n          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);\n        }\n\n        input[type='range']::-webkit-slider-thumb:active {\n          transform: scale(1.15);\n          box-shadow: 0 8px 16px rgba(14, 165, 233, 0.3);\n        }\n\n        input[type='range']::-moz-range-thumb {\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          background: white;\n          cursor: pointer;\n          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n          border: 3px solid ${colors.primary[500]};\n          transition: all 0.2s ease;\n        }\n\n        input[type='range']::-moz-range-thumb:hover {\n          transform: scale(1.1);\n          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);\n        }\n\n        input[type='range']::-moz-range-thumb:active {\n          transform: scale(1.15);\n          box-shadow: 0 8px 16px rgba(14, 165, 233, 0.3);\n        }\n\n        input[type='range']:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        input[type='range']:disabled::-webkit-slider-thumb {\n          cursor: not-allowed;\n        }\n\n        input[type='range']:disabled::-moz-range-thumb {\n          cursor: not-allowed;\n        }\n      `}</style>\n    </div>\n  )\n})\n\nexport default SliderAnswerComponent\n","'use client'\n\nimport type { InfoStepDefinition } from '@/lib/types/funnel'\n\n/**\n * InfoStepRenderer - Renders informational/content steps\n * \n * Displays content-only steps without questions\n */\n\nexport type InfoStepRendererProps = {\n  step: InfoStepDefinition\n}\n\nexport default function InfoStepRenderer({ step }: InfoStepRendererProps) {\n  const content = 'content' in step ? step.content : step.description\n\n  return (\n    <div className=\"bg-sky-50 border border-sky-200 rounded-lg p-6\">\n      <p className=\"text-primary-900 leading-relaxed\">{content}</p>\n    </div>\n  )\n}\n","'use client'\n\nimport { lazy, Suspense } from 'react'\nimport { useIsMobile } from '@/lib/hooks/useIsMobile'\nimport { MobileContentPage } from '@/app/components/mobile'\nimport type { ContentPageStepDefinition } from '@/lib/types/funnel'\n\n// Lazy load the markdown renderer for performance\nconst MarkdownRenderer = lazy(() => import('@/app/components/MarkdownRenderer'))\n\ntype ContentPageStepRendererProps = {\n  step: ContentPageStepDefinition\n  onNextStep: () => void\n  onPreviousStep: () => void\n  isFirstStep: boolean\n  isLastStep: boolean\n  submitting: boolean\n  totalQuestions: number\n  answeredCount: number\n}\n\n/**\n * ContentPageStepRenderer - Renders content page steps in funnel flow\n * \n * Displays editorial content as part of the assessment flow.\n * On mobile, uses MobileContentPage for optimized viewing.\n * On desktop, uses card-based layout consistent with question steps.\n */\nexport default function ContentPageStepRenderer({\n  step,\n  onNextStep,\n  onPreviousStep,\n  isFirstStep,\n  isLastStep,\n  submitting,\n}: ContentPageStepRendererProps) {\n  const isMobile = useIsMobile()\n  const contentPage = step.contentPage\n\n  if (!contentPage) {\n    return (\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"bg-white rounded-2xl shadow-lg border border-red-200 p-8\">\n          <div className=\"text-center\">\n            <div className=\"mb-4 text-4xl\" role=\"img\" aria-label=\"Fehler\">\n              ‚ùå\n            </div>\n            <p className=\"text-lg font-semibold text-red-700 mb-4\">\n              Inhalt konnte nicht geladen werden\n            </p>\n            <p className=\"text-sm text-slate-600 mb-6\">\n              Der Inhalt dieser Seite ist nicht verf√ºgbar. Bitte versuchen Sie es sp√§ter erneut\n              oder √ºberspringen Sie diesen Schritt.\n            </p>\n            <button\n              onClick={onNextStep}\n              className=\"inline-flex justify-center items-center px-6 py-3 bg-sky-600 text-white rounded-xl font-semibold hover:bg-sky-700 transition-all\"\n              style={{ minHeight: '56px' }}\n            >\n              Weiter ‚Üí\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  // Mobile layout using MobileContentPage\n  if (isMobile) {\n    return (\n      <MobileContentPage\n        title={contentPage.title}\n        subtitle={step.description || undefined}\n        ctaLabel={isLastStep ? 'Abschlie√üen ‚Üí' : 'Weiter ‚Üí'}\n        onCtaClick={onNextStep}\n        secondaryLabel={!isFirstStep ? 'Zur√ºck' : undefined}\n        onSecondaryClick={!isFirstStep ? onPreviousStep : undefined}\n        isLoading={submitting}\n      >\n        {contentPage.excerpt && (\n          <div className=\"mb-6 p-4 sm:p-5 bg-sky-50 border-l-4 border-sky-500 rounded-lg\">\n            <p className=\"text-sm sm:text-base text-slate-700 leading-relaxed\">\n              {contentPage.excerpt}\n            </p>\n          </div>\n        )}\n        <Suspense fallback={<div className=\"animate-pulse text-slate-500\">L√§dt...</div>}>\n          <MarkdownRenderer content={contentPage.body_markdown} />\n        </Suspense>\n      </MobileContentPage>\n    )\n  }\n\n  // Desktop card-based layout - consistent with PatientFlowRenderer styling\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      <div className=\"bg-white rounded-2xl shadow-lg border border-slate-200/80 overflow-hidden\">\n        {/* Content Header */}\n        <div className=\"bg-gradient-to-br from-sky-50 to-blue-50 px-6 sm:px-8 py-5 sm:py-6 border-b border-slate-200/80\">\n          <h2 className=\"text-xl sm:text-2xl md:text-3xl font-semibold text-slate-900 leading-tight\">\n            {contentPage.title}\n          </h2>\n          {step.description && (\n            <p className=\"mt-2 text-sm sm:text-base text-slate-600 leading-relaxed\">\n              {step.description}\n            </p>\n          )}\n        </div>\n\n        {/* Content Body */}\n        <div className=\"px-6 sm:px-8 py-6 sm:py-8\">\n          {/* Excerpt */}\n          {contentPage.excerpt && (\n            <div className=\"mb-6 p-4 sm:p-5 bg-sky-50 border-l-4 border-sky-500 rounded-lg\">\n              <p className=\"text-sm sm:text-base text-slate-700 leading-relaxed\">\n                {contentPage.excerpt}\n              </p>\n            </div>\n          )}\n\n          {/* Main Content */}\n          <div className=\"prose prose-slate prose-sm sm:prose-base max-w-none\">\n            <Suspense fallback={<div className=\"animate-pulse text-slate-500\">L√§dt...</div>}>\n              <MarkdownRenderer content={contentPage.body_markdown} />\n            </Suspense>\n          </div>\n        </div>\n\n        {/* Navigation Footer */}\n        <div className=\"bg-slate-50 px-6 sm:px-8 py-5 sm:py-6 border-t border-slate-200\">\n          <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4\">\n            {!isFirstStep && (\n              <button\n                onClick={onPreviousStep}\n                disabled={submitting}\n                className=\"w-full sm:flex-1 inline-flex justify-center items-center px-5 sm:px-6 py-3 sm:py-4 rounded-xl bg-slate-200 text-slate-700 text-sm sm:text-base font-semibold hover:bg-slate-300 active:bg-slate-400 disabled:opacity-60 disabled:cursor-not-allowed transition-all touch-manipulation\"\n                style={{ minHeight: '56px' }}\n              >\n                ‚Üê Zur√ºck\n              </button>\n            )}\n            <button\n              onClick={onNextStep}\n              disabled={submitting}\n              className={`${isFirstStep ? 'w-full' : 'w-full sm:flex-1'} inline-flex justify-center items-center px-5 sm:px-6 py-3 sm:py-4 rounded-xl bg-sky-600 text-white text-sm sm:text-base font-semibold shadow-md hover:bg-sky-700 active:bg-sky-800 disabled:opacity-60 disabled:cursor-not-allowed transition-all touch-manipulation`}\n              style={{ minHeight: '56px' }}\n            >\n              {submitting ? (\n                <>\n                  <svg\n                    className=\"animate-spin -ml-1 mr-3 h-4 w-4 sm:h-5 sm:w-5 text-white\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <circle\n                      className=\"opacity-25\"\n                      cx=\"12\"\n                      cy=\"12\"\n                      r=\"10\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"4\"\n                    />\n                    <path\n                      className=\"opacity-75\"\n                      fill=\"currentColor\"\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    />\n                  </svg>\n                  Bitte warten...\n                </>\n              ) : isLastStep ? (\n                'Abschlie√üen ‚Üí'\n              ) : (\n                'Weiter ‚Üí'\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","'use client'\n\n/**\n * AssessmentProgress - Displays progress through the assessment\n * \n * Shows both question completion count and visual progress bar\n */\n\nexport type AssessmentProgressProps = {\n  answeredCount: number\n  totalQuestions: number\n  progressPercent: number\n}\n\nexport default function AssessmentProgress({\n  answeredCount,\n  totalQuestions,\n  progressPercent,\n}: AssessmentProgressProps) {\n  return (\n    <div className=\"mb-4 sm:mb-6 flex flex-col gap-2 sm:gap-3\">\n      <div className=\"flex items-center justify-between text-xs sm:text-sm md:text-base text-slate-700\">\n        <span className=\"font-medium\">\n          {answeredCount} / {totalQuestions} Fragen\n        </span>\n        <span className=\"text-xs sm:text-sm text-slate-500 font-medium\">\n          {Math.round(progressPercent)}%\n        </span>\n      </div>\n      <div className=\"w-full h-2 sm:h-3 bg-slate-100 rounded-full overflow-hidden\">\n        <div\n          className=\"h-full bg-gradient-to-r from-sky-500 to-sky-600 transition-all duration-300 ease-out rounded-full\"\n          style={{ width: `${progressPercent}%` }}\n          role=\"progressbar\"\n          aria-valuenow={progressPercent}\n          aria-valuemin={0}\n          aria-valuemax={100}\n          aria-label={`${answeredCount} von ${totalQuestions} Fragen beantwortet`}\n        />\n      </div>\n    </div>\n  )\n}\n","'use client'\n\n/**\n * AssessmentNavigationController - Manages navigation between assessment steps\n * \n * Provides Back and Next buttons with appropriate states\n */\n\nexport type AssessmentNavigationControllerProps = {\n  onNextStep: () => void\n  onPreviousStep: () => void\n  isFirstStep: boolean\n  isLastStep: boolean\n  submitting: boolean\n}\n\nexport default function AssessmentNavigationController({\n  onNextStep,\n  onPreviousStep,\n  isFirstStep,\n  isLastStep,\n  submitting,\n}: AssessmentNavigationControllerProps) {\n  return (\n    <div className=\"mt-6 sm:mt-8 flex flex-col sm:flex-row gap-3 sm:gap-4\">\n      {!isFirstStep && (\n        <button\n          type=\"button\"\n          onClick={onPreviousStep}\n          disabled={submitting}\n          className=\"w-full sm:flex-1 inline-flex justify-center items-center px-5 sm:px-6 py-3 sm:py-4 md:py-5 rounded-xl bg-slate-200 text-slate-700 text-sm sm:text-base md:text-lg font-semibold hover:bg-slate-300 active:bg-slate-400 disabled:opacity-60 disabled:cursor-not-allowed transition-all touch-manipulation\"\n          style={{ minHeight: '56px' }}\n        >\n          ‚Üê Zur√ºck\n        </button>\n      )}\n      <button\n        type=\"button\"\n        onClick={onNextStep}\n        disabled={submitting}\n        className=\"w-full sm:flex-1 inline-flex justify-center items-center px-5 sm:px-6 py-3 sm:py-4 md:py-5 rounded-xl bg-sky-600 text-white text-sm sm:text-base md:text-lg font-semibold shadow-md hover:bg-sky-700 active:bg-sky-800 disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:bg-sky-600 transition-all touch-manipulation\"\n        style={{ minHeight: '56px' }}\n      >\n        {submitting ? (\n          <>\n            <svg\n              className=\"animate-spin -ml-1 mr-3 h-4 w-4 sm:h-5 sm:w-5 text-white\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n            >\n              <circle\n                className=\"opacity-25\"\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                stroke=\"currentColor\"\n                strokeWidth=\"4\"\n              ></circle>\n              <path\n                className=\"opacity-75\"\n                fill=\"currentColor\"\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n              ></path>\n            </svg>\n            Bitte warten‚Ä¶\n          </>\n        ) : isLastStep ? (\n          '‚úì Antworten speichern & weiter'\n        ) : (\n          'Weiter ‚Üí'\n        )}\n      </button>\n    </div>\n  )\n}\n","'use client'\n\nimport type { FunnelDefinition, StepDefinition } from '@/lib/types/funnel'\nimport { isQuestionStep, isInfoStep, isContentPageStep } from '@/lib/types/funnel'\nimport QuestionStepRenderer from './QuestionStepRenderer'\nimport InfoStepRenderer from './InfoStepRenderer'\nimport ContentPageStepRenderer from './ContentPageStepRenderer'\nimport AssessmentProgress from './AssessmentProgress'\nimport AssessmentNavigationController from './AssessmentNavigationController'\nimport { useIsMobile } from '@/lib/hooks/useIsMobile'\n\n/**\n * PatientFlowRenderer - Central component for rendering the patient assessment flow\n * \n * Responsibilities:\n * - Determine current node type (Question, Info, Content Page, Result)\n * - Delegate rendering to appropriate node-specific renderer\n * - Display progress indicators\n * - Coordinate navigation between nodes\n * \n * On mobile (<640px) with single-question steps, uses full-screen adaptive layout.\n * On desktop or multi-question steps, uses traditional card-based layout.\n * \n * This is a presentational component - state management happens in parent.\n */\n\nexport type AssessmentStatus = {\n  assessmentId: string\n  status: 'in_progress' | 'completed'\n  currentStep: {\n    stepId: string\n    title: string\n    type: string\n    stepIndex: number\n    orderIndex: number\n  }\n  completedSteps: number\n  totalSteps: number\n}\n\nexport type ValidationError = {\n  questionId: string\n  questionKey: string\n  questionLabel: string\n  orderIndex: number\n}\n\nexport type PatientFlowRendererProps = {\n  funnel: FunnelDefinition\n  assessmentStatus: AssessmentStatus\n  currentStep: StepDefinition\n  answers: Record<string, number | string>\n  validationErrors: ValidationError[]\n  error: string | null\n  submitting: boolean\n  answeredCount: number\n  showRecoveryBanner: boolean\n  onAnswerChange: (questionKey: string, value: number | string) => void\n  onNextStep: () => void\n  onPreviousStep: () => void\n  isFirstStep: boolean\n  isLastStep: boolean\n}\n\nexport default function PatientFlowRenderer({\n  funnel,\n  assessmentStatus,\n  currentStep,\n  answers,\n  validationErrors,\n  error,\n  submitting,\n  answeredCount,\n  showRecoveryBanner,\n  onAnswerChange,\n  onNextStep,\n  onPreviousStep,\n  isFirstStep,\n  isLastStep,\n}: PatientFlowRendererProps) {\n  const totalQuestions = funnel.totalQuestions\n  const progressPercent = totalQuestions > 0 ? (answeredCount / totalQuestions) * 100 : 0\n  const isMobile = useIsMobile()\n\n  // On mobile with single-question step, use full-screen adaptive layout\n  const useMobileFullScreen = isMobile && isQuestionStep(currentStep) && currentStep.questions.length === 1\n\n  if (useMobileFullScreen) {\n    // Mobile full-screen adaptive layout - rendered by QuestionStepRenderer\n    return (\n      <QuestionStepRenderer\n        step={currentStep}\n        answers={answers}\n        validationErrors={validationErrors}\n        onAnswerChange={onAnswerChange}\n        onNextStep={onNextStep}\n        onPreviousStep={onPreviousStep}\n        isFirstStep={isFirstStep}\n        isLastStep={isLastStep}\n        submitting={submitting}\n        totalQuestions={totalQuestions}\n        funnelTitle={funnel.title}\n      />\n    )\n  }\n\n  // Desktop or multi-question step: full-width patient layout\n  return (\n    <main className=\"w-full px-4 sm:px-6 lg:px-8 py-8 sm:py-12\">\n      {/* Recovery Banner */}\n      {showRecoveryBanner && answeredCount > 0 && assessmentStatus.currentStep.stepIndex > 0 && (\n        <div className=\"mb-4 sm:mb-6 bg-green-50 border border-green-200 rounded-lg p-3 sm:p-4\">\n          <div className=\"flex items-start gap-2 sm:gap-3\">\n            <span className=\"text-lg sm:text-xl shrink-0\">‚úÖ</span>\n            <div className=\"flex-1\">\n              <h3 className=\"text-xs sm:text-sm font-semibold text-green-900 mb-1\">\n                Fortschritt wiederhergestellt\n              </h3>\n              <p className=\"text-xs sm:text-sm text-green-700\">\n                Sie setzen Ihre Umfrage fort. Ihre bisherigen {answeredCount} Antworten wurden\n                wiederhergestellt.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <header className=\"mb-4 sm:mb-6\">\n        <p className=\"text-xs sm:text-sm font-medium uppercase tracking-wide text-sky-600 mb-2\">\n          {funnel.title}\n        </p>\n        <h1 className=\"text-lg sm:text-xl md:text-2xl lg:text-3xl font-semibold text-slate-900 mb-2 leading-tight\">\n          Schritt {assessmentStatus.currentStep.stepIndex + 1} von {assessmentStatus.totalSteps}:{' '}\n          {currentStep.title}\n        </h1>\n        {currentStep.description && (\n          <p className=\"text-sm sm:text-base text-slate-600 leading-relaxed\">{currentStep.description}</p>\n        )}\n      </header>\n\n      {/* Progress Indicator */}\n      <AssessmentProgress\n        answeredCount={answeredCount}\n        totalQuestions={totalQuestions}\n        progressPercent={progressPercent}\n      />\n\n      {/* Step Content Renderer - Delegates to node-specific renderers */}\n      <div className=\"mb-6\">\n        {isQuestionStep(currentStep) && (\n          <QuestionStepRenderer\n            step={currentStep}\n            answers={answers}\n            validationErrors={validationErrors}\n            onAnswerChange={onAnswerChange}\n            onNextStep={onNextStep}\n            onPreviousStep={onPreviousStep}\n            isFirstStep={isFirstStep}\n            isLastStep={isLastStep}\n            submitting={submitting}\n            totalQuestions={totalQuestions}\n            funnelTitle={funnel.title}\n          />\n        )}\n\n        {isInfoStep(currentStep) && <InfoStepRenderer step={currentStep} />}\n\n        {isContentPageStep(currentStep) && (\n          <ContentPageStepRenderer\n            step={currentStep}\n            onNextStep={onNextStep}\n            onPreviousStep={onPreviousStep}\n            isFirstStep={isFirstStep}\n            isLastStep={isLastStep}\n            submitting={submitting}\n            totalQuestions={totalQuestions}\n            answeredCount={answeredCount}\n          />\n        )}\n\n        {/* Future: Add ResultRenderer for result steps */}\n      </div>\n\n      {/* Error Message */}\n      {error && (\n        <div className=\"mt-4 sm:mt-6 text-xs sm:text-sm md:text-base text-red-700 bg-red-50 border-2 border-red-200 rounded-xl px-3 sm:px-4 py-3 sm:py-3.5 flex items-start gap-2 sm:gap-3\">\n          <span className=\"text-lg sm:text-xl shrink-0\">‚ùå</span>\n          <p className=\"leading-relaxed\">{error}</p>\n        </div>\n      )}\n\n      {/* Navigation Controls */}\n      <AssessmentNavigationController\n        onNextStep={onNextStep}\n        onPreviousStep={onPreviousStep}\n        isFirstStep={isFirstStep}\n        isLastStep={isLastStep}\n        submitting={submitting}\n      />\n\n      {/* Last Step Helper Text */}\n      {isLastStep && (\n        <p className=\"mt-3 sm:mt-4 text-xs sm:text-sm text-slate-500 text-center leading-relaxed px-2 sm:px-4\">\n          Nach dem Abschicken werden Ihre Antworten ausgewertet. Anschlie√üend sehen Sie Ihre\n          Ergebnisse.\n        </p>\n      )}\n    </main>\n  )\n}\n","/**\n * Client-side Event Logging\n * \n * Part of V0.4-E6 Technical Cleanup & Stability Layer\n * \n * Provides structured logging for key user actions and events on the client side.\n * This helps track user behavior, identify issues, and improve the user experience.\n * \n * In production, these logs can be sent to a monitoring service (e.g., LogRocket, Sentry).\n * For now, they output to the console with structured formatting.\n */\n\nexport enum ClientEventType {\n  // Assessment lifecycle events\n  ASSESSMENT_STARTED = 'assessment_started',\n  ASSESSMENT_RESUMED = 'assessment_resumed',\n  ASSESSMENT_COMPLETED = 'assessment_completed',\n  ASSESSMENT_CREATE_FAILED = 'assessment_create_failed',\n  ASSESSMENT_404_FALLBACK = 'assessment_404_fallback',\n  ASSESSMENT_404_RECOVERED = 'assessment_404_recovered',\n  \n  // Navigation events\n  STEP_NAVIGATED = 'step_navigated',\n  STEP_VALIDATED = 'step_validated',\n  \n  // Answer events\n  ANSWER_SAVED = 'answer_saved',\n  ANSWER_CHANGED = 'answer_changed',\n  \n  // UI events\n  PAGE_VIEW = 'page_view',\n  ERROR_DISPLAYED = 'error_displayed',\n  LOADING_STARTED = 'loading_started',\n  LOADING_COMPLETED = 'loading_completed',\n  \n  // User actions\n  BUTTON_CLICKED = 'button_clicked',\n  LINK_CLICKED = 'link_clicked',\n  FORM_SUBMITTED = 'form_submitted',\n  \n  // Content events\n  CONTENT_PAGE_VIEWED = 'content_page_viewed',\n  \n  // Export events\n  DATA_EXPORTED = 'data_exported',\n}\n\nexport type ClientEventContext = {\n  // Assessment context\n  assessmentId?: string\n  funnelSlug?: string\n  stepId?: string\n  questionId?: string\n  \n  // Navigation context\n  currentPath?: string\n  previousPath?: string\n  \n  // User context\n  userId?: string\n  userRole?: string\n  \n  // Additional metadata\n  [key: string]: unknown\n}\n\ntype ClientLogEntry = {\n  timestamp: string\n  eventType: ClientEventType\n  context: ClientEventContext\n  message?: string\n}\n\n/**\n * Log a client-side event\n * \n * @param eventType - Type of event to log\n * @param context - Event context with additional metadata\n * @param message - Optional human-readable message\n */\nexport function logClientEvent(\n  eventType: ClientEventType,\n  context: ClientEventContext,\n  message?: string\n): void {\n  const entry: ClientLogEntry = {\n    timestamp: new Date().toISOString(),\n    eventType,\n    context: {\n      ...context,\n      userAgent: typeof window !== 'undefined' ? window.navigator.userAgent : 'unknown',\n      screenSize: typeof window !== 'undefined' \n        ? `${window.innerWidth}x${window.innerHeight}` \n        : 'unknown',\n    },\n    message,\n  }\n\n  // Output to console with structured formatting\n  const logOutput = JSON.stringify(entry, null, 2)\n  console.log(`[CLIENT EVENT] ${eventType}`, logOutput)\n\n  // TODO: Send to monitoring service in production\n  // Example:\n  // if (process.env.NODE_ENV === 'production') {\n  //   sendToMonitoringService(entry)\n  // }\n}\n\n/**\n * Specialized logging functions for common events\n */\n\nexport function logAssessmentStarted(assessmentId: string, funnelSlug: string): void {\n  logClientEvent(\n    ClientEventType.ASSESSMENT_STARTED,\n    { assessmentId, funnelSlug },\n    `Assessment started: ${funnelSlug}`\n  )\n}\n\nexport function logAssessmentResumed(\n  assessmentId: string,\n  funnelSlug: string,\n  answeredCount: number\n): void {\n  logClientEvent(\n    ClientEventType.ASSESSMENT_RESUMED,\n    { assessmentId, funnelSlug, answeredCount },\n    `Assessment resumed with ${answeredCount} existing answers`\n  )\n}\n\nexport function logAssessmentCompleted(assessmentId: string, funnelSlug: string): void {\n  logClientEvent(\n    ClientEventType.ASSESSMENT_COMPLETED,\n    { assessmentId, funnelSlug },\n    `Assessment completed: ${funnelSlug}`\n  )\n}\n\nexport function logStepNavigated(\n  assessmentId: string,\n  stepId: string,\n  direction: 'next' | 'previous'\n): void {\n  logClientEvent(\n    ClientEventType.STEP_NAVIGATED,\n    { assessmentId, stepId, direction },\n    `Navigated ${direction} to step ${stepId}`\n  )\n}\n\nexport function logValidationError(\n  assessmentId: string,\n  stepId: string,\n  missingCount: number\n): void {\n  logClientEvent(\n    ClientEventType.STEP_VALIDATED,\n    { assessmentId, stepId, missingCount, valid: false },\n    `Validation failed: ${missingCount} missing answers`\n  )\n}\n\nexport function logAnswerSaved(\n  assessmentId: string,\n  questionId: string,\n  answerValue: number | string\n): void {\n  logClientEvent(\n    ClientEventType.ANSWER_SAVED,\n    { assessmentId, questionId, answerValue },\n    `Answer saved for question ${questionId}`\n  )\n}\n\nexport function logPageView(path: string, context?: ClientEventContext): void {\n  logClientEvent(\n    ClientEventType.PAGE_VIEW,\n    { currentPath: path, ...context },\n    `Page viewed: ${path}`\n  )\n}\n\nexport function logErrorDisplayed(\n  errorMessage: string,\n  area: string,\n  context?: ClientEventContext\n): void {\n  logClientEvent(\n    ClientEventType.ERROR_DISPLAYED,\n    { area, errorMessage, ...context },\n    `Error displayed in ${area}: ${errorMessage}`\n  )\n}\n\nexport function logLoadingState(\n  isLoading: boolean,\n  area: string,\n  context?: ClientEventContext\n): void {\n  const eventType = isLoading \n    ? ClientEventType.LOADING_STARTED \n    : ClientEventType.LOADING_COMPLETED\n    \n  logClientEvent(\n    eventType,\n    { area, ...context },\n    `Loading ${isLoading ? 'started' : 'completed'} in ${area}`\n  )\n}\n\n/**\n * Helper to track button/link clicks with context\n */\nexport function logUserAction(\n  action: 'button_click' | 'link_click' | 'form_submit',\n  label: string,\n  context?: ClientEventContext\n): void {\n  const eventTypeMap = {\n    'button_click': ClientEventType.BUTTON_CLICKED,\n    'link_click': ClientEventType.LINK_CLICKED,\n    'form_submit': ClientEventType.FORM_SUBMITTED,\n  }\n  \n  logClientEvent(\n    eventTypeMap[action],\n    { label, ...context },\n    `User action: ${action} - ${label}`\n  )\n}\n\n/**\n * Placeholder for future monitoring service integration\n * \n * TODO: Implement actual event collection when ready.\n * This can send events to:\n * - LogRocket (Recommended for session recording)\n * - Sentry (For error tracking with session replay)\n * - PostHog (For product analytics)\n * - Custom analytics endpoint\n * \n * See: docs/MONITORING_INTEGRATION.md for detailed integration guide\n * \n * Example implementation with LogRocket:\n * \n * import LogRocket from 'logrocket'\n * \n * if (typeof window !== 'undefined' && process.env.NEXT_PUBLIC_LOGROCKET_ID) {\n *   LogRocket.init(process.env.NEXT_PUBLIC_LOGROCKET_ID)\n * }\n * \n * async function sendToMonitoringService(entry: ClientLogEntry): Promise<void> {\n *   if (typeof window !== 'undefined' && process.env.NODE_ENV === 'production') {\n *     LogRocket.track(entry.eventType, entry.context)\n *   }\n * }\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nasync function sendToMonitoringService(entry: ClientLogEntry): Promise<void> {\n  // Future implementation\n  // await fetch('/api/analytics/events', {\n  //   method: 'POST',\n  //   headers: { 'Content-Type': 'application/json' },\n  //   body: JSON.stringify(entry),\n  // })\n}\n"],"names":[],"mappings":"kJAwBoB,IAAA,EAAA,EAAA,CAAA,CAAA,kBAvBpB,IAAI,EAAA,EAAA,CAAA,CAAA,OAIA,EAFwC,GAAkB,UAAb,EAE5B,KAFmC,GAAkB,GAE1C,GAAE,OAFqD,CAE/B,EAFuC,CAAE,AAAN,SAAmB,EAAF,AAqBxG,EAAS,KAAmB,IAAZ,EAAA,OAAO,EAAoB,EAAA,OAAO,CAAC,GAAG,GAAI,EAC1D,EAAW,SAAS,CAAC,EACrB,MAA6C,oBAAtC,OAAO,EAFqE,OAE5D,CAAC,QAAQ,CAAC,IAAI,CAAC,EAC1C,EACI,EAA2B,WAC3B,AADa,SACJ,EADe,AACJ,CAAK,EACrB,IAAI,EAAgB,KAAK,IAAf,EAAmB,CAAC,EAAI,EAAO,EAAQ,EAAI,IAAI,CAAE,EAAiB,KAAK,IAAf,EAAmB,aAAe,EAAO,EAAoB,EAAI,gBAAgB,CAAE,EAAyC,KAAK,IAA3B,EAA+B,EAAS,EAChN,EAAY,EAAS,GAAO,2BAC5B,IAAI,CAAC,KAAK,CAAG,EACb,IAAI,CAAC,uBAAuB,CAAG,IAAM,EAAO,sBAC5C,EAAwC,WAA5B,OAAO,EAAgC,wCACnD,IAAI,CAAC,iBAAiB,CAAG,EACzB,IAAI,CAAC,YAAY,MAAG,EACpB,IAAI,CAAC,KAAK,CAAG,EAAE,CACf,IAAI,CAAC,SAAS,EAAG,EACjB,IAAI,CAAC,WAAW,CAAG,EACnB,IAAI,EAAyB,aAAlB,OAAO,QAA0B,SAAS,aAAa,CAAC,8BACnE,IAAI,CAAC,MAAM,CAAG,EAAO,EAAK,YAAY,CAAC,WAAa,IACxD,CACA,MAAI,EAAS,EAAW,SAAS,CA2LjC,OA1LA,EAAO,mBAAmB,CAAG,SAAS,AAAoB,CAAI,EAC1D,EAA4B,WAAhB,OAAO,EAAoB,2CACvC,EAAiC,IAArB,IAAI,CAAC,WAAW,CAAQ,oEACpC,IAAI,CAAC,KAAK,GACV,IAAI,CAAC,iBAAiB,CAAG,EACzB,IAAI,CAAC,MAAM,EACf,EACA,EAAO,kBAAkB,CAAG,SAAS,EACjC,OAAO,IAAI,CAAC,iBAAiB,AACjC,EACA,EAAO,MAAM,CAAG,SAAS,EACrB,IAAI,EAAQ,IAAI,CAGhB,GAFA,EAAY,CAAC,IAAI,CAAC,SAAS,CAAE,0BAC7B,IAAI,CAAC,SAAS,EAAG,EACK,aAAlB,OAAO,QAA0B,IAAI,CAAC,iBAAiB,CAAE,CACzD,IAAI,CAAC,KAAK,CAAC,EAAE,CAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAC5C,IAAI,CAAC,iBAAiB,CAAG,eAAgB,IAAI,CAAC,QAAQ,GACjD,IAAI,CAAC,iBAAiB,EAAE,CACrB,AAAC,GACD,KADS,GACD,IAAI,CAAC,kFAEjB,IAAI,CAAC,KAAK,GACV,IAAI,CAAC,SAAS,EAAG,GAErB,MACJ,CACA,IAAI,CAAC,YAAY,CAAG,CAChB,SAAU,EAAE,CACZ,WAAY,SAAS,CAAI,CAAE,CAAK,EAU5B,MATqB,UAAjB,AAA2B,OAApB,EACP,EAAM,YAAY,CAAC,QAAQ,CAAC,EAAM,CAAG,CACjC,QAAS,CACb,EAEA,EAAM,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAC7B,QAAS,CACb,GAEG,CACX,EACA,WAAY,SAAS,CAAK,EACtB,EAAM,YAAY,CAAC,QAAQ,CAAC,EAAM,CAAG,IACzC,CACJ,CACJ,EACA,EAAO,cAAc,CAAG,SAAS,AAAe,CAAG,EAC/C,GAAI,EAAI,KAAK,CACT,CADW,MACJ,EAAI,KAAK,CAGpB,IAAI,IAAI,EAAI,EAAG,EAAI,SAAS,WAAW,CAAC,MAAM,CAAE,IAAI,AAChD,GAAI,SAAS,WAAW,CAAC,EAAE,CAAC,SAAS,GAAK,EACtC,GAD2C,IACpC,SAAS,WAAW,CAAC,EAAE,AAG1C,EACA,EAAO,QAAQ,CAAG,SAAS,EACvB,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAG,EAAE,CAChE,EACA,EAAO,UAAU,CAAG,SAAS,AAAW,CAAI,CAAE,CAAK,EAE/C,GADA,EAAY,EAAS,GAAO,qCACN,aAAlB,AAA+B,OAAxB,OAKP,MAJqB,UAAU,AAA3B,OAAO,IACP,EAAQ,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAA,AAAM,EAE7C,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAM,GAC5B,IAAI,CAAC,WAAW,GAE3B,GAAI,IAAI,CAAC,iBAAiB,CAAE,CACxB,IAAI,EAAQ,IAAI,CAAC,QAAQ,EACrB,CAAiB,UAAU,OAApB,IACP,EAAQ,EAAM,QAAQ,CAAC,MAAA,AAAM,EAIjC,GAAI,CACA,EAAM,UAAU,CAAC,EAAM,EAC3B,CAAE,MAAO,EAAO,CAIZ,OAHI,AAAC,GACD,KADS,GACD,IAAI,CAAC,iCAAmC,EAAO,8DAEpD,CAAC,CACZ,CACJ,KAAO,CACH,IAAI,EAAiB,IAAI,CAAC,KAAK,CAAC,EAAM,CACtC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAE,EAAM,GACxD,CACA,OAAO,IAAI,CAAC,WAAW,EAC3B,EACA,EAAO,WAAW,CAAG,SAAS,AAAY,CAAK,CAAE,CAAI,EACjD,GAAI,IAAI,CAAC,iBAAiB,EAAsB,aAAlB,OAAO,OAAwB,CACzD,IAAI,EAA0B,aAAlB,OAAO,OAAyB,IAAI,CAAC,QAAQ,GAAK,IAAI,CAAC,YAAY,CAI/E,GAHI,AAAC,EAAK,IAAI,IAAI,CACd,EAAO,IAAI,CAAC,uBAAA,AAAuB,EAEnC,CAAC,EAAM,QAAQ,CAAC,EAAM,CAEtB,CAFwB,MAEjB,EAEX,EAAM,UAAU,CAAC,GACjB,GAAI,CACA,EAAM,UAAU,CAAC,EAAM,EAC3B,CAAE,MAAO,EAAO,CACR,AAAC,GACD,KADS,GACD,IAAI,CAAC,iCAAmC,EAAO,8DAG3D,EAAM,UAAU,CAAC,IAAI,CAAC,uBAAuB,CAAE,EACnD,CACJ,KAAO,CACH,IAAI,EAAM,IAAI,CAAC,KAAK,CAAC,EAAM,CAC3B,EAAY,EAAK,sBAAwB,EAAQ,eACjD,EAAI,WAAW,CAAG,CACtB,CACA,OAAO,CACX,EACA,EAAO,UAAU,CAAG,SAAS,AAAW,CAAK,EACzC,GAAsB,aAAlB,OAAO,OAAwB,YAC/B,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,GAGjC,GAAI,IAAI,CAAC,iBAAiB,CACtB,CADwB,GACpB,CAAC,WAAW,CAAC,EAAO,QACrB,CACH,IAAI,EAAM,IAAI,CAAC,KAAK,CAAC,EAAM,CAC3B,EAAY,EAAK,kBAAoB,EAAQ,eAC7C,EAAI,UAAU,CAAC,WAAW,CAAC,GAC3B,IAAI,CAAC,KAAK,CAAC,EAAM,CAAG,IACxB,CACJ,EACA,EAAO,KAAK,CAAG,SAAS,EACpB,IAAI,CAAC,SAAS,CAAG,GACjB,IAAI,CAAC,WAAW,CAAG,EACG,aAAlB,AAA+B,OAAxB,QACP,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAG,EAC3B,OAAO,GAAO,EAAI,UAAU,CAAC,WAAW,CAAC,EAC7C,GACA,IAAI,CAAC,KAAK,CAAG,EAAE,EAGf,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAG,EAAE,AAEvC,EACA,EAAO,QAAQ,CAAG,SAAS,EACvB,IAAI,EAAQ,IAAI,OAChB,AAAsB,aAAlB,AAA+B,OAAxB,OACA,IAAI,CAAC,YAAY,CAAC,QAAQ,CAE9B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAK,CAAE,CAAG,EAQxC,OAPI,EACA,EAAQ,CADH,CACS,MAAM,CAAC,MAAM,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,EAAM,cAAc,CAAC,GAAK,QAAQ,CAAE,SAAS,CAAI,EAC3F,OAAO,EAAK,OAAO,GAAK,EAAM,uBAAuB,CAAG,KAAO,CACnE,IAEA,EAAM,IAAI,CAAC,MAER,CACX,EAAG,EAAE,CACT,EACA,EAAO,YAAY,CAAG,SAAsB,AAAb,CAAiB,CAAE,CAAS,CAAE,CAAa,EAClE,GACA,EAAY,EAAS,GAAY,CADtB,wDAGf,IAAI,EAAM,SAAS,aAAa,CAAC,SAC7B,IAAI,CAAC,MAAM,EAAE,EAAI,YAAY,CAAC,QAAS,IAAI,CAAC,MAAM,EACtD,EAAI,IAAI,CAAG,WACX,EAAI,YAAY,CAAC,QAAU,EAAM,IAC7B,GACA,EAAI,MADO,KACI,CAAC,SAAS,cAAc,CAAC,IAE5C,IAAI,EAAO,SAAS,IAAI,EAAI,SAAS,oBAAoB,CAAC,OAAO,CAAC,EAAE,CAMpE,OALI,EACA,EAAK,WADU,CACE,CAAC,EAAK,GAEvB,EAAK,WAAW,CAAC,GAEd,CACX,EA1M+B,EA2MN,CACrB,CACI,IAAK,EA7M4B,EAAE,KA8MnC,IAAK,EA9MyC,OA8MhC,EACV,OAAO,IAAI,CAAC,WAChB,AAD2B,CAE/B,EACH,CAjNe,AAVjB,SAAS,AAAkB,CAAM,CAAE,CAAK,EACvC,IAAI,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,IAAI,CACjC,IAAI,EAAa,CAAK,CAAC,EAAE,CACzB,EAAW,UAAU,CAAG,EAAW,UAAU,GAAI,EACjD,EAAW,YAAY,EAAG,EACtB,UAAW,IAAY,EAAW,QAAQ,EAAG,CAAA,EACjD,OAAO,cAAc,CAAC,EAAQ,EAAW,GAAG,CAAE,EAClD,CACJ,EA4MiB,AA1MqB,EAAY,SAAS,CAAE,GAkNlD,CACX,IACA,SAAS,EAAY,CAAS,CAAE,CAAO,EACnC,GAAI,CAAC,EACD,MAAM,AAAI,GADE,GACI,eAAiB,EAAU,IAEnD,CAWA,IAAI,EATJ,SAAc,AAAL,CAAQ,CASA,CAPb,IADA,IAAI,EAAS,KAAM,EAAI,EAAI,MAAM,CAC3B,EAAE,CACJ,EAAkB,GAAT,EAAc,EAAI,UAAU,CAAC,EAAE,GAIiB,OAAO,IAAW,CACnF,EAMI,EAAQ,CAAC,EAKT,SAAS,EAAU,CAAM,CAAE,CAAK,EAChC,GAAI,CAAC,EACD,KADQ,CACD,OAAS,EAEpB,IAAI,EAAgB,OAAO,GACvB,EAAM,EAAS,EAInB,OAHI,AAAC,CAAK,CAAC,EAAI,EAAE,CACb,CAAK,CAAC,EAAI,CAAG,OAAS,EAAW,EAAS,IAAM,EAAA,EAE7C,CAAK,CAAC,EAAI,AACrB,CAKI,SAAS,EAAgB,CAAE,CAAE,CAAG,EAKV,aAAlB,AAA+B,OAAxB,SACP,EAAe,AA5BZ,EAAK,EA4BF,KA5BS,CAAC,YAAa,WA4Bd,EAEnB,IAAI,EAAQ,EAAK,EAIjB,OAHI,AAAC,CAAK,CAAC,EAAM,EAAE,CACf,CAAK,CAAC,EAAM,CAAG,EAAI,OAAO,CATC,AASA,gCAA0B,EAAA,EAElD,CAAK,CAAC,EAAM,AACvB,CAkBA,IAAI,EAAmC,WACnC,QADqB,CACZ,EAAmB,CAAK,EAC7B,IAAI,CAFwB,CAER,KAAK,IAAf,EAAmB,CAAC,EAAI,EAAO,EAAc,EAAI,UAAU,CAAE,EAA6B,KAAK,IAArB,EAAyB,KAAO,EAAa,EAAoB,EAAI,gBAAgB,CAAE,EAAyC,KAAK,IAA3B,AAA+B,GAAQ,EACrO,IAAI,CAAC,MAAM,CAAG,GAAc,IAAI,EAAW,CACvC,KAAM,aACN,iBAAkB,CACtB,GACA,IAAI,CAAC,MAAM,CAAC,MAAM,GACd,GAAc,AAA4B,WAAW,OAAhC,IACrB,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,GAChC,IAAI,CAAC,iBAAiB,CAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,IAE3D,IAAI,CAAC,WAAW,MAAG,EACnB,IAAI,CAAC,QAAQ,CAAG,CAAC,EACjB,IAAI,CAAC,gBAAgB,CAAG,CAAC,CAC7B,CACA,IAAI,EAAS,EAAmB,SAAS,CAoHzC,OAnHA,EAAO,GAAG,CAAG,SAAS,AAAI,CAAK,EAC3B,IAAI,EAAQ,IAAI,AACZ,UAAc,IAAI,CAAC,iBAAiB,EAAE,CACtC,IAAI,CAAC,iBAAiB,CAAG,MAAM,OAAO,CAAC,EAAM,QAAQ,EACrD,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,EACtD,IAAI,CAAC,iBAAiB,CAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,IAErC,aAAlB,EAAiC,KAA1B,QAA2B,IAAI,CAAC,WAAW,EAAE,CACpD,IAAI,CAAC,WAAW,CAAG,IAAI,CAAC,gBAAgB,GACxC,IAAI,CAAC,gBAAgB,CAAG,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,MAAM,CAAC,SAAS,CAAG,CAAE,CAAO,EAE9E,OADA,CAAG,CAAC,EAAQ,CAAG,EACR,CACX,EAAG,CAAC,IAER,IAAI,EAAM,IAAI,CAAC,aAAa,CAAC,GAAQ,EAAU,EAAI,OAAO,CAAE,EAAQ,EAAI,KAAK,CAE7E,GAAI,KAAW,IAAI,CAAC,gBAAgB,CAAE,CAClC,IAAI,CAAC,gBAAgB,CAAC,EAAQ,EAAI,EAClC,MACJ,CACA,IAAI,EAAU,EAAM,GAAG,CAAC,SAAS,CAAI,EACjC,OAAO,EAAM,MAAM,CAAC,UAAU,CAAC,EACnC,GAAE,AACD,MAAM,CAAC,SAAS,CAAK,EAClB,OAAiB,CAAC,AAFO,IAElB,CACX,GACA,IAAI,CAAC,QAAQ,CAAC,EAAQ,CAAG,EACzB,IAAI,CAAC,gBAAgB,CAAC,EAAQ,CAAG,CACrC,EACA,EAAO,MAAM,CAAG,SAAS,AAAO,CAAK,EACjC,IAAI,EAAQ,IAAI,CACZ,EAAU,IAAI,CAAC,aAAa,CAAC,GAAO,OAAO,CAG/C,GAFA,AAqFR,SAAS,AAAU,CAAS,CAAE,CAAO,EACjC,GAAI,CAAC,EACD,MAAM,AAAI,GADE,GACI,uBAAyB,EAAU,IAE3D,EAzFkB,KAAW,IAAI,CAAC,gBAAgB,CAAE,aAAe,EAAU,eACrE,IAAI,CAAC,gBAAgB,CAAC,EAAQ,EAAI,EAC9B,IAAI,CAAC,gBAAgB,CAAC,EAAQ,CAAG,EAAG,CACpC,IAAI,EAAgB,IAAI,CAAC,WAAW,EAAI,IAAI,CAAC,WAAW,CAAC,EAAQ,CAC7D,GACA,EAAc,UADC,AACS,CAAC,WAAW,CAAC,GACrC,OAAO,IAAI,CAAC,WAAW,CAAC,EAAQ,GAEhC,IAAI,CAAC,QAAQ,CAAC,EAAQ,CAAC,OAAO,CAAC,SAAS,CAAK,EACzC,OAAO,EAAM,MAAM,CAAC,UAAU,CAAC,EACnC,GACA,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAQ,EAEjC,OAAO,IAAI,CAAC,gBAAgB,CAAC,EACjC,AADyC,CAE7C,EACA,EAAO,MAAM,CAAG,SAAS,AAAO,CAAK,CAAE,CAAS,EAC5C,IAAI,CAAC,GAAG,CAAC,GACT,IAAI,CAAC,MAAM,CAAC,EAChB,EACA,EAAO,KAAK,CAAG,SAAS,EACpB,IAAI,CAAC,MAAM,CAAC,KAAK,GACjB,IAAI,CAAC,MAAM,CAAC,MAAM,GAClB,IAAI,CAAC,WAAW,MAAG,EACnB,IAAI,CAAC,QAAQ,CAAG,CAAC,EACjB,IAAI,CAAC,gBAAgB,CAAG,CAAC,CAC7B,EACA,EAAO,QAAQ,CAAG,SAAS,EACvB,IAAI,EAAQ,IAAI,CACZ,EAAa,IAAI,CAAC,WAAW,CAAG,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,SAAS,CAAO,EAClF,MAAO,CACH,EACA,EAAM,WAAW,CAAC,EAAQ,CAC7B,AACL,GAAK,EAAE,CACH,EAAW,IAAI,CAAC,MAAM,CAAC,QAAQ,GACnC,OAAO,EAAW,MAAM,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,SAAS,CAAO,EACpE,MAAO,CACH,EACA,EAAM,QAAQ,CAAC,EAAQ,CAAC,GAAG,CAAC,SAAS,CAAK,EACtC,OAAO,CAAQ,CAAC,EAAM,CAAC,OAAO,AAClC,GAAG,IAAI,CAAC,EAAM,iBAAiB,CAAG,GAAK,MAC1C,AACL,GAAE,AACD,MAAM,CAAC,SAAS,CAAI,EACjB,MAFuB,CAEhB,CAAQ,CAAI,CAAC,EAAE,AAC1B,GACJ,EACA,EAAO,MAAM,CAAG,SAAS,AAAO,CAAO,UACnC,OAlHiB,AAkHV,EAAgB,IAAI,CAAC,CAlHH,OAkHW,GAjHpC,AAAY,KAAK,KADU,EAkHa,KAlHN,AACd,EAAU,EAAC,EAC5B,EAAS,GAAG,CAAC,SAAS,CAAI,EAC7B,IAAI,EAAK,CAAI,CAAC,EAAE,CACZ,EAAM,CAAI,CAAC,EAAE,CACjB,OAAO,AAAc,EAAe,OAAU,CAAC,CAA7B,GAAiB,SAAyB,CAAC,QAAS,CAClE,GAAI,KAAO,EAEX,IAAK,KAAO,EACZ,MAAO,EAAQ,KAAK,CAAG,EAAQ,KAAK,MAAG,EACvC,wBAAyB,CACrB,OAAQ,CACZ,CACJ,EACJ,EAqGA,EACA,EAAO,aAAa,CAAG,SAAS,AAAc,CAAK,EAC/C,IAAI,EAAM,EAAM,QAAQ,CAAE,EAAU,EAAM,OAAO,CAAE,EAAK,EAAM,EAAE,CAChE,GAAI,EAAS,CACT,IAAI,EAAU,EAAU,EAAI,GAC5B,MAAO,CACH,QAAS,EACT,MAAO,MAAM,OAAO,CAAC,GAAO,EAAI,GAAG,CAAC,SAAS,CAAI,EAC7C,OAAO,EAAgB,EAAS,EACpC,GAAK,CACD,EAAgB,EAAS,GAEjC,AADK,CAET,CACA,MAAO,CACH,QAAS,EAAU,GACnB,MAAO,MAAM,OAAO,CAAC,GAAO,EAAM,CAC9B,EACH,AACL,CACJ,EAKE,EAAO,gBAAgB,CAAG,SAAS,EAEjC,OADe,AACR,MADc,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,gBAAgB,CAAC,mBACpD,MAAM,CAAC,SAAS,CAAG,CAAE,CAAO,EAGxC,OADA,CAAG,CAAC,AADK,EAAQ,EAAE,CAAC,KAAK,CAAC,GACnB,CAAG,EACH,CACX,EAAG,CAAC,EACR,EACO,CACX,IAMI,EAAkC,EAAM,aAAa,CAAC,EAAlC,IAExB,OAFmC,EAE1B,IACL,OAAO,IAAI,CACf,CAWA,SAAS,IACL,OAAO,EAAM,UAAU,CAAC,EAC5B,CAhBA,EAAkB,WAAW,CAAG,oBAoBhC,IAAI,EAAqB,EAAe,OAAU,CAAC,IAAZ,cAA8B,EAAI,EAAe,OAAU,CAAC,IAAZ,WAA2B,CAC9G,EAAoC,aAAlB,OAAO,OAAyB,SAAwB,EAC9E,SAAS,EAAS,CAAK,EACnB,IAAI,EAAW,GAAoC,WAE9C,IAF4B,AAKX,MAHP,OAGX,AAA+B,OAAxB,OACP,EAAS,GAAG,CAAC,GAGjB,EAAmB,WAEf,OADA,EAAS,GAAG,CAAC,GACN,WACH,EAAS,MAAM,CAAC,EACpB,CAEJ,EAAG,CACC,EAAM,EAAE,CACR,OAAO,EAAM,OAAO,EACvB,GAfU,IAiBf,CACA,EAAS,OAAO,CAAG,SAAS,CAAI,EAC5B,OAAO,EAAK,GAAG,CAAC,SAAS,CAAO,EAG5B,OAAO,EAFM,CAAO,CAAC,EAAE,CACX,CAAO,CAAC,CACH,CADK,CAE1B,GAAG,GAD0B,CACtB,CAAC,IACZ,EAEA,EAAQ,aAAa,CAhDrB,EAgDwB,OAhDf,AAAc,CAAK,EACxB,IAAI,EAAqB,EAAM,QAAQ,CAAE,EAAW,EAAM,QAAQ,CAC9D,EAAe,EAAM,UAAU,CAAC,GAGhC,EAFM,AAEK,EAFC,QAAQ,CAAC,WACrB,OAAO,GAAgB,GAAsB,GACjD,EAAkB,CAAC,EAAE,CACrB,OAAqB,AAAd,EAA6B,OAAU,CAAC,CAA7B,GAAiB,SAAyB,CAAC,EAAkB,QAAQ,CAAE,CACrF,MAAO,CACX,EAAG,EACP,EAwCA,EAAQ,mBAAmB,CAAG,EAC9B,EAAQ,KAAK,CAAG,EAChB,EAAQ,gBAAgB,CAAG,mBClf3B,EAAO,OAAO,CAAG,EAAA,CAAA,CAAA,OAAwB,KAAK,4BWYlC,eVVZ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAGA,EAAA,EAAA,CAAA,CAAA,OCLA,EAAA,EAAA,CAAA,CAAA,MAkMO,SAAS,EAAe,CAAoB,EACjD,OAAO,EAAK,IAAI,GAAK,EAAA,SAAS,CAAC,aAAa,EAAI,EAAK,IAAI,GAAK,EAAA,SAAS,CAAC,IAAI,AAC9E,CCjMA,IAAA,EAAA,EAAA,CAAA,CAAA,OCFA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,CAAA,CAAA,KAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,mBC0BA,IAAM,EAAwB,CAAA,EAAA,EAAA,IAAA,AAAI,EAAC,SAAS,AAAsB,YAChE,CAAU,UACV,CAAQ,UACR,CAAQ,OACR,CAAK,UACL,CAAQ,UACR,GAAW,CAAK,UAChB,CAAQ,UACR,CAAQ,MACR,EAAO,CAAC,WACR,EAAY,EAAI,CACW,EAC3B,GAAM,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,GAAS,GAC9D,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GAEvC,EAAa,GAAS,EAUtB,EAAkB,IAAM,GAAc,GACtC,EAAgB,IAAM,GAAc,GAGpC,EAAc,CAAC,EAAa,CAAA,CAAQ,EAAK,EAAD,AAAY,CAAA,CAAQ,CAAK,IAEvE,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,mDA4GyB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAqBnB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,aAjI9B,YAEZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,UAAU,mBACV,QAAS,CAAE,MAAO,EAAa,IAAM,CAAE,EACvC,WAAY,CAAE,SAAU,EAAI,WAE5B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,MAAO,CACL,SAAU,EAAA,UAAU,CAAC,QAAQ,CAAC,MAAM,CACpC,MAAO,OACP,OAAQ,OACR,WAAY,CAAC,wBAAwB,EAAE,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAC7F,UAAW,EAAa,sCAAwC,oCAChE,WAAY,sBACd,oDA2FkB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAqBnB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,aAxH3B,8EAUT,KAAK,KAAK,CAAC,OAMlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAyB,MAAO,CAAE,QAAS,CAAA,EAAG,EAAA,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,EAAA,OAAO,CAAC,EAAE,CAAA,CAAE,AAAC,oDAmFlD,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAqBnB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,aAxG5B,cAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,MAAO,CACL,IAAK,MACL,UAAW,mBACX,KAAM,EAAA,OAAO,CAAC,EAAE,CAChB,MAAO,EAAA,OAAO,CAAC,EAAE,CACjB,MAAO,CAAC,YAAY,EAAE,EAAA,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,AACzC,oDAyEoB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAqBnB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,aArG7B,sDAUV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,MAAO,CAAE,aAAc,EAAA,eAAe,CAAC,WAAW,CAAC,YAAY,AAAC,oDAoE9C,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAqBnB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,aA1F3B,2BAIZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,UAAU,4BACV,MAAO,CACL,MAAO,CAAA,EAAG,EAAW,CAAC,CAAC,CACvB,WAAY,CAAC,uBAAuB,EAAE,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAC5F,aAAc,EAAA,eAAe,CAAC,WAAW,CAAC,YAAY,AACxD,EACA,QAAS,CAAE,MAAO,CAAA,EAAG,EAAW,CAAC,CAAC,AAAC,EACnC,WAAY,CAAE,SAAU,EAAI,OAKhC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,GAAI,EACJ,KAAK,QACL,IAAK,EACL,IAAK,EACL,KAAM,EACN,MAAO,EACP,SA9Ea,AAAC,CA8EJ,GA7EhB,IAAM,EAAW,WAAW,EAAE,MAAM,CAAC,KAAK,OAC5B,IAAV,GACF,EAAqB,EADE,CAGzB,EAAS,EACX,EAyEQ,YAAa,EACb,UAAW,EACX,aAAc,EACd,WAAY,EACZ,SAAU,EAEV,MAAO,CAEL,iBAAkB,MACpB,EACA,aAAY,CAAC,cAAc,EAAE,EAAS,KAAK,EAAE,EAAA,CAAU,CACvD,gBAAe,EACf,gBAAe,EACf,gBAAe,oDA+BK,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAqBnB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,aA5D7B,wEAad,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAkD,MAAO,CAAE,QAAS,CAAC,EAAE,EAAE,EAAA,OAAO,CAAC,EAAE,CAAA,CAAE,AAAC,oDA0B/D,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAqBnB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,aA/C5B,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAEC,MAAO,CAAE,SAAU,EAAA,UAAU,CAAC,QAAQ,CAAC,EAAE,AAAC,oDAuBtB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAqBnB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,aA7C7B,+BAGT,GAAY,IAEf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAEC,MAAO,CAAE,SAAU,EAAA,UAAU,CAAC,QAAQ,CAAC,EAAE,AAAC,oDAiBtB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAqBnB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,aAvC7B,+BAGT,GAAY,2DAeO,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAqBnB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,mIArBnB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAAA,2cAAA,EAqBnB,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAAA,snBAAA,CAAA,KA6BjD,GDtNA,IAAA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OAsCA,IAAM,EAAuB,CAAA,EAAA,EAAA,IAAA,AAAI,EAAC,SAAS,AAAqB,UAC9D,CAAQ,eACR,CAAa,gBACb,CAAc,OACd,CAAK,UACL,CAAQ,QACR,CAAM,YACN,CAAU,SACV,GAAU,CAAK,QACf,EAAS,EAAK,YACd,GAAa,CAAI,CACjB,QAAQ,IAAI,cACZ,GAAe,CAAK,CACpB,cAAc,YAAY,WAC1B,GAAY,CAAK,CACS,EAC1B,GAAM,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,QAAa,EAGb,EAAkB,EAAiB,EAAK,EAHjB,AAGiC,EAAkB,IAAM,EAGhF,EAAsB,AAAD,GANe,CAOxC,EAAS,EAAS,EAAE,CAAE,EACxB,AARoD,EAW9C,EAA2B,AAAC,IAChC,EAAS,EAAS,EAAE,CAAE,EACxB,EA0GA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6EAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAY,CAAA,CACX,QAAQ,aACR,MAAO,EACP,SAAU,CAAC,MAAM,EAAE,EAAgB,EAAE,KAAK,EAAE,EAAA,CAAgB,CAC5D,SAAU,CAAC,EACX,OAAQ,IAIV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,4CACV,MAAO,CACL,IAAK,OACL,OAAQ,GACR,UAAW,EAAA,OAAO,CAAC,EAAE,AACvB,WAEA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,CAAA,EAAG,EAAA,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,EAAA,OAAO,CAAC,EAAE,CAAA,CAAE,AAAC,YACnD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,8CAAqC,gBAGrD,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,+CACb,KAAK,KAAK,CAAC,GAAiB,UAGjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,sCACV,MAAO,CACL,OAAQ,EAAA,eAAe,CAAC,WAAW,CAAC,MAAM,CAC1C,aAAc,EAAA,eAAe,CAAC,WAAW,CAAC,YAAY,AACxD,WAEA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,UAAU,kDACV,QAAS,CAAE,MAAO,CAAE,EACpB,QAAS,CAAE,MAAO,CAAA,EAAG,EAAgB,CAAC,CAAC,AAAC,EACxC,WAAY,CAAE,SAAU,GAAK,KAAM,SAAU,WAOrD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAU,yBACV,MAAO,CAAE,QAAS,CAAA,EAAG,EAAA,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,EAAA,OAAO,CAAC,EAAE,CAAA,CAAE,AAAC,WAEhD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,SAAU,EAAI,EAC5B,UAAW,CAAC,kBAAkB,EAC5B,EAAY,2BAA6B,mBAC1C,CAAC,EAAE,EAAa,8BAAgC,GAAA,CAAI,CACrD,MAAO,CACL,aAAc,EAAA,eAAe,CAAC,kBAAkB,CAAC,YAAY,CAC7D,UAAW,EAAA,eAAe,CAAC,kBAAkB,CAAC,MAAM,CACpD,WAAY,CAAC,IAAI,EAAE,EAAA,MAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,EAAA,MAAY,CAAC,MAAM,CAAC,MAAM,CAAA,CAAE,AACjF,EACA,QAAS,IAAM,GAAa,GAC5B,OAAQ,IAAM,EAAa,cAG3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,MAAO,CACL,QAAS,CAAA,EAAG,EAAA,eAAe,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC,EAAE,EAAA,eAAe,CAAC,kBAAkB,CAAC,eAAe,CAAA,CAAE,CACtH,cAAe,EAAA,OAAO,CAAC,EAAE,AAC3B,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CACC,UAAU,oDACV,MAAO,CAAE,SAAU,EAAA,UAAU,CAAC,QAAQ,CAAC,EAAE,AAAC,WAEzC,EAAS,KAAK,GAIhB,EAAS,QAAQ,EAChB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,uCACV,MAAO,CACL,aAAc,EAAA,eAAe,CAAC,OAAO,CAAC,YAAY,CAClD,QAAS,EAAA,eAAe,CAAC,OAAO,CAAC,OAAO,AAC1C,WAEA,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CACC,UAAU,sDACV,MAAO,CACL,SAAU,EAAA,eAAe,CAAC,OAAO,CAAC,QAAQ,CAC1C,WAAY,EAAA,eAAe,CAAC,OAAO,CAAC,UAAU,AAChD,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,WAAW,MAAO,CAAE,SAAU,EAAA,UAAU,CAAC,QAAQ,CAAC,EAAE,AAAC,WAAG,OAGxE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAS,QAAQ,QAM7B,GAAc,CAAC,GAAc,CAAC,GAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,UAAU,0DACV,MAAO,CACL,SAAU,EAAA,UAAU,CAAC,QAAQ,CAAC,EAAE,CAChC,aAAc,EAAA,eAAe,CAAC,OAAO,CAAC,YAAY,CAClD,QAAS,CAAA,EAAG,EAAA,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,EAAA,OAAO,CAAC,EAAE,CAAA,CAAE,AACxC,WACD,4CAOL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,MAAO,CACL,QAAS,CAAC,EAAE,EAAE,EAAA,eAAe,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC,EAAE,EAAA,eAAe,CAAC,kBAAkB,CAAC,eAAe,CAAA,CACxH,AAD0H,WAGzH,CApOmB,KAE5B,GAAI,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,EAAS,GAAG,EAAG,CAClC,IAAM,EAAS,CAAA,EAAA,EAAA,uBAAA,AAAuB,EAAC,EAAS,GAAG,EACnD,GAAI,EACF,MADU,AAER,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAmB,CAAA,CAClB,WAAY,EAAS,EAAE,CACvB,MAAO,EACP,SAAU,EACV,SAAU,EACT,GAAG,CAAM,EAIlB,CAGA,GAAI,CAAA,EAAA,EAAA,kBAAkB,AAAlB,EAAmB,EAAS,GAAG,EAAG,CACpC,IAAM,EAAU,CAAA,EAAA,EAAA,kBAAA,AAAkB,EAAC,EAAS,GAAG,EAC/C,GAAI,EACF,MACE,CAFS,AAET,EAAA,EAAA,GAAA,EAAC,EAAA,OAAyB,CAAA,CACxB,WAAY,EAAS,EAAE,CACvB,QAAS,EACT,MAAO,EACP,SAAU,EACV,SAAU,EACV,OAAQ,EAAQ,MAAM,CAAG,EAAI,OAAS,YAI9C,CAGA,GAA8B,UAA1B,EAAS,YAAY,CAAc,CACrC,IAAM,EAAW,EAAS,QAAQ,EAAI,EAChC,EAAW,EAAS,QAAQ,EAAI,SAGd,AAExB,GAFsC,CAElC,CAF6C,EAAW,GAIxD,CAAA,EAAA,EAAA,GAAA,ECoGK,ADpGJ,CAFgB,CAEhB,CACC,WAAY,EAAS,EAAE,CACvB,SAAU,EACV,SAAU,EACV,MAAO,EACP,SAAU,AAAC,GAAQ,EAAmB,GACtC,SAAU,EACV,UAAW,KAMf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAkB,CAAA,CACjB,WAAY,EAAS,EAAE,CACvB,SAAU,EACV,SAAU,EACV,MAAO,EACP,SAAU,EACV,SAAU,GAGhB,OAG8B,AAA1B,AAAJ,QAAsC,GAAzB,YAAY,CAErB,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,MAAQ,GAAoB,GAC5B,SAAU,AAAC,GAAM,EAAmB,EAAE,MAAM,CAAC,KAAK,EAClD,UAAU,4IACV,MAAO,CACL,QAAS,EAAA,eAAe,CAAC,kBAAkB,CAAC,OAAO,CACnD,aAAc,EAAA,eAAe,CAAC,YAAY,CAAC,YAAY,CACvD,SAAU,EAAA,UAAU,CAAC,QAAQ,CAAC,IAAI,CAClC,WAAY,CAAC,IAAI,EAAE,EAAA,MAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,EAAA,MAAY,CAAC,MAAM,CAAC,MAAM,CAAA,CAAE,AACjF,EACA,YAAY,kBACZ,SAAU,IAOd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,kDACV,MAAO,CACL,QAAS,EAAA,eAAe,CAAC,kBAAkB,CAAC,OAAO,CACnD,aAAc,EAAA,eAAe,CAAC,YAAY,CAAC,YAAY,AACzD,WAEA,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,mCAAyB,gDACU,EAAS,YAAY,MAI3E,MAmIS,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,wEACV,MAAO,CACL,OAAQ,CAAC,EAAE,EAAE,EAAA,eAAe,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC,EAAE,EAAA,eAAe,CAAC,kBAAkB,CAAC,eAAe,CAAA,CAAE,CACvH,SAAU,EAAA,UAAU,CAAC,QAAQ,CAAC,EAAE,CAChC,aAAc,EAAA,eAAe,CAAC,OAAO,CAAC,YAAY,CAClD,QAAS,CAAA,EAAG,EAAA,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,EAAA,OAAO,CAAC,EAAE,CAAA,CAAE,AACxC,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,WAAW,MAAO,CAAE,SAAU,EAAA,UAAU,CAAC,QAAQ,CAAC,EAAE,AAAC,WAAG,MAGxE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2BAAmB,YAOxC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,oEACV,MAAO,CAAE,QAAS,CAAA,EAAG,EAAA,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,EAAA,OAAO,CAAC,EAAE,CAAA,CAAE,AAAC,WAEhD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBAEZ,CAAC,GAAW,GACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,MAAM,CAAA,CACZ,KAAK,SACL,QAAS,EACT,SAAU,EACV,UAAU,+HACV,MAAO,CACL,QAAS,CAAA,EAAG,EAAA,eAAe,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAA,eAAe,CAAC,gBAAgB,CAAC,QAAQ,CAAA,CAAE,CACpG,aAAc,EAAA,eAAe,CAAC,gBAAgB,CAAC,YAAY,CAC3D,UAAW,EAAA,eAAe,CAAC,gBAAgB,CAAC,SAAS,CACrD,WAAY,EAAA,eAAe,CAAC,gBAAgB,CAAC,UAAU,CACvD,SAAU,EAAA,eAAe,CAAC,gBAAgB,CAAC,QAAQ,AACrD,EACA,SAAU,CAAE,MAAO,GAAK,WACzB,aAMF,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,MAAM,CAAA,CACZ,KAAK,SACL,QAAS,EACT,SAAU,CAAC,GAAc,EACzB,UAAU,kGACV,MAAO,CACL,QAAS,CAAA,EAAG,EAAA,eAAe,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAA,eAAe,CAAC,gBAAgB,CAAC,QAAQ,CAAA,CAAE,CACpG,aAAc,EAAA,eAAe,CAAC,gBAAgB,CAAC,YAAY,CAC3D,UAAW,EAAA,eAAe,CAAC,gBAAgB,CAAC,SAAS,CACrD,UAAW,EAAA,eAAe,CAAC,gBAAgB,CAAC,MAAM,CAClD,WAAY,EAAA,eAAe,CAAC,gBAAgB,CAAC,UAAU,CACvD,SAAU,EAAA,eAAe,CAAC,gBAAgB,CAAC,QAAQ,CACnD,WAAY,GAAc,CAAC,EACvB,CAAC,wBAAwB,EAAE,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CACjF,EAAA,MAAM,CAAC,OAAO,CAAC,IAAI,AACzB,EACA,SAAU,GAAc,CAAC,EAAe,CAAE,MAAO,GAAK,OAAI,WAEzD,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,mDACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,kCACV,MAAM,6BACN,KAAK,OACL,QAAQ,sBAER,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,aACV,GAAG,KACH,GAAG,KACH,EAAE,KACF,OAAO,eACP,YAAY,MAEd,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAU,aACV,KAAK,eACL,EAAE,uHAEA,qBAIR,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAAG,EAAS,gBAAkB,sBAQ9C,GD5Xe,SAAS,EAAqB,MAC3C,CAAI,SACJ,CAAO,kBACP,CAAgB,gBAChB,CAAc,YACd,CAAU,gBACV,CAAc,aACd,CAAW,YACX,CAAU,YACV,CAAU,gBACV,CAAc,aACd,CAAW,CACe,EAI1B,GAHiB,AAGb,AAHa,CAAA,EAAA,EAAA,WAAW,AAAX,KAGyB,IAA1B,EAAK,SAAS,CAAC,MAAM,CAAQ,CAC3C,IAAM,EAAW,EAAK,SAAS,CAAC,EAAE,CAC5B,EAAW,EAAiB,IAAI,CAAC,AAAC,GAAQ,EAAI,UAAU,GAAK,EAAS,EAAE,EAQ9E,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,ACmWQ,EDnWR,CACC,SAAU,EACV,cAAe,EAAK,UAAU,CAC9B,eAAgB,GAAkB,EAClC,MAAO,CAAO,CAAC,EAAS,EAAE,CAAC,CAC3B,SAVuB,CAAC,AAUd,EAVmC,KAC/C,EAAe,EAAa,EAC9B,EASI,OAAQ,EACR,WAAY,EACZ,QAAS,EACT,OAAQ,EACR,WAAY,EAAS,UAAU,CAC/B,MAnBa,CAmBN,CAnBiB,6CAA+C,KAoBvE,aAAc,EACd,YAAa,GAGnB,CAGA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAK,SAAS,CAAC,GAAG,CAAC,CAAC,EAAU,IAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAEC,MAAO,EAAQ,EACf,SAAU,EACV,MAAO,CAAO,CAAC,EAAS,EAAE,CAAC,CAC3B,SAAU,EACV,SAAU,EAAiB,IAAI,CAAC,AAAC,GAAQ,EAAI,UAAU,GAAK,EAAS,EAAE,GALlE,EAAS,EAAE,IAU1B,CAWA,IAAM,EAAgB,CACpB,CAAE,MAAO,EAAG,MAAO,KAAM,EACzB,CAAE,MAAO,EAAG,MAAO,QAAS,EAC5B,CAAE,MAAO,EAAG,MAAO,UAAW,EAC9B,CAAE,MAAO,EAAG,MAAO,KAAM,EACzB,CAAE,MAAO,EAAG,MAAO,aAAc,EAClC,CAEK,EAAe,CAAA,EAAA,EAAA,IAAA,AAAI,EAAC,SAAS,AAAa,OAC9C,CAAK,UACL,CAAQ,OACR,CAAK,CACL,UAAQ,UACR,CAAQ,CACU,EAClB,IAAM,QAAa,GAAyC,AAAU,OAGhE,AAHuB,EAGR,CAAA,EAAA,EAAA,MAHqB,KAGrB,AAAW,EAC9B,AAAC,GAAyB,AAJwB,EAIf,EAAS,EAAE,CAAE,GAChD,CAAC,EAAU,EAAS,EAAE,CAAC,EAgEnB,EAAqB,AAAC,GAExB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACZ,EAAQ,GAAG,CAAC,AAAC,IACZ,IAAM,EAAK,CAAA,EAAG,EAAS,EAAE,CAAC,CAAC,EAAE,EAAO,KAAK,CAAA,CAAE,CACrC,EAAU,IAAU,EAAO,KAAK,CACtC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAEC,QAAS,EACT,UAAW,CAAC,wMAAwM,EAClN,EACI,2DACA,gHAAA,CACJ,CACF,MAAO,CAAE,UAAW,OAAQ,SAAU,MAAO,YAE7C,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,GAAI,EACJ,KAAK,QACL,UAAU,UACV,KAAM,EAAS,EAAE,CACjB,MAAO,OAAO,EAAO,KAAK,EAC1B,QAAS,EACT,SAAU,IAAM,EAAa,EAAO,KAAK,EACzC,aAAY,CAAA,EAAG,EAAO,KAAK,CAAA,CAAE,GAEN,UAAxB,OAAO,EAAO,KAAK,EAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oDAA4C,EAAO,KAAK,GAE1E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oEACb,EAAO,KAAK,KAvBV,OAAO,EAAO,KAAK,EA2B9B,KA0BN,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,GAAI,CAAC,SAAS,EAAE,EAAS,EAAE,CAAA,CAAE,CAC7B,UAAW,CAAC,qDAAqD,EAC/D,EACI,8BACA,EACE,8BACA,4BAAA,CACN,WAEF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAC,0GAA0G,EACpH,EACI,wBACA,EACE,wBACA,8BAAA,CACN,UAED,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oGACV,EAAS,KAAK,GAEhB,CAAC,EAAS,UAAU,EACnB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gGAAuF,qBAO9G,EAAS,QAAQ,EAChB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4FACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,mFACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCAAgC,OAChD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAS,QAAQ,QAI7B,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mHAA0G,kDAIxH,CAAC,GAAc,CAAC,GAAY,EAAS,UAAU,EAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yHAAgH,yCAI9H,CA1EuB,KAI1B,GAAI,AAAiB,UAAU,EAHV,EAAS,YAAY,EAAE,eAAiB,OAAA,GA5E7D,IAAM,IAgFJ,OAAO,EAhFG,EAAS,QAAQ,OAAI,EAC3B,EAAM,EAAS,QAAQ,OAAI,EAG/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,SACL,GAAI,CAAC,SAAS,EAAE,EAAS,EAAE,CAAC,MAAM,CAAC,CACnC,KAAM,EAAS,EAAE,CACjB,MAAO,GAAS,GAChB,SAAU,AAAC,IAET,EADoC,KAAnB,EAAE,IACN,EADY,CAAC,KAAK,CAAU,GAAK,WAAW,EAAE,MAAM,CAAC,KAAK,EAEzE,EACA,IAAK,EACL,IAAK,EACL,UAAU,+JACV,MAAO,CAAE,UAAW,MAAO,EAC3B,aAAY,EAAS,KAAK,GAE3B,MAAS,IAAR,QAA6B,IAAR,CAAQ,CAAS,EACtC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCACV,AAAQ,iBAAqB,IAAR,EAClB,CAAC,SAAS,EAAE,EAAI,GAAG,EAAE,EAAA,CAAK,MAClB,IAAR,EACE,CAAC,SAAS,EAAE,EAAA,CAAK,CACjB,CAAC,SAAS,EAAE,EAAA,CAAK,KAsDtB,CAIT,IAAM,EA9GoB,AA8GV,MA5GhB,GAAI,EAAS,OAAO,EAAI,EAAS,OAAO,CAAC,MAAM,CAAG,EAChD,CADmD,MAC5C,EAAS,OAAO,CAIzB,GAA8B,UAA1B,EAAS,YAAY,CAAc,CACrC,IAAM,EAAM,EAAS,QAAQ,EAAI,EAC3B,EAAM,EAAS,QAAQ,EAAI,SAEjC,AAAY,IAAR,GAAqB,GAAG,CAAX,EACR,EAGF,MAAM,IAAI,CAAC,CAAE,OAAQ,EAAM,EAAM,CAAE,EAAG,CAAC,EAAG,IAAM,CAAC,CACtD,MAAO,EAAM,EACb,MAAO,OAAO,EAAM,GACtB,CAAC,CACH,CAEA,OAAO,KACT,WA2FE,AAAI,GAAW,EAAQ,MAAM,CAAG,EACvB,CAD0B,CACP,GAIrB,EAAmB,GAC5B,MA2DF,GGnSe,SAAS,EAAiB,CAAE,MAAI,CAAyB,EACtE,IAAM,EAAU,YAAa,EAAO,EAAK,OAAO,CAAG,EAAK,WAAW,CAEnE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAoC,KAGvD,CClBA,EAAA,CAAA,CAAA,MAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAIA,IAAM,EAAmB,CAAA,EAAA,EAAA,IAAA,AAAI,EAAC,IAAA,EAAA,CAAA,CAAA,QAoBf,SAAS,EAAwB,MAC9C,CAAI,YACJ,CAAU,CACV,gBAAc,aACd,CAAW,CACX,YAAU,YACV,CAAU,CACmB,EAC7B,IAAM,EAAW,CAAA,EAAA,EAAA,WAAA,AAAW,IACtB,EAAc,EAAK,WAAW,QAEpC,AAAK,EA6BD,EAEA,AA/BA,AA+BA,CAAA,EAAA,EAAA,GAFU,CAEV,AA/Bc,EA+Bb,EAAA,iBAAiB,CAAA,CAChB,MAAO,EAAY,KAAK,CACxB,SAAU,EAAK,WAAW,OAAI,EAC9B,SAAU,EAAa,gBAAkB,WACzC,WAAY,EACZ,eAAgB,AAAC,OAAyB,EAAX,SAC/B,iBAAkB,AAAC,OAA+B,EAAjB,EACjC,UAAW,YAEV,EAAY,OAAO,EAClB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+DACV,EAAY,OAAO,KAI1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCAA+B,qBAChE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAiB,QAAS,EAAY,aAAa,QAQ1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sFAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4GACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sFACX,EAAY,KAAK,GAEnB,EAAK,WAAW,EACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oEACV,EAAK,WAAW,MAMvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCAEZ,EAAY,OAAO,EAClB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+DACV,EAAY,OAAO,KAM1B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCAA+B,qBAChE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAiB,QAAS,EAAY,aAAa,UAM1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACZ,CAAC,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,UAAU,wRACV,MAAO,CAAE,UAAW,MAAO,WAC5B,aAIH,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,UAAW,CAAA,EAAG,EAAc,SAAW,mBAAmB,qQAAqQ,CAAC,CAChU,MAAO,CAAE,UAAW,MAAO,WAE1B,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,2DACV,MAAM,6BACN,KAAK,OACL,QAAQ,sBAER,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,aACV,GAAG,KACH,GAAG,KACH,EAAE,KACF,OAAO,eACP,YAAY,MAEd,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAU,aACV,KAAK,eACL,EAAE,uHAEA,qBAGN,EACF,gBAEA,uBArIV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBAAgB,KAAK,MAAM,aAAW,kBAAS,MAG9D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mDAA0C,uCAGvD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA8B,4HAI3C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,mIACV,MAAO,CAAE,UAAW,MAAO,WAC5B,mBA4Hb,CCxKe,SAAS,EAAmB,eACzC,CAAa,CACb,gBAAc,iBACd,CAAe,CACS,EACxB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,wBACb,EAAc,MAAI,EAAe,aAEpC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0DACb,KAAK,KAAK,CAAC,GAAiB,UAGjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,oGACV,MAAO,CAAE,MAAO,CAAA,EAAG,EAAgB,CAAC,CAAC,AAAC,EACtC,KAAK,cACL,gBAAe,EACf,gBAAe,EACf,gBAAe,IACf,aAAY,CAAA,EAAG,EAAc,KAAK,EAAE,EAAe,mBAAmB,CAAC,OAKjF,CC1Be,SAAS,EAA+B,YACrD,CAAU,gBACV,CAAc,aACd,CAAW,CACX,YAAU,YACV,CAAU,CAC0B,EACpC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACZ,CAAC,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,EACT,SAAU,EACV,UAAU,2SACV,MAAO,CAAE,UAAW,MAAO,WAC5B,aAIH,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,EACT,SAAU,EACV,UAAU,qUACV,MAAO,CAAE,UAAW,MAAO,WAE1B,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,2DACV,MAAM,6BACN,KAAK,OACL,QAAQ,sBAER,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAU,aACV,GAAG,KACH,GAAG,KACH,EAAE,KACF,OAAO,eACP,YAAY,MAEd,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAU,aACV,KAAK,eACL,EAAE,uHAEA,mBAGN,EACF,iCAEA,eAKV,CCXe,SAAS,EAAoB,CAC1C,QAAM,kBACN,CAAgB,aAChB,CAAW,SACX,CAAO,CACP,kBAAgB,OAChB,CAAK,CACL,YAAU,CACV,eAAa,oBACb,CAAkB,gBAClB,CAAc,YACd,CAAU,gBACV,CAAc,CACd,aAAW,YACX,CAAU,CACe,EACzB,IAAM,EAAiB,EAAO,cAAc,CACtC,EAAkB,EAAiB,EAAK,EAAgB,EAAkB,IAAM,QACrE,AAGW,AAHX,AAKjB,CALiB,EAAA,CAKb,CALa,WAAA,AAAW,KAGY,EAAe,EAE9B,EAF+E,IAAjC,EAAY,SAAS,CAAC,MAAM,CAK/F,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,KAAM,EACN,QAAS,EACT,iBAAkB,EAClB,eAAgB,EAChB,WAAY,EACZ,eAAgB,EAChB,YAAa,EACb,WAAY,EACZ,WAAY,EACZ,eAAgB,EAChB,YAAa,EAAO,KAAK,GAO7B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sDAEb,GAAsB,EAAgB,GAAK,EAAiB,WAAW,CAAC,SAAS,CAAG,GACnF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCAA8B,MAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gEAAuD,kCAGrE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,8CAAoC,iDACA,EAAc,kDASvE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAU,yBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oFACV,EAAO,KAAK,GAEf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,uGAA6F,WAChG,EAAiB,WAAW,CAAC,SAAS,CAAG,EAAE,QAAM,EAAiB,UAAU,CAAC,IAAE,IACvF,EAAY,KAAK,IAEnB,EAAY,WAAW,EACtB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+DAAuD,EAAY,WAAW,MAK/F,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,cAAe,EACf,eAAgB,EAChB,gBAAiB,IAInB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACZ,EAAe,IACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,KAAM,EACN,QAAS,EACT,iBAAkB,EAClB,eAAgB,EAChB,WAAY,EACZ,eAAgB,EAChB,YAAa,EACb,WAAY,EACZ,WAAY,EACZ,eAAgB,EAChB,YAAa,EAAO,KAAK,GAI5B,CRmCA,AQnCW,ERmCN,IAAI,GAAK,EAAA,SAAS,CAAC,SAAS,EAAI,EAAK,IAAI,GAAK,EAAA,SAAS,CAAC,IAAI,AAAJ,GQnClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAiB,KAAM,IAEnD,AAAkB,ARqClB,EAAK,IAAI,GAAK,EAAA,SAAS,CAAC,YAAY,EQpCnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,KAAM,EACN,WAAY,EACZ,eAAgB,EAChB,YAAa,EACb,WAAY,EACZ,WAAY,EACZ,eAAgB,EAChB,cAAe,OAQpB,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+KACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCAA8B,MAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2BAAmB,OAKpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,WAAY,EACZ,eAAgB,EAChB,YAAa,EACb,WAAY,EACZ,WAAY,IAIb,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mGAA0F,qGAO/G,CTtMA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OUAY,ouBAAA,GAoEL,SAAS,EACd,CAA0B,CAC1B,CAA2B,CAC3B,CAAgB,EAgBE,KAAK,SAAS,CAAC,AAdH,CAC5B,UAAW,IAAI,OAAO,WAAW,GACjC,YACA,QAAS,CACP,GAAG,CAAO,CACV,UAA2C,CAAhC,MAAuC,SAAS,CAAC,SAAS,CACrE,EADwE,SAEpE,CADQ,AACR,EAAG,OAAO,UAAU,CAAC,CAAC,EAAE,OAAO,WAAW,CAAA,CAAE,AAElD,GADM,OAEN,CACF,EAGwC,KAAM,EAQhD,CAMO,SAAS,EAAqB,CAAoB,CAAE,CAAkB,EAC3E,EAAA,qBAEE,cAAE,aAAc,CAAW,EAC3B,CAAC,oBAAoB,EAAE,EAAA,CAAY,CAEvC,CVxFA,IAAI,EAA6B,GAMlB,SAAS,EAAa,MAAE,CAAI,CAAqB,EAC9D,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAElB,EAA8C,SAD/B,AACH,CADG,EAAA,EAAA,eAAA,AAAe,IACL,GAAG,CAAC,aAC7B,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5C,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA0B,MACxD,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA0B,MAC5E,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkC,CAAC,GACnE,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAoB,EAAE,EACxE,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAwB,EAAE,EAC5D,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,CACtD,cAAc,EACd,gBAAiB,EACjB,gBAAiB,IACnB,GAGA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAA6B,EACtB,KACL,GAA6B,CAC/B,GACC,EAAE,EAML,IAAM,EAAmB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACnC,IAAM,EAAW,MAAM,MAAM,CAAC,aAAa,EAAE,EAAK,YAAY,CAAC,CAAE,CAC/D,OAAQ,OACR,YAAa,SACf,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAY,MAAM,EAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,EAAC,CAAC,EACjD,EAAY,EAAU,KAAK,EAAE,MAAQ,UACrC,EAAW,EAAU,KAAK,EAAE,SAAW,0CAS7C,OANA,EAAe,EAAgB,wBAAwB,CAAE,MACvD,YACA,EACA,WAAY,EAAS,MAAM,AAC7B,GAEM,AAAI,MAAM,EAClB,CAEA,GAAM,MAAE,CAAI,CAAE,CAAG,MAAM,EAAS,IAAI,GACpC,OAAO,EAAK,YAAY,AAC1B,EAAG,CAAC,EAAK,EAEH,EAAsB,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,MAAO,EAAsB,EAAuB,CAAC,IAI3F,GAAI,CACF,GAAM,CAAE,KAAM,CAAW,CAAE,MAAO,CAAY,CAAE,CAAG,MAAM,EAAA,QAAQ,CAC9D,IAAI,CAAC,sBACL,MAAM,CAAC,6BACP,EAAE,CAAC,gBAAiB,GAEvB,GAAI,EAAc,CAIhB,GAHA,QAAQ,KAAK,CAAC,yBAA0B,GAGpC,EAbW,EAgBb,OADA,IAFiB,EAEX,IAAI,MAFmB,EAEX,AAAC,GAAY,WAAW,EAd7B,MAeN,CAD4C,CACxB,EAAc,EAAe,GAI1D,QAAQ,IAAI,CAAC,8EACb,MACF,CAEA,GAAI,EAAa,OACf,IAAM,EAAqC,CAAC,EAC5C,EAAY,OAAO,CAAC,AAAC,IACnB,CAAU,CAAC,EAAO,WAAW,CAAC,CAAG,EAAO,YAAY,AACtD,GACA,EAAW,GAGP,OAAO,IAAI,CAAC,GAAY,MAAM,CAAG,GAAG,CUF9C,EVKiD,OAAO,IAAI,AULvC,CVKwC,GAAY,MAAM,CUH/E,EAAA,qBAEE,CAAE,aVCyB,EUDX,WVCyB,gBUDb,CAAc,EAC1C,CAAC,wBAAwB,EAAE,EAAc,iBAAiB,CAAC,EVEzD,CACF,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,kCAAmC,EAEnD,CACF,EAAG,CAAC,EAAK,EAEH,EAAuB,CAAA,EAAA,EAAA,WAAW,AAAX,EAC3B,MAAO,EAAsB,EAAuB,CAAC,IAEnD,IAAM,EAAa,KAAK,GAAG,CAAC,IAAO,KAAK,GAAG,CAAC,EAAG,GAAe,KAE9D,CAFoE,EAEhE,KAeE,EAbJ,GAAI,CAAC,GAAwC,UAAxB,IAJ2E,GAIpE,GAAqD,IAAI,CAA5B,EAAa,IAAI,GACxE,MAAM,AAAI,MAAM,4BAId,EAAe,GAAG,AACpB,EAAY,CACV,cAAc,EACd,gBAAiB,EACjB,gBAAiB,CAAC,oCAAoC,KAAE,MAA6B,AACvF,GAIF,GAAI,CACF,AANuE,CAAC,CAM7D,CAN+D,KAMzD,MAAM,AAN8D,CAAC,AAM9D,aAAa,EAAE,EAAK,aAAa,EAAE,EAAA,CAAc,CAAE,CACzE,YAAa,SACf,EACF,CAAE,MAAO,EAAU,CAKjB,GAHA,QAAQ,KAAK,CAAC,8BAA+B,GAGzC,IAGF,OADA,IAFiB,EAEX,IAAI,MAFmB,EAEX,AAAC,GAAY,WAAW,EAAS,IAC5C,EAAqB,EAAc,EAAe,EAG3D,OAAM,AAAI,MACR,wHAEJ,CAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAEhB,IAAI,EAAe,iDACf,EAAY,UAChB,GAAI,CACF,IAAM,EAAY,MAAM,EAAS,IAAI,GACjC,EAAU,KAAK,EAAE,SAAS,CAC5B,EAAe,EAAU,KAAK,CAAC,OAAO,AAAP,EAE7B,EAAU,KAAK,EAAE,MAAM,CACzB,EAAY,EAAU,KAAK,CAAC,IAAA,AAAI,CAEpC,CAAE,KAAM,CAER,CAEA,GAAwB,MAApB,EAAS,MAAM,CAAU,CAG3B,GAAK,CAAD,CA0CF,QAAQ,IAAI,CAAC,mEA1CkB,CAC/B,GAA6B,EAE7B,QAAQ,IAAI,CAAC,wEAAyE,CACpF,kBAAmB,EACnB,MACF,GAGA,EAAe,EAAgB,uBAAuB,CAAE,MACtD,EACA,kBAAmB,YACnB,CACF,GAEA,GAAI,CAEF,IAAM,EAAkB,MAAM,IAmB9B,OAVA,EAAe,EAAgB,wBAAwB,CAAE,MACvD,EACA,gBAAiB,kBACjB,CACF,GAGA,EAAqB,EAAiB,GAG/B,EAAqB,EAAiB,EAC/C,CAAE,MAAO,EAAW,CAClB,QAAQ,KAAK,CAAC,yCAA0C,EAE1D,CACF,CAIA,MAJO,AAID,AAAI,MAAM,+DAClB,CAAO,GAAwB,MAApB,EAAS,MAAM,EAAgC,KAAK,CAAzB,EAAS,MAAM,CAEnD,MAAM,AAAI,MAAM,GACX,GAAI,EAAS,MAAM,EAAI,IAAK,CAEjC,GAAI,EA7GS,EAkHX,OADA,IAJiB,EAIX,IAAI,MAJmB,EAIX,AAAC,GAAY,WAAW,EAAS,IAC5C,EAAqB,EAAc,EAAe,EAE3D,OAAM,AAAI,MAAM,wFAClB,MACE,CADK,KACC,AAAI,MAAM,EAEpB,CAEA,GAAM,MAAE,CAAI,CAAE,CAAG,MAAM,EAAS,IAAI,GAGpC,GAAI,CAAC,GAAwB,UAAhB,AAA0B,OAAnB,EAClB,MAAM,AAAI,MAAM,uDAGlB,GAAI,CAAC,EAAK,YAAY,EAAiC,UAA7B,AAAuC,OAAhC,EAAK,YAAY,CAChD,MAAM,AAAI,MAAM,qDAGlB,GAAI,CAAC,EAAK,WAAW,EAAgC,UAA5B,AAAsC,OAA/B,EAAK,WAAW,CAC9C,MAAM,AAAI,MAAM,oDAGlB,GAAI,CAAC,EAAK,WAAW,CAAC,MAAM,EAAI,AAAsC,UAAU,OAAzC,EAAK,WAAW,CAAC,SAAS,CAC/D,MAAU,AAAJ,MAAU,gEAGlB,GAA+B,AAA3B,UAAqC,OAA9B,EAAK,UAAU,CACxB,MAAM,AAAI,MAAM,mDAGlB,EAAoB,GAGpB,MAAM,EAAoB,EAAc,GAGxC,EAAY,CACV,cAAc,EACd,gBAAiB,EACjB,gBAAiB,IACnB,GAEA,GAAW,EACb,CAAE,MAAO,EAAK,CAUZ,MATA,QAAQ,KAAK,CAAC,mCAAoC,GAElD,EADiB,OACR,MADuB,MAAQ,EAAI,OAAO,CAAG,4CAEtD,EAAY,CACV,cAAc,EACd,gBAAiB,EACjB,gBAAiB,IACnB,GACA,GAAW,GACL,CACR,CACF,EAFc,AAGd,CAAC,EAAkB,EAAqB,EAAK,EAK/C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACe,AA8BvB,OAvCmD,IAUjD,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,CAAC,aAAa,EAAE,EAAK,WAAW,CAAC,EAG9D,GAAwB,MAApB,EAAS,MAAM,CAAU,CAC3B,EAAS,iBACT,GAAW,GACX,MACF,CAEA,GAAI,CAAC,EAAS,EAAE,CACd,CADgB,KACV,AAAI,MAAM,uCAElB,IAAM,EAAyB,MAAM,EAAS,IAAI,GAIlD,GAAI,CAAC,EAAK,KAAK,EAA0B,IAAtB,EAAK,KAAK,CAAC,MAAM,CAAQ,CAC1C,EAAS,iBACT,GAAW,GACX,MACF,CACA,EAAU,EACZ,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,wBAAyB,GACvC,EAAS,iEACT,GAAW,EACb,EACF,GAEF,EAAG,CAAC,EAAK,EAGT,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,AAAc,iBAAiB,CAA3B,GAeJ,CAbyB,UACvB,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,CAAC,aAAa,EAAE,EAAK,cAAc,CAAC,EACjE,GAAI,EAAS,EAAE,CAAE,CACf,IAAM,EAAuB,MAAM,EAAS,IAAI,GAChD,EAAgB,EAClB,CAEF,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,+BAAgC,EAEhD,EACF,GAEF,EAAG,CAAC,EAAM,EAAM,EAIhB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,GAAkB,aAAc,OAErC,IAAM,EAAyB,KACI,YAA7B,SAAS,eAAe,EAAkB,GAG5C,EAAqB,EAAiB,WAHwB,CAGZ,EAAE,KAAK,CAAC,AAAC,IACzD,QAAQ,IAAI,CAAC,iDAAkD,EAEjE,EAEJ,EAGA,OADA,SAAS,gBAAgB,CAAC,mBAAoB,GACvC,KACL,SAAS,mBAAmB,CAAC,mBAAoB,EACnD,CAEF,EAAG,CAAC,GAAkB,aAAa,EAGnC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAiB,UACrB,GAAI,CACF,GAAW,GACX,EAAS,MAGT,GAAM,CACJ,KAAM,MAAE,CAAI,CAAE,CACf,CAAG,MAAM,EAAA,QAAQ,CAAC,IAAI,CAAC,OAAO,GAC/B,GAAI,CAAC,EAAM,YACT,EAAO,IAAI,CAAC,KAId,GAAM,CAAE,KAAM,CAAW,CAAE,MAAO,CAAY,CAAE,CAAG,MAAM,EAAA,QAAQ,CAC9D,IAAI,CAAC,oBACL,MAAM,CAAC,MACP,EAAE,CAAC,UAAW,EAAK,EAAE,EACrB,MAAM,GAET,GAAI,GAAgB,CAAC,EACnB,MAAM,AAAI,KADsB,CAChB,+CAIlB,GAAI,CAAC,GAAa,EAAmB,CACnC,GAAM,CAAE,KAAM,CAAmB,CAAE,CAAG,MAAM,EAAA,QAAQ,CACjD,IAAI,CAAC,eACL,MAAM,CAAC,4BACP,EAAE,CAAC,aAAc,EAAY,EAAE,EAC/B,EAAE,CAAC,SAAU,GACb,KAAK,CAAC,aAAc,CAAE,WAAW,CAAM,GACvC,KAAK,CAAC,GAGT,GAAI,GAAuB,EAAoB,MAAM,CAAG,EAAG,CACzD,IAAM,EAAS,CAAmB,CAAC,EAAE,CAErC,GAAsB,AAAlB,kBAAO,MAAM,CAAoB,YACnC,MAAM,EAAqB,EAAO,EAAE,CAMxC,CACF,CAGA,IAAM,EAAW,MAAM,MAAM,CAAC,aAAa,EAAE,EAAK,YAAY,CAAC,CAAE,CAC/D,OAAQ,OACR,YAAa,SACf,GAEA,GAAI,CAAC,EAAS,EAAE,CACd,CADgB,KACV,AAAI,MAAM,6CAGlB,GAAM,MAAE,CAAI,CAAE,CAAG,MAAM,EAAS,IAAI,GAGpC,EAAqB,EAAK,YAAY,CAAE,GAEpC,GAAa,CAAC,IAChB,GAAqB,GACrB,EAAO,OAAO,AAFqB,CAEpB,CAAC,gBAAgB,EAAE,EAAK,eAAe,CAAC,GAGzD,MAAM,EAAqB,EAAK,YAAY,CAC9C,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,kCAAmC,GACjD,EAAS,aAAe,MAAQ,EAAI,OAAO,CAAG,wCAC9C,GAAW,EACb,CACF,EAEI,GACF,GAGJ,EAJc,AAIX,CAAC,EAAQ,EAAK,EAEjB,IAAM,EAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,MAAO,EAAoB,EAAwB,EAAuB,CAAC,IAChH,GAAI,AAAC,GAAqB,GAM1B,EAAW,AAAC,GANsB,CAMZ,CACpB,EADmB,CAChB,CAAI,CACP,CAAC,CARsB,CAQX,CAAE,EAChB,CAAC,EACD,EAAoB,AAAC,GAAS,EAAK,MAAM,CAAC,AAAC,GAAQ,EAAI,UAAU,GAAK,IACtE,EAAS,MAGT,GAAI,CACF,IAAM,EAAc,EAAO,KAAK,CAAC,IAAI,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,EAAiB,WAAW,CAAC,MAAM,EACzF,GAAI,CAAC,EAAa,OAElB,IAAM,EAAW,MAAM,MACrB,CAAC,aAAa,EAAE,EAAK,aAAa,EAAE,EAAiB,YAAY,CAAC,aAAa,CAAC,CAChF,CACE,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,YAAa,UACb,KAAM,KAAK,SAAS,CAAC,CACnB,OAAQ,EAAY,EAAE,CACtB,aACA,YAAa,CACf,EACF,GAGF,GAAI,CAAC,EAAS,EAAE,CAAE,CAEhB,GAAI,CAAC,EAAS,MAAM,EAAI,SAAO,EAAS,MAAM,AAAK,CAAC,EAAK,EAhC1C,EAmCb,OADA,IAFsE,EAEhE,IAAI,MAFwE,EAEhE,AAAC,GAAY,WAAW,QACnC,CAD4C,CACzB,EAAY,EAAO,EAAe,GAG9D,IAAM,EAAY,MAAM,EAAS,IAAI,GACrC,QAAQ,KAAK,CAAC,uBAAwB,GAGtC,QAAQ,IAAI,CAAC,+EACf,CACF,CAAE,MAAO,EAAK,CAIZ,GAHA,QAAQ,KAAK,CAAC,uBAAwB,GAGlC,IAGF,OADA,IAFiB,EAEX,IAAI,MAFmB,EAEX,AAAC,GAAY,WAAW,EAjD3B,MAkDR,CAD4C,CACzB,EAAY,EAAO,EAAe,GAI9D,QAAQ,IAAI,CAAC,+EACf,EACF,EAAG,CAAC,EAAkB,EAAQ,EAAK,EAE7B,EAAiB,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,UACjC,GAAK,CAAD,EAEJ,GAAc,GACd,EAAS,MAET,CALuB,EAKnB,KUxYN,IAEA,IVuYI,IUzYgB,AVyYV,EAAW,EUvYD,IVuYO,MACrB,CAAC,aAAa,EAAE,EAAK,aAAa,EAAE,EAAiB,YAAY,CAAC,SAAS,CAAC,CAC5E,CACE,OAAQ,OACR,YAAa,SACf,GAGF,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAY,MAAM,EAAS,IAAI,GACrC,GAAI,EAAU,KAAK,EAAE,SAAS,iBAAkB,CAC9C,EAAoB,EAAU,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAC5D,EAAS,kDAIP,EAAiB,YAAY,CUxZvC,EVyZU,EAAiB,EUzZb,SVyZwB,CAAC,MAAM,GACnC,EAAU,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,MAAM,CUvZzD,EAAA,iBAEE,cAAE,SAAc,eAAQ,EAAc,OAAO,CAAM,EACnD,CAAC,mBAAmB,EAAE,EAAa,gBAAgB,CAAC,EVuZ9C,EAAc,IACd,MACF,CACA,MAAM,AAAI,MAAM,2CAClB,CUvbiC,EV0bV,EAAiB,QU1ba,EAAE,EV0bH,CUzbxD,EAAA,KAD6E,kBAG3E,cAAE,EAAc,WVubwC,CUvb7B,EAC3B,CAAC,sBAAsB,EAAE,EAAA,CAAY,EVybnC,EAAO,IAAI,CAAC,CAAC,gBAAgB,EAAE,EAAK,qBAAqB,EAAE,EAAiB,YAAY,CAAA,CAAE,CAC5F,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,+BAAgC,GAC9C,EACE,aAAe,MACX,EAAI,OAAO,CACX,2EAEN,EAAc,GAChB,EACF,EAAG,CAAC,EAAkB,EAAM,EAAO,EAE7B,EAAiB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACjC,GAAI,AAAC,GAAqB,GAE1B,GAAc,EAFoB,CAGlC,EAAS,MAHgB,AAIzB,EAAoB,EAAE,EAEtB,GAAI,CACF,IAAM,EAAc,EAAO,KAAK,CAAC,IAAI,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,EAAiB,WAAW,CAAC,MAAM,EACzF,GAAI,CAAC,EAAa,CAChB,EAAS,mDACT,GAAc,GACd,MACF,CAGA,IAAM,EAAW,MAAM,MACrB,CAAC,aAAa,EAAE,EAAK,aAAa,EAAE,EAAiB,YAAY,CAAC,OAAO,EAAE,EAAY,EAAE,CAAA,CAAE,CAC3F,CACE,OAAQ,OACR,YAAa,SACf,GAGF,GAAI,CAAC,EAAS,EAAE,CAAE,CAEhB,IAAI,EAAe,8BACnB,GAAI,CACF,IAAM,EAAY,MAAM,EAAS,IAAI,GACjC,EAAU,KAAK,EAAE,SAAS,CAC5B,EAAe,EAAU,KAAK,CAAC,OAAA,AAAO,CAE1C,CAAE,KAAM,CAER,CACA,MAAM,AAAI,MAAM,EAClB,CAEA,GAAM,MAAE,CAAI,CAAE,CAAG,MAAM,EAAS,IAAI,GAEpC,GAAI,CAAC,EAAK,OAAO,CAAE,CAQjB,GANA,EAAoB,EAAK,gBAAgB,EAAI,EAAE,EAC/C,EACE,CAAC,0CAA0C,EAAE,EAAK,gBAAgB,EAAE,QAAU,EAAE,UAAU,CAAC,EAIzF,EAAK,gBAAgB,EAAI,EAAK,gBAAgB,CAAC,MAAM,CAAG,EAAG,CAC7D,IAAM,EAAe,EAAK,gBAAgB,CAAC,EAAE,CAC7C,WAAW,KACT,IAAM,EAAU,SAAS,cAAc,CAAC,CAAC,SAAS,EAAE,EAAa,UAAU,CAAA,CAAE,EAC7E,GAAS,eAAe,CAAE,SAAU,SAAU,MAAO,QAAS,EAChE,EAAG,IACL,CAEA,GAAc,GACd,MACF,CAGA,GAAI,EAAK,QAAQ,CAAE,SU7fvB,EV+fuB,EAAiB,QU/fpB,IV+fgC,CU9fpD,EV8fsD,EAAK,EU9f7C,EACd,IV6fmE,CAAC,IU7ftC,EV6f4C,CU3f1E,EAAA,iBAEE,CAAE,eAAc,SAAQ,UVyfkD,MUzfxC,EAClC,CAAC,UAAU,EAAE,UAAU,GAAW,GAAQ,EV2ftC,CU3f4B,EV2fxB,CACF,MAAM,EAAqB,EAAiB,YAAY,EACxD,OAAO,QAAQ,CAAC,CAAE,IAAK,EAAG,SAAU,QAAS,EAC/C,CAAE,MAAO,EAAS,CAGhB,QAAQ,KAAK,CAAC,mCAAoC,EAEpD,CACF,MAEE,CAFK,KAEC,GAEV,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,iCAAkC,GAEhD,EADiB,OACR,MADuB,MAAQ,EAAI,OAAO,CAAG,4DAExD,QAAU,CACR,EAAc,GAChB,EACF,EAAG,CAAC,EAAkB,EAAQ,EAAM,EAAsB,EAAe,EAEnE,EAAqB,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,UACrC,GAAI,CAAC,GAAoB,CAAC,EAAQ,OAGlC,IAAM,EAAoB,EAAiB,WAAW,CAAC,UAAU,CAC5C,EAAO,KAAK,CAAC,IAAI,CAAC,AAAC,GAAM,EAAE,UAAU,GAAK,EAAoB,IAOnF,EAAS,+CACX,EAAG,CAAC,EAAkB,EAAO,EAGvB,EAAc,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAC1B,AAAI,AAAC,GAAW,EACT,EAAO,GADC,EACI,CAAC,IAAI,CAAC,AAAC,GADQ,AACF,EAAE,EAAE,GAAK,EAAiB,WAAW,CAAC,MAAM,GAAK,KADxC,KAExC,CAAC,EAAkB,EAAO,EAEvB,EAAc,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAC1B,CAAI,CAAC,GAC6C,IAA3C,EAAiB,SADD,EACY,CAAC,IADN,KACe,CAC5C,CAAC,EAAiB,EAEf,EAAa,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IACzB,CAAI,CAAC,GACE,EAAiB,WAAW,CAAC,CADb,OAAO,CACe,GAAK,EAAiB,UAAU,CAAG,EAC/E,CAAC,EAAiB,EAEf,EAAa,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAAM,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,GAAe,CAAC,EAAa,EACtE,EAAY,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAAM,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,GAAe,CAAC,EAAa,EACpE,EAAmB,CAAA,EAAA,EAAA,OAAA,AAAO,EAC9B,IAAM,EAAW,MAAM,CAAG,GAAK,EAAU,MAAM,CAAG,EAClD,CAAC,EAAW,EAAW,EAGnB,EAAgB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAAM,OAAO,IAAI,CAAC,GAAS,MAAM,CAAE,CAAC,EAAQ,EAG1E,GAAI,GAAY,CAAC,IAAU,CAAC,GAAU,CAAZ,AAAa,GAAoB,CAAC,CAAA,CAAW,CACrE,EADyE,IAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4EACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CACb,KAAK,KACL,KAAM,EAAS,YAAY,CAAG,EAAS,eAAe,EAAI,WAAa,2BACvE,QAAQ,CAAA,CAAA,MAOhB,GAAI,AAAU,iBAAiB,GAC7B,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mEACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAgB,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kDAAyC,uBACvD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAsB,qFAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAO,IAAI,CAAC,oBAC3B,UAAU,sIACX,gCAST,GAAI,CAAC,GAAW,GAAS,CAAC,SUnjB1B,EAAA,OVmjB4C,WUjjB1C,CAAE,KVmjBuB,gBUnjBjB,CVmjBkC,YAAxB,EAA0B,WAAY,CUnjBvB,EACjC,CAAC,mBAAmB,EAAE,KAAK,EAAE,EAAE,SAAc,EV4jB3C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mEACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CACT,MAAM,SACN,QAAS,EACT,QAZc,CAYL,IAXb,EAAS,MACT,GAAW,GAEX,OAAO,QAAQ,CAAC,MAAM,EACxB,EAQM,QAAQ,CAAA,CAAA,aAShB,AAAK,AAAD,GAAY,GAAqB,EAUnC,CAAA,CAVa,CAUb,EAAA,IAAA,EAVgD,AAUhD,EAAA,EAVkC,MAUlC,CAAA,WAEG,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,OACnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDAA8C,0BAG5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAW,GAAG,CAAC,AAAC,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAEC,KAAM,CAAC,gBAAgB,EAAE,EAAK,SAAS,EAAE,EAAK,IAAI,CAAA,CAAE,CACpD,OAAO,SACP,IAAI,sBACJ,UAAU,kFACX,MACK,EAAK,KAAK,CACb,EAAK,OAAO,EACX,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0CAAgC,KAC3C,EAAK,OAAO,CAAC,SAAS,CAAC,EAAG,IAC5B,EAAK,OAAO,CAAC,MAAM,CAAG,GAAK,MAAQ,QAVnC,EAAK,EAAE,GAef,EAAU,GAAG,CAAC,AAAC,GACd,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAEC,KAAM,CAAC,gBAAgB,EAAE,EAAK,SAAS,EAAE,EAAK,IAAI,CAAA,CAAE,CACpD,OAAO,SACP,IAAI,sBACJ,UAAU,kFACX,MACK,EAAK,KAAK,CACb,EAAK,OAAO,EACX,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0CAAgC,KAC3C,EAAK,OAAO,CAAC,SAAS,CAAC,EAAG,IAC5B,EAAK,OAAO,CAAC,MAAM,CAAG,GAAK,MAAQ,QAVnC,EAAK,EAAE,gBAsB5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,OAAQ,EACR,iBAAkB,EAClB,YAAa,EACb,QAAS,EACT,iBAAkB,EAClB,MAAO,EACP,WAAY,EACZ,cAAe,EACf,mBAAoB,EAAgB,GAAK,EAAiB,WAAW,CAAC,SAAS,CAAG,EAClF,eAAgB,EAChB,WAAY,EACZ,eAAgB,EAChB,YAAa,EACb,WAAY,OA1Ed,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mEACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,KAAK,KAAK,KAAK,WAAW,QAAQ,CAAA,CAAA,KA6E1D","ignoreList":[0,1]}