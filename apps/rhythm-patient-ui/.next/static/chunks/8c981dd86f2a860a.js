(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3308,e=>{"use strict";e.s(["AUDIT_ACTION",0,{CREATE:"create",UPDATE:"update",DELETE:"delete",APPROVE:"approve",REJECT:"reject",REQUEST_CHANGES:"request_changes",GENERATE:"generate",FLAG:"flag",ASSIGN:"assign",ACTIVATE:"activate",DEACTIVATE:"deactivate",ROLLOUT:"rollout",COMPLETE:"complete",ESCALATE:"escalate",DELETION_REQUEST:"deletion_request",DELETION_CANCEL:"deletion_cancel",DELETION_EXECUTE:"deletion_execute",ANONYMIZE:"anonymize"},"AUDIT_ENTITY_TYPE",0,{ASSESSMENT:"assessment",REPORT:"report",TASK:"task",FUNNEL_VERSION:"funnel_version",FUNNEL_CATALOG:"funnel_catalog",CONFIG:"config",CONSENT:"consent",ORGANIZATION:"organization",USER_ORG_MEMBERSHIP:"user_org_membership",CLINICIAN_ASSIGNMENT:"clinician_assignment",DOCUMENT:"document",PROCESSING_JOB:"processing_job",REVIEW_RECORD:"review_record",PRE_SCREENING_CALL:"pre_screening_call",DEVICE_SHIPMENT:"device_shipment",SUPPORT_CASE:"support_case",ACCOUNT:"account"},"AUDIT_SOURCE",0,{API:"api",JOB:"job",ADMIN_UI:"admin-ui",SYSTEM:"system"},"NODE_TYPE",0,{QUESTION_STEP:"question_step",FORM:"form",INFO_STEP:"info_step",INFO:"info",CONTENT_PAGE:"content_page",SUMMARY:"summary",OTHER:"other"},"PATIENT_SEX",0,{MALE:"male",FEMALE:"female",OTHER:"other",PREFER_NOT_TO_SAY:"prefer_not_to_say"},"PILLAR_KEY",0,{NUTRITION:"nutrition",MOVEMENT:"movement",SLEEP:"sleep",MENTAL_HEALTH:"mental-health",SOCIAL:"social",MEANING:"meaning",PREVENTION:"prevention"},"QUESTION_TYPE",0,{RADIO:"radio",CHECKBOX:"checkbox",TEXT:"text",TEXTAREA:"textarea",NUMBER:"number",SCALE:"scale",SLIDER:"slider"}])},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},85e3,e=>{"use strict";var t=e.i(18050),s=e.i(18566),a=e.i(71689);let i=(0,e.i(75254).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var l=e.i(52571);e.i(180);var r=e.i(53012);function n({variant:e="with-title",title:n,subtitle:o,showBack:d=!0,onBack:c,actionIcon:h="settings",onAction:x,className:m=""}){let u=(0,s.useRouter)();return(0,t.jsx)("header",{className:`sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 transition-colors duration-150 ${m}`,style:{zIndex:50,boxShadow:r.shadows.sm},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",style:{padding:`${r.spacing.sm} ${r.spacing.md}`,minHeight:"56px"},children:[d&&(0,t.jsx)("button",{type:"button",onClick:()=>{c?c():u.back()},className:"shrink-0 flex items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 active:bg-slate-300 dark:active:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2",style:{width:"44px",height:"44px"},"aria-label":"ZurÃ¼ck",children:(0,t.jsx)(a.ArrowLeft,{size:20,strokeWidth:2,className:"text-slate-700 dark:text-slate-300","aria-hidden":!0})}),("with-title"===e||"with-action"===e)&&(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[o&&(0,t.jsx)("p",{className:"text-xs font-medium text-sky-600 dark:text-sky-400 uppercase tracking-wide truncate",style:{fontSize:r.typography.fontSize.xs},children:o}),n&&(0,t.jsx)("h1",{className:"font-semibold text-slate-900 dark:text-slate-100 truncate",style:{fontSize:r.typography.fontSize.lg,lineHeight:r.typography.lineHeight.tight},children:n})]}),"with-action"===e&&(()=>{if(!x)return null;let e={size:20,strokeWidth:2,"aria-hidden":!0};return(0,t.jsx)("button",{type:"button",onClick:x,className:"shrink-0 flex items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 active:bg-slate-300 dark:active:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2",style:{width:"44px",height:"44px"},"aria-label":"settings"===h?"Einstellungen":"Information",children:"settings"===h?(0,t.jsx)(i,{...e,className:"text-slate-700 dark:text-slate-300"}):(0,t.jsx)(l.Info,{...e,className:"text-slate-700 dark:text-slate-300"})})})()]})})}e.s(["default",()=>n],85e3)},34832,e=>{"use strict";var t=e.i(18050),s=e.i(71645),a=e.i(18566),i=e.i(85e3);let l=(0,e.i(75254).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.i(180);var r=e.i(53012);let n=["stress-assessment","stress"];function o({funnel:e,slug:s,title:a,subtitle:i,description:o,icon:d="ðŸ“‹",useIconComponent:c=!1,theme:h,estimatedDuration:x,outcomes:m,version:u,availability:p="available",onClick:g}){let f=e?.slug??s??"",E=e?.title??a??"",N=e?.subtitle??i,b=e?.description??o;e?.default_theme;let y=n.includes(f),k="coming_soon"===p||"not_available"===p;return(0,t.jsxs)("button",{type:"button",onClick:g,disabled:k,className:`w-full bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 text-left transition-colors duration-150 ${k?"opacity-60 cursor-not-allowed":"hover:border-sky-400 dark:hover:border-sky-500 hover:shadow-xl active:scale-[0.98]"}`,style:{padding:r.spacing.lg,borderRadius:r.radii.xl,boxShadow:r.shadows.md,transition:`all ${r.motion.duration.normal} ${r.motion.easing.smooth}`},"aria-label":`${E} Assessment ${k?"(In KÃ¼rze verfÃ¼gbar)":"starten"}`,children:[(0,t.jsx)("div",{className:"mb-4 flex items-center justify-center",children:(0,t.jsx)("div",{className:"flex items-center justify-center border",style:{width:"80px",height:"80px",borderRadius:r.radii.xl,background:`linear-gradient(to bottom right, ${r.colors.primary[100]}, ${r.colors.primary[50]})`,borderColor:r.colors.primary[200]},children:c||y?(0,t.jsx)(l,{className:"heartbeat-pulse text-rose-600 dark:text-rose-500",size:48,strokeWidth:2.5,fill:"currentColor","aria-hidden":"true"}):(0,t.jsx)("span",{className:"text-5xl",children:d})})}),N&&(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("span",{className:"inline-block bg-sky-600 text-white font-semibold uppercase tracking-wide",style:{fontSize:r.typography.fontSize.xs,padding:`${r.spacing.xs} ${r.spacing.sm}`,borderRadius:r.radii.md},children:N})}),(0,t.jsx)("h3",{className:"font-bold text-slate-900 dark:text-slate-100 mb-2",style:{fontSize:r.typography.fontSize.xl,lineHeight:r.typography.lineHeight.tight},children:E}),b&&(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mb-3",style:{fontSize:r.typography.fontSize.sm,lineHeight:r.typography.lineHeight.relaxed},children:b}),(x||m||u)&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[x&&(0,t.jsxs)("span",{className:"inline-block bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-2 py-1 rounded",style:{fontSize:r.typography.fontSize.xs,borderRadius:r.radii.sm},children:["â±ï¸ ca. ",x," Min."]}),u&&(0,t.jsxs)("span",{className:"inline-block bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-2 py-1 rounded",style:{fontSize:r.typography.fontSize.xs,borderRadius:r.radii.sm},children:["v",u]})]}),m&&m.length>0&&(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("ul",{className:"space-y-1",children:m.slice(0,3).map((e,s)=>(0,t.jsxs)("li",{className:"text-slate-600 dark:text-slate-400 flex items-start gap-2",style:{fontSize:r.typography.fontSize.xs},children:[(0,t.jsx)("span",{className:"text-sky-500 mt-0.5",children:"âœ“"}),(0,t.jsx)("span",{children:e})]},s))})}),(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sky-600 dark:text-sky-400 font-semibold",children:[(0,t.jsx)("span",{style:{fontSize:r.typography.fontSize.sm},children:k?"In KÃ¼rze verfÃ¼gbar":"Assessment starten"}),!k&&(0,t.jsx)("span",{children:"â†’"})]})]})}e.i(47446);var d=e.i(84584),c=e.i(52220),h=e.i(12911),x=e.i(3308);function m(){let e=(0,a.useRouter)(),[l,n]=(0,s.useState)(!0),[m,u]=(0,s.useState)(null),[p,g]=(0,s.useState)(null),[f,E]=(0,s.useState)(new Set);(0,s.useEffect)(()=>{(async()=>{try{n(!0),u(null);let e=await fetch("/api/funnels/catalog");if(!e.ok)throw Error("Failed to load catalog");let t=await e.json();if(t.success&&t.data)g(t.data),t.data.pillars.length>0&&E(new Set([t.data.pillars[0].pillar.id]));else throw Error("Invalid response format")}catch(e){console.error("[catalog] Error loading catalog:",e),u("Katalog konnte nicht geladen werden.")}finally{n(!1)}})()},[]);let N=(t,s)=>{"available"!==s&&s||e.push(`/patient/funnel/${t}/intro`)},b=e=>({"stress-assessment":"ðŸ§˜â€â™€ï¸",stress:"ðŸ§˜â€â™€ï¸",sleep:"ðŸ˜´","sleep-assessment":"ðŸ˜´",resilience:"ðŸ’ª"})[e]||"ðŸ“‹";return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-sky-50 via-slate-50 to-slate-100 dark:from-slate-800 dark:via-slate-900 dark:to-slate-950 transition-colors duration-150",children:[(0,t.jsx)(i.default,{variant:"with-title",title:"Funnel Katalog",subtitle:"Rhythmologicum Connect",showBack:!0}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto px-4 pt-4 sm:pt-6",style:{paddingBottom:"calc(6rem + env(safe-area-inset-bottom))"},children:(0,t.jsx)("div",{className:"w-full max-w-6xl mx-auto flex flex-col gap-6 lg:flex-row",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"font-bold leading-tight text-slate-900 dark:text-slate-100",style:{fontSize:r.typography.fontSize["2xl"],lineHeight:r.typography.lineHeight.tight},children:"VerfÃ¼gbare Assessments"}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"WÃ¤hlen Sie ein Assessment aus, um zu starten"})]}),l&&(0,t.jsx)(d.LoadingSpinner,{size:"lg",centered:!0}),m&&(0,t.jsx)(c.ErrorState,{message:m}),!l&&!m&&p&&(0,t.jsxs)("div",{className:"space-y-6",children:[p.pillars.map(e=>{var s;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(h.Card,{padding:"md",radius:"lg",interactive:!0,onClick:()=>{var t;return t=e.pillar.id,void E(e=>{let s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s})},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:(s=e.pillar.key,({[x.PILLAR_KEY.NUTRITION]:"ðŸ¥—",[x.PILLAR_KEY.MOVEMENT]:"ðŸƒ",[x.PILLAR_KEY.SLEEP]:"ðŸ˜´",[x.PILLAR_KEY.MENTAL_HEALTH]:"ðŸ§˜â€â™€ï¸",[x.PILLAR_KEY.SOCIAL]:"ðŸ‘¥",[x.PILLAR_KEY.MEANING]:"ðŸŒŸ",[x.PILLAR_KEY.PREVENTION]:"ðŸ›¡ï¸"})[s]||"ðŸ“‹")}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("h2",{className:"font-semibold text-slate-900 dark:text-slate-100",children:e.pillar.title}),e.pillar.description&&(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:e.pillar.description})]}),(0,t.jsx)("svg",{className:`w-5 h-5 text-slate-400 transition-transform ${f.has(e.pillar.id)?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),f.has(e.pillar.id)&&(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:e.funnels.map(e=>(0,t.jsx)(o,{funnel:{id:e.id,slug:e.slug,title:e.title,subtitle:e.subtitle,description:e.description,default_theme:null},icon:b(e.slug),onClick:()=>N(e.slug,e.availability),estimatedDuration:e.est_duration_min,outcomes:e.outcomes,version:e.default_version,availability:e.availability},e.id))}),f.has(e.pillar.id)&&0===e.funnels.length&&(0,t.jsx)("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"Keine Assessments in dieser Kategorie verfÃ¼gbar"})]},e.pillar.id)}),p.uncategorized_funnels.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h2",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Weitere Assessments"}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:p.uncategorized_funnels.map(e=>(0,t.jsx)(o,{funnel:{id:e.id,slug:e.slug,title:e.title,subtitle:e.subtitle,description:e.description,default_theme:null},icon:b(e.slug),onClick:()=>N(e.slug,e.availability),estimatedDuration:e.est_duration_min,outcomes:e.outcomes,version:e.default_version,availability:e.availability},e.id))})]}),0===p.pillars.length&&0===p.uncategorized_funnels.length&&(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"Derzeit sind keine Assessments verfÃ¼gbar"})})]})]})})})]})}e.s(["default",()=>m],34832)}]);

//# sourceMappingURL=0d192ddd0a623428.js.map