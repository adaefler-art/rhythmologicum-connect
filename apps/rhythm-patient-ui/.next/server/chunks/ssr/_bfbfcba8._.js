module.exports=[41975,a=>{"use strict";a.s(["AUDIT_ACTION",0,{CREATE:"create",UPDATE:"update",DELETE:"delete",APPROVE:"approve",REJECT:"reject",REQUEST_CHANGES:"request_changes",GENERATE:"generate",FLAG:"flag",ASSIGN:"assign",ACTIVATE:"activate",DEACTIVATE:"deactivate",ROLLOUT:"rollout",COMPLETE:"complete",ESCALATE:"escalate",DELETION_REQUEST:"deletion_request",DELETION_CANCEL:"deletion_cancel",DELETION_EXECUTE:"deletion_execute",ANONYMIZE:"anonymize"},"AUDIT_ENTITY_TYPE",0,{ASSESSMENT:"assessment",REPORT:"report",TASK:"task",FUNNEL_VERSION:"funnel_version",FUNNEL_CATALOG:"funnel_catalog",CONFIG:"config",CONSENT:"consent",ORGANIZATION:"organization",USER_ORG_MEMBERSHIP:"user_org_membership",CLINICIAN_ASSIGNMENT:"clinician_assignment",DOCUMENT:"document",PROCESSING_JOB:"processing_job",REVIEW_RECORD:"review_record",PRE_SCREENING_CALL:"pre_screening_call",DEVICE_SHIPMENT:"device_shipment",SUPPORT_CASE:"support_case",ACCOUNT:"account"},"AUDIT_SOURCE",0,{API:"api",JOB:"job",ADMIN_UI:"admin-ui",SYSTEM:"system"},"NODE_TYPE",0,{QUESTION_STEP:"question_step",FORM:"form",INFO_STEP:"info_step",INFO:"info",CONTENT_PAGE:"content_page",SUMMARY:"summary",OTHER:"other"},"PATIENT_SEX",0,{MALE:"male",FEMALE:"female",OTHER:"other",PREFER_NOT_TO_SAY:"prefer_not_to_say"},"PILLAR_KEY",0,{NUTRITION:"nutrition",MOVEMENT:"movement",SLEEP:"sleep",MENTAL_HEALTH:"mental-health",SOCIAL:"social",MEANING:"meaning",PREVENTION:"prevention"},"QUESTION_TYPE",0,{RADIO:"radio",CHECKBOX:"checkbox",TEXT:"text",TEXTAREA:"textarea",NUMBER:"number",SCALE:"scale",SLIDER:"slider"}])},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},6035,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(5050);let f=(0,e.createServerReference)("403595fa6e7b7d1b348c37040bb72197646de953f1",e.callServer,void 0,e.findSourceMapURL,"recordConsent");var g=a.i(56757),h=a.i(41975);let i="1.0.0";function j(){let a=(0,d.useRouter)(),[e,g]=(0,c.useState)(!1),[h,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null),m=async b=>{if(b.preventDefault(),!e)return void l("Sie müssen den Nutzungsbedingungen zustimmen, um fortzufahren.");j(!0),l(null);try{let b=await f({consentVersion:i,agreedToTerms:e});b.success?a.push("/patient/onboarding/profile"):l(b.error||"Fehler beim Speichern der Zustimmung")}catch(a){l("Ein unerwarteter Fehler ist aufgetreten"),console.error("Consent submission error:",a)}finally{j(!1)}};return(0,b.jsxs)("div",{className:"w-full bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-6 sm:p-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Willkommen bei Rhythmologicum Connect"}),(0,b.jsxs)("div",{className:"prose prose-slate dark:prose-invert max-w-none mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"Nutzungsbedingungen"}),(0,b.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-md p-4 mb-4 max-h-[60vh] overflow-y-auto border border-slate-200 dark:border-slate-700",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:"1. Zweck der Anwendung"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Rhythmologicum Connect ist eine frühe Testversion einer digitalen Gesundheitsanwendung zur Erfassung und Bewertung von Stress und Resilienz. Die Anwendung ist nicht für den klinischen Einsatz bestimmt."}),(0,b.jsx)("h3",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:"2. Datenschutz"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Ihre Daten werden sicher gespeichert und nur für die Zwecke dieser Testversion verwendet. Weitere Informationen finden Sie in unserer Datenschutzerklärung."}),(0,b.jsx)("h3",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:"3. Einwilligung"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Durch die Zustimmung zu diesen Nutzungsbedingungen erklären Sie sich damit einverstanden, dass Ihre Angaben gespeichert und ausgewertet werden. Sie können Ihre Einwilligung jederzeit widerrufen."}),(0,b.jsx)("h3",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:"4. Haftungsausschluss"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Die Anwendung dient ausschließlich zu Forschungs- und Testzwecken. Sie ersetzt keine medizinische Diagnose oder Behandlung. Bei gesundheitlichen Beschwerden wenden Sie sich bitte an einen Arzt."})]})]}),(0,b.jsxs)("form",{onSubmit:m,children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:e,onChange:a=>g(a.target.checked),className:"mt-1 h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500",disabled:h}),(0,b.jsx)("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Ich habe die Nutzungsbedingungen gelesen und stimme zu."})]})}),k&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:(0,b.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:k})}),(0,b.jsx)("div",{className:"flex gap-3",children:(0,b.jsx)("button",{type:"submit",disabled:!e||h,className:"px-6 py-2.5 bg-sky-600 hover:bg-sky-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white font-medium rounded-md transition-colors duration-200",children:h?"Wird gespeichert...":"Zustimmen und fortfahren"})})]}),(0,b.jsxs)("p",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:["Version ",i]})]})}g.z.object({consentVersion:g.z.string().min(1,"Consent version is required"),agreedToTerms:g.z.boolean().refine(a=>!0===a,{message:"You must agree to the terms to continue"})}),g.z.object({id:g.z.string().uuid(),user_id:g.z.string().uuid(),consent_version:g.z.string(),consented_at:g.z.string().datetime(),ip_address:g.z.string().nullable(),user_agent:g.z.string().nullable()}),g.z.object({full_name:g.z.string().min(1,"Name is required").max(200,"Name must be less than 200 characters").trim(),birth_year:g.z.number().int("Birth year must be a whole number").min(1900,"Birth year must be 1900 or later").max(new Date().getFullYear(),"Birth year cannot be in the future").optional().nullable(),sex:g.z.enum([h.PATIENT_SEX.MALE,h.PATIENT_SEX.FEMALE,h.PATIENT_SEX.OTHER,h.PATIENT_SEX.PREFER_NOT_TO_SAY],{message:"Please select a valid option"}).optional().nullable()}),g.z.object({id:g.z.string().uuid(),user_id:g.z.string().uuid(),created_at:g.z.string().datetime(),full_name:g.z.string().nullable(),birth_year:g.z.number().nullable(),sex:g.z.string().nullable(),onboarding_status:g.z.enum(["not_started","in_progress","completed"]).optional()}),g.z.object({hasConsent:g.z.boolean(),hasProfile:g.z.boolean(),isComplete:g.z.boolean(),status:g.z.enum(["not_started","in_progress","completed"]).optional()}),a.s(["ConsentClient",()=>j],6035)}];

//# sourceMappingURL=_bfbfcba8._.js.map