module.exports=[41975,a=>{"use strict";a.s(["AUDIT_ACTION",0,{CREATE:"create",UPDATE:"update",DELETE:"delete",APPROVE:"approve",REJECT:"reject",REQUEST_CHANGES:"request_changes",GENERATE:"generate",FLAG:"flag",ASSIGN:"assign",ACTIVATE:"activate",DEACTIVATE:"deactivate",ROLLOUT:"rollout",COMPLETE:"complete",ESCALATE:"escalate",DELETION_REQUEST:"deletion_request",DELETION_CANCEL:"deletion_cancel",DELETION_EXECUTE:"deletion_execute",ANONYMIZE:"anonymize"},"AUDIT_ENTITY_TYPE",0,{ASSESSMENT:"assessment",REPORT:"report",TASK:"task",FUNNEL_VERSION:"funnel_version",FUNNEL_CATALOG:"funnel_catalog",CONFIG:"config",CONSENT:"consent",ORGANIZATION:"organization",USER_ORG_MEMBERSHIP:"user_org_membership",CLINICIAN_ASSIGNMENT:"clinician_assignment",DOCUMENT:"document",PROCESSING_JOB:"processing_job",REVIEW_RECORD:"review_record",PRE_SCREENING_CALL:"pre_screening_call",DEVICE_SHIPMENT:"device_shipment",SUPPORT_CASE:"support_case",ACCOUNT:"account"},"AUDIT_SOURCE",0,{API:"api",JOB:"job",ADMIN_UI:"admin-ui",SYSTEM:"system"},"NODE_TYPE",0,{QUESTION_STEP:"question_step",FORM:"form",INFO_STEP:"info_step",INFO:"info",CONTENT_PAGE:"content_page",SUMMARY:"summary",OTHER:"other"},"PATIENT_SEX",0,{MALE:"male",FEMALE:"female",OTHER:"other",PREFER_NOT_TO_SAY:"prefer_not_to_say"},"PILLAR_KEY",0,{NUTRITION:"nutrition",MOVEMENT:"movement",SLEEP:"sleep",MENTAL_HEALTH:"mental-health",SOCIAL:"social",MEANING:"meaning",PREVENTION:"prevention"},"QUESTION_TYPE",0,{RADIO:"radio",CHECKBOX:"checkbox",TEXT:"text",TEXTAREA:"textarea",NUMBER:"number",SCALE:"scale",SLIDER:"slider"}])},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},90441,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(210);let e=(0,a.i(70106).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var f=a.i(97063);a.i(14240);var g=a.i(76756);function h({variant:a="with-title",title:h,subtitle:i,showBack:j=!0,onBack:k,actionIcon:l="settings",onAction:m,className:n=""}){let o=(0,c.useRouter)();return(0,b.jsx)("header",{className:`sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 transition-colors duration-150 ${n}`,style:{zIndex:50,boxShadow:g.shadows.sm},children:(0,b.jsxs)("div",{className:"flex items-center gap-3",style:{padding:`${g.spacing.sm} ${g.spacing.md}`,minHeight:"56px"},children:[j&&(0,b.jsx)("button",{type:"button",onClick:()=>{k?k():o.back()},className:"shrink-0 flex items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 active:bg-slate-300 dark:active:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2",style:{width:"44px",height:"44px"},"aria-label":"ZurÃ¼ck",children:(0,b.jsx)(d.ArrowLeft,{size:20,strokeWidth:2,className:"text-slate-700 dark:text-slate-300","aria-hidden":!0})}),("with-title"===a||"with-action"===a)&&(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[i&&(0,b.jsx)("p",{className:"text-xs font-medium text-sky-600 dark:text-sky-400 uppercase tracking-wide truncate",style:{fontSize:g.typography.fontSize.xs},children:i}),h&&(0,b.jsx)("h1",{className:"font-semibold text-slate-900 dark:text-slate-100 truncate",style:{fontSize:g.typography.fontSize.lg,lineHeight:g.typography.lineHeight.tight},children:h})]}),"with-action"===a&&(()=>{if(!m)return null;let a={size:20,strokeWidth:2,"aria-hidden":!0};return(0,b.jsx)("button",{type:"button",onClick:m,className:"shrink-0 flex items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 active:bg-slate-300 dark:active:bg-slate-500 transition-colors focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2",style:{width:"44px",height:"44px"},"aria-label":"settings"===l?"Einstellungen":"Information",children:"settings"===l?(0,b.jsx)(e,{...a,className:"text-slate-700 dark:text-slate-300"}):(0,b.jsx)(f.Info,{...a,className:"text-slate-700 dark:text-slate-300"})})})()]})})}a.s(["default",()=>h],90441)},6343,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(90441);let f=(0,a.i(70106).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);a.i(14240);var g=a.i(76756);let h=["stress-assessment","stress"];function i({funnel:a,slug:c,title:d,subtitle:e,description:i,icon:j="ðŸ“‹",useIconComponent:k=!1,theme:l,estimatedDuration:m,outcomes:n,version:o,availability:p="available",onClick:q}){let r=a?.slug??c??"",s=a?.title??d??"",t=a?.subtitle??e,u=a?.description??i;a?.default_theme;let v=h.includes(r),w="coming_soon"===p||"not_available"===p;return(0,b.jsxs)("button",{type:"button",onClick:q,disabled:w,className:`w-full bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 text-left transition-colors duration-150 ${w?"opacity-60 cursor-not-allowed":"hover:border-sky-400 dark:hover:border-sky-500 hover:shadow-xl active:scale-[0.98]"}`,style:{padding:g.spacing.lg,borderRadius:g.radii.xl,boxShadow:g.shadows.md,transition:`all ${g.motion.duration.normal} ${g.motion.easing.smooth}`},"aria-label":`${s} Assessment ${w?"(In KÃ¼rze verfÃ¼gbar)":"starten"}`,children:[(0,b.jsx)("div",{className:"mb-4 flex items-center justify-center",children:(0,b.jsx)("div",{className:"flex items-center justify-center border",style:{width:"80px",height:"80px",borderRadius:g.radii.xl,background:`linear-gradient(to bottom right, ${g.colors.primary[100]}, ${g.colors.primary[50]})`,borderColor:g.colors.primary[200]},children:k||v?(0,b.jsx)(f,{className:"heartbeat-pulse text-rose-600 dark:text-rose-500",size:48,strokeWidth:2.5,fill:"currentColor","aria-hidden":"true"}):(0,b.jsx)("span",{className:"text-5xl",children:j})})}),t&&(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)("span",{className:"inline-block bg-sky-600 text-white font-semibold uppercase tracking-wide",style:{fontSize:g.typography.fontSize.xs,padding:`${g.spacing.xs} ${g.spacing.sm}`,borderRadius:g.radii.md},children:t})}),(0,b.jsx)("h3",{className:"font-bold text-slate-900 dark:text-slate-100 mb-2",style:{fontSize:g.typography.fontSize.xl,lineHeight:g.typography.lineHeight.tight},children:s}),u&&(0,b.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mb-3",style:{fontSize:g.typography.fontSize.sm,lineHeight:g.typography.lineHeight.relaxed},children:u}),(m||n||o)&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[m&&(0,b.jsxs)("span",{className:"inline-block bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-2 py-1 rounded",style:{fontSize:g.typography.fontSize.xs,borderRadius:g.radii.sm},children:["â±ï¸ ca. ",m," Min."]}),o&&(0,b.jsxs)("span",{className:"inline-block bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-2 py-1 rounded",style:{fontSize:g.typography.fontSize.xs,borderRadius:g.radii.sm},children:["v",o]})]}),n&&n.length>0&&(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)("ul",{className:"space-y-1",children:n.slice(0,3).map((a,c)=>(0,b.jsxs)("li",{className:"text-slate-600 dark:text-slate-400 flex items-start gap-2",style:{fontSize:g.typography.fontSize.xs},children:[(0,b.jsx)("span",{className:"text-sky-500 mt-0.5",children:"âœ“"}),(0,b.jsx)("span",{children:a})]},c))})}),(0,b.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sky-600 dark:text-sky-400 font-semibold",children:[(0,b.jsx)("span",{style:{fontSize:g.typography.fontSize.sm},children:w?"In KÃ¼rze verfÃ¼gbar":"Assessment starten"}),!w&&(0,b.jsx)("span",{children:"â†’"})]})]})}a.i(59620);var j=a.i(86071),k=a.i(63156),l=a.i(63548),m=a.i(41975);function n(){let a=(0,d.useRouter)(),[f,h]=(0,c.useState)(!0),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(new Set);(0,c.useEffect)(()=>{(async()=>{try{h(!0),o(null);let a=await fetch("/api/funnels/catalog");if(!a.ok)throw Error("Failed to load catalog");let b=await a.json();if(b.success&&b.data)q(b.data),b.data.pillars.length>0&&s(new Set([b.data.pillars[0].pillar.id]));else throw Error("Invalid response format")}catch(a){console.error("[catalog] Error loading catalog:",a),o("Katalog konnte nicht geladen werden.")}finally{h(!1)}})()},[]);let t=(b,c)=>{"available"!==c&&c||a.push(`/patient/funnel/${b}/intro`)},u=a=>({"stress-assessment":"ðŸ§˜â€â™€ï¸",stress:"ðŸ§˜â€â™€ï¸",sleep:"ðŸ˜´","sleep-assessment":"ðŸ˜´",resilience:"ðŸ’ª"})[a]||"ðŸ“‹";return(0,b.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-sky-50 via-slate-50 to-slate-100 dark:from-slate-800 dark:via-slate-900 dark:to-slate-950 transition-colors duration-150",children:[(0,b.jsx)(e.default,{variant:"with-title",title:"Funnel Katalog",subtitle:"Rhythmologicum Connect",showBack:!0}),(0,b.jsx)("main",{className:"flex-1 overflow-y-auto px-4 pt-4 sm:pt-6",style:{paddingBottom:"calc(6rem + env(safe-area-inset-bottom))"},children:(0,b.jsx)("div",{className:"w-full max-w-6xl mx-auto flex flex-col gap-6 lg:flex-row",children:(0,b.jsxs)("div",{className:"flex-1 min-w-0 space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h1",{className:"font-bold leading-tight text-slate-900 dark:text-slate-100",style:{fontSize:g.typography.fontSize["2xl"],lineHeight:g.typography.lineHeight.tight},children:"VerfÃ¼gbare Assessments"}),(0,b.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"WÃ¤hlen Sie ein Assessment aus, um zu starten"})]}),f&&(0,b.jsx)(j.LoadingSpinner,{size:"lg",centered:!0}),n&&(0,b.jsx)(k.ErrorState,{message:n}),!f&&!n&&p&&(0,b.jsxs)("div",{className:"space-y-6",children:[p.pillars.map(a=>{var c;return(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(l.Card,{padding:"md",radius:"lg",interactive:!0,onClick:()=>{var b;return b=a.pillar.id,void s(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c})},children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:(c=a.pillar.key,({[m.PILLAR_KEY.NUTRITION]:"ðŸ¥—",[m.PILLAR_KEY.MOVEMENT]:"ðŸƒ",[m.PILLAR_KEY.SLEEP]:"ðŸ˜´",[m.PILLAR_KEY.MENTAL_HEALTH]:"ðŸ§˜â€â™€ï¸",[m.PILLAR_KEY.SOCIAL]:"ðŸ‘¥",[m.PILLAR_KEY.MEANING]:"ðŸŒŸ",[m.PILLAR_KEY.PREVENTION]:"ðŸ›¡ï¸"})[c]||"ðŸ“‹")}),(0,b.jsxs)("div",{className:"flex-1 text-left",children:[(0,b.jsx)("h2",{className:"font-semibold text-slate-900 dark:text-slate-100",children:a.pillar.title}),a.pillar.description&&(0,b.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:a.pillar.description})]}),(0,b.jsx)("svg",{className:`w-5 h-5 text-slate-400 transition-transform ${r.has(a.pillar.id)?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),r.has(a.pillar.id)&&(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:a.funnels.map(a=>(0,b.jsx)(i,{funnel:{id:a.id,slug:a.slug,title:a.title,subtitle:a.subtitle,description:a.description,default_theme:null},icon:u(a.slug),onClick:()=>t(a.slug,a.availability),estimatedDuration:a.est_duration_min,outcomes:a.outcomes,version:a.default_version,availability:a.availability},a.id))}),r.has(a.pillar.id)&&0===a.funnels.length&&(0,b.jsx)("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"Keine Assessments in dieser Kategorie verfÃ¼gbar"})]},a.pillar.id)}),p.uncategorized_funnels.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h2",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Weitere Assessments"}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:p.uncategorized_funnels.map(a=>(0,b.jsx)(i,{funnel:{id:a.id,slug:a.slug,title:a.title,subtitle:a.subtitle,description:a.description,default_theme:null},icon:u(a.slug),onClick:()=>t(a.slug,a.availability),estimatedDuration:a.est_duration_min,outcomes:a.outcomes,version:a.default_version,availability:a.availability},a.id))})]}),0===p.pillars.length&&0===p.uncategorized_funnels.length&&(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"Derzeit sind keine Assessments verfÃ¼gbar"})})]})]})})})]})}a.s(["default",()=>n],6343)}];

//# sourceMappingURL=_ef58ec2d._.js.map