{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/env.ts"],"sourcesContent":["/**\n * Environment Variables Schema and Validation\n * \n * This file provides type-safe access to environment variables using Zod validation.\n * All environment variables MUST be accessed through this module to ensure:\n * 1. Type safety\n * 2. Runtime validation\n * 3. Clear documentation of required vs. optional variables\n * 4. Fail-fast behavior for missing required variables\n * \n * **IMPORTANT**: This file is protected by CODEOWNERS. Any changes require review.\n * \n * Usage:\n * ```typescript\n * import { env } from '@/lib/env'\n * \n * const supabaseUrl = env.NEXT_PUBLIC_SUPABASE_URL\n * const apiKey = env.ANTHROPIC_API_KEY // Can be undefined\n * ```\n */\n\nimport { z } from 'zod'\n\n// ============================================================\n// Environment Schema Definition\n// ============================================================\n\n// IMPORTANT:\n// - NEXT_PUBLIC_* vars can be read in both server + client bundles.\n// - Server-only secrets (e.g. SUPABASE_SERVICE_ROLE_KEY) must never be\n//   required/validated in the browser, otherwise production will crash.\nconst isServerRuntime = typeof window === 'undefined'\nconst isBuildTime = process.env.NEXT_PHASE === 'phase-production-build'\nconst isProdRuntime = process.env.NODE_ENV === 'production'\nconst requireServerSecrets = isServerRuntime && isProdRuntime && !isBuildTime\n\nfunction sanitizeEnvString(value: unknown) {\n  if (typeof value !== 'string') return value\n\n  let v = value.trim()\n\n  // Common deployment UI pitfall: values pasted with wrapping quotes/backticks.\n  // Remove exactly one wrapping pair to avoid breaking legitimate inner quotes.\n  const first = v[0]\n  const last = v[v.length - 1]\n  const isWrapped =\n    (first === '\"' && last === '\"') ||\n    (first === \"'\" && last === \"'\") ||\n    (first === '`' && last === '`')\n\n  if (isWrapped && v.length >= 2) {\n    v = v.slice(1, -1).trim()\n  }\n\n  return v\n}\n\nconst baseEnvSchema = z.object({\n  // Client-safe vars (may be inlined at build time by Next.js)\n  NEXT_PUBLIC_SUPABASE_URL: z.preprocess(sanitizeEnvString, z.string().url().optional()),\n  NEXT_PUBLIC_SUPABASE_ANON_KEY: z.preprocess(sanitizeEnvString, z.string().optional()),\n\n  // OPTIONAL: Review Queue Sampling\n  REVIEW_SAMPLING_PERCENTAGE: z.string().optional(),\n  REVIEW_SAMPLING_SALT: z.string().optional(),\n\n  // OPTIONAL: Feature Flags\n  NEXT_PUBLIC_FEATURE_AMY_ENABLED: z.string().optional(),\n  NEXT_PUBLIC_FEATURE_CLINICIAN_DASHBOARD_ENABLED: z.string().optional(),\n  NEXT_PUBLIC_FEATURE_CHARTS_ENABLED: z.string().optional(),\n\n  // OPTIONAL: E6.4.1 Pilot Feature Flags\n  NEXT_PUBLIC_PILOT_ENABLED: z.string().optional(),\n  NEXT_PUBLIC_PILOT_ENV: z.string().optional(),\n\n  // Node Environment\n  NODE_ENV: z.enum(['development', 'production', 'test']).optional(),\n  NEXT_PHASE: z.string().optional(),\n\n  // Hosting provider (optional)\n  VERCEL_ENV: z.string().optional(),\n\n  // OPTIONAL: Usage Telemetry Toggle\n  USAGE_TELEMETRY_ENABLED: z.string().optional(),\n})\n\nconst serverOnlyEnvSchema = baseEnvSchema.extend({\n  // OPTIONAL: Dev/Admin tooling feature flags\n  DEV_ENDPOINT_CATALOG: z.string().optional(),\n\n  // OPTIONAL: UI split routing (Package 2)\n  STUDIO_BASE_URL: z.preprocess(sanitizeEnvString, z.string().url().optional()),\n  PATIENT_BASE_URL: z.preprocess(sanitizeEnvString, z.string().url().optional()),\n  ENGINE_BASE_URL: z.preprocess(sanitizeEnvString, z.string().url().optional()),\n\n  // OPTIONAL: E6.4.1 Pilot Allowlists (server-only)\n  PILOT_ORG_ALLOWLIST: z.string().optional(),\n  PILOT_USER_ALLOWLIST: z.string().optional(),\n\n  // REQUIRED (server runtime only): Supabase Admin\n  SUPABASE_SERVICE_ROLE_KEY: requireServerSecrets\n    ? z.preprocess(\n        sanitizeEnvString,\n        z.string().min(1, 'SUPABASE_SERVICE_ROLE_KEY is required'),\n      )\n    : z.preprocess(sanitizeEnvString, z.string().optional()),\n\n  // OPTIONAL: Anthropic AI Configuration\n  ANTHROPIC_API_KEY: z.string().optional(),\n  ANTHROPIC_API_TOKEN: z.string().optional(), // Legacy support\n  ANTHROPIC_MODEL: z.string().optional(),\n\n  // OPTIONAL: Legacy/Alternative Variable Names\n  SUPABASE_URL: z.preprocess(sanitizeEnvString, z.string().url().optional()), // Alternative to NEXT_PUBLIC_SUPABASE_URL\n  SUPABASE_SERVICE_KEY: z.preprocess(sanitizeEnvString, z.string().optional()), // Alternative to SUPABASE_SERVICE_ROLE_KEY\n})\n\nconst patientEnvSchema = baseEnvSchema.extend({\n  NEXT_PUBLIC_SUPABASE_URL: z.preprocess(\n    sanitizeEnvString,\n    z.string().url('NEXT_PUBLIC_SUPABASE_URL is required'),\n  ),\n  NEXT_PUBLIC_SUPABASE_ANON_KEY: z.preprocess(\n    sanitizeEnvString,\n    z.string().min(1, 'NEXT_PUBLIC_SUPABASE_ANON_KEY is required'),\n  ),\n  ENGINE_BASE_URL: z.preprocess(sanitizeEnvString, z.string().url('ENGINE_BASE_URL is required')),\n})\n\nconst studioEnvSchema = baseEnvSchema.extend({\n  NEXT_PUBLIC_SUPABASE_URL: z.preprocess(\n    sanitizeEnvString,\n    z.string().url('NEXT_PUBLIC_SUPABASE_URL is required'),\n  ),\n  NEXT_PUBLIC_SUPABASE_ANON_KEY: z.preprocess(\n    sanitizeEnvString,\n    z.string().min(1, 'NEXT_PUBLIC_SUPABASE_ANON_KEY is required'),\n  ),\n})\n\nconst engineEnvSchema = serverOnlyEnvSchema.extend({\n  NEXT_PUBLIC_SUPABASE_URL: z.preprocess(\n    sanitizeEnvString,\n    z.string().url('NEXT_PUBLIC_SUPABASE_URL is required'),\n  ),\n  NEXT_PUBLIC_SUPABASE_ANON_KEY: z.preprocess(\n    sanitizeEnvString,\n    z.string().min(1, 'NEXT_PUBLIC_SUPABASE_ANON_KEY is required'),\n  ),\n})\n\nexport type PatientEnv = z.infer<typeof patientEnvSchema>\nexport type StudioEnv = z.infer<typeof studioEnvSchema>\nexport type BaseEnv = Partial<Env>\nexport type EngineEnv = z.infer<typeof engineEnvSchema>\n\nfunction getRawClientEnv() {\n  return {\n    NEXT_PUBLIC_SUPABASE_URL: process.env.NEXT_PUBLIC_SUPABASE_URL,\n    NEXT_PUBLIC_SUPABASE_ANON_KEY: process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,\n    REVIEW_SAMPLING_PERCENTAGE: process.env.REVIEW_SAMPLING_PERCENTAGE,\n    REVIEW_SAMPLING_SALT: process.env.REVIEW_SAMPLING_SALT,\n    NEXT_PUBLIC_FEATURE_AMY_ENABLED: process.env.NEXT_PUBLIC_FEATURE_AMY_ENABLED,\n    NEXT_PUBLIC_FEATURE_CLINICIAN_DASHBOARD_ENABLED:\n      process.env.NEXT_PUBLIC_FEATURE_CLINICIAN_DASHBOARD_ENABLED,\n    NEXT_PUBLIC_FEATURE_CHARTS_ENABLED: process.env.NEXT_PUBLIC_FEATURE_CHARTS_ENABLED,\n    NEXT_PUBLIC_PILOT_ENABLED: process.env.NEXT_PUBLIC_PILOT_ENABLED,\n    NEXT_PUBLIC_PILOT_ENV: process.env.NEXT_PUBLIC_PILOT_ENV,\n    NODE_ENV: process.env.NODE_ENV,\n    NEXT_PHASE: process.env.NEXT_PHASE,\n    VERCEL_ENV: process.env.VERCEL_ENV,\n    USAGE_TELEMETRY_ENABLED: process.env.USAGE_TELEMETRY_ENABLED,\n  }\n}\n\nfunction getRawServerEnv() {\n  return {\n    DEV_ENDPOINT_CATALOG: process.env.DEV_ENDPOINT_CATALOG,\n    STUDIO_BASE_URL: process.env.STUDIO_BASE_URL,\n    PATIENT_BASE_URL: process.env.PATIENT_BASE_URL,\n    ENGINE_BASE_URL: process.env.ENGINE_BASE_URL,\n    PILOT_ORG_ALLOWLIST: process.env.PILOT_ORG_ALLOWLIST,\n    PILOT_USER_ALLOWLIST: process.env.PILOT_USER_ALLOWLIST,\n    SUPABASE_SERVICE_ROLE_KEY: process.env.SUPABASE_SERVICE_ROLE_KEY,\n    ANTHROPIC_API_KEY: process.env.ANTHROPIC_API_KEY,\n    ANTHROPIC_API_TOKEN: process.env.ANTHROPIC_API_TOKEN,\n    ANTHROPIC_MODEL: process.env.ANTHROPIC_MODEL,\n    SUPABASE_URL: process.env.SUPABASE_URL,\n    SUPABASE_SERVICE_KEY: process.env.SUPABASE_SERVICE_KEY,\n  }\n}\n\n// ============================================================\n// Validated Environment Variables\n// ============================================================\n\n/**\n * Type of the validated environment object\n * Note: Required fields are guaranteed to be strings (never undefined)\n */\nexport type Env = {\n  NEXT_PUBLIC_SUPABASE_URL: string\n  NEXT_PUBLIC_SUPABASE_ANON_KEY: string\n  SUPABASE_SERVICE_ROLE_KEY: string\n  ANTHROPIC_API_KEY?: string\n  ANTHROPIC_API_TOKEN?: string\n  ANTHROPIC_MODEL?: string\n  REVIEW_SAMPLING_PERCENTAGE?: string\n  REVIEW_SAMPLING_SALT?: string\n  NEXT_PUBLIC_FEATURE_AMY_ENABLED?: string\n  NEXT_PUBLIC_FEATURE_CLINICIAN_DASHBOARD_ENABLED?: string\n  NEXT_PUBLIC_FEATURE_CHARTS_ENABLED?: string\n  NEXT_PUBLIC_PILOT_ENABLED?: string\n  NEXT_PUBLIC_PILOT_ENV?: string\n  PILOT_ORG_ALLOWLIST?: string\n  PILOT_USER_ALLOWLIST?: string\n  SUPABASE_URL?: string\n  SUPABASE_SERVICE_KEY?: string\n  NODE_ENV?: 'development' | 'production' | 'test'\n  NEXT_PHASE?: string\n  VERCEL_ENV?: string\n  USAGE_TELEMETRY_ENABLED?: string\n\n  // Dev/admin tooling\n  DEV_ENDPOINT_CATALOG?: string\n  STUDIO_BASE_URL?: string\n  PATIENT_BASE_URL?: string\n  ENGINE_BASE_URL?: string\n}\n\n/**\n * Get default environment values for development/build time\n */\nfunction getDefaultEnv(): Env {\n  return {\n    NEXT_PUBLIC_SUPABASE_URL: process.env.NEXT_PUBLIC_SUPABASE_URL || process.env.SUPABASE_URL || '',\n    NEXT_PUBLIC_SUPABASE_ANON_KEY: process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || '',\n    SUPABASE_SERVICE_ROLE_KEY:\n      process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_SERVICE_KEY || '',\n    ANTHROPIC_API_KEY: process.env.ANTHROPIC_API_KEY || process.env.ANTHROPIC_API_TOKEN,\n    ANTHROPIC_API_TOKEN: process.env.ANTHROPIC_API_TOKEN,\n    ANTHROPIC_MODEL: process.env.ANTHROPIC_MODEL,\n    REVIEW_SAMPLING_PERCENTAGE: process.env.REVIEW_SAMPLING_PERCENTAGE,\n    REVIEW_SAMPLING_SALT: process.env.REVIEW_SAMPLING_SALT,\n    NEXT_PUBLIC_FEATURE_AMY_ENABLED: process.env.NEXT_PUBLIC_FEATURE_AMY_ENABLED,\n    NEXT_PUBLIC_FEATURE_CLINICIAN_DASHBOARD_ENABLED: process.env.NEXT_PUBLIC_FEATURE_CLINICIAN_DASHBOARD_ENABLED,\n    NEXT_PUBLIC_FEATURE_CHARTS_ENABLED: process.env.NEXT_PUBLIC_FEATURE_CHARTS_ENABLED,\n    NEXT_PUBLIC_PILOT_ENABLED: process.env.NEXT_PUBLIC_PILOT_ENABLED,\n    NEXT_PUBLIC_PILOT_ENV: process.env.NEXT_PUBLIC_PILOT_ENV,\n    PILOT_ORG_ALLOWLIST: process.env.PILOT_ORG_ALLOWLIST,\n    PILOT_USER_ALLOWLIST: process.env.PILOT_USER_ALLOWLIST,\n    SUPABASE_URL: process.env.SUPABASE_URL,\n    SUPABASE_SERVICE_KEY: process.env.SUPABASE_SERVICE_KEY,\n    NODE_ENV: process.env.NODE_ENV as 'development' | 'production' | 'test' | undefined,\n    NEXT_PHASE: process.env.NEXT_PHASE,\n    VERCEL_ENV: process.env.VERCEL_ENV,\n    USAGE_TELEMETRY_ENABLED: process.env.USAGE_TELEMETRY_ENABLED,\n    DEV_ENDPOINT_CATALOG: process.env.DEV_ENDPOINT_CATALOG,\n    STUDIO_BASE_URL: process.env.STUDIO_BASE_URL,\n    PATIENT_BASE_URL: process.env.PATIENT_BASE_URL,\n    ENGINE_BASE_URL: process.env.ENGINE_BASE_URL,\n  }\n}\n\nfunction getMissingEnvKeys(issues: z.ZodIssue[]): string[] {\n  const keys = new Set<string>()\n  issues.forEach((issue) => {\n    const pathKey = issue.path[0]\n    if (typeof pathKey === 'string') {\n      keys.add(pathKey)\n    }\n  })\n  return Array.from(keys)\n}\n\ntype ParseOptions = {\n  strict?: boolean\n  scope?: string\n}\n\nfunction parseScopedEnv<T extends z.ZodTypeAny>(schema: T, options: ParseOptions = {}): z.infer<T> {\n  const rawEnv = isServerRuntime\n    ? { ...getRawClientEnv(), ...getRawServerEnv() }\n    : getRawClientEnv()\n\n  try {\n    const parsed = schema.parse(rawEnv) as Env\n    return {\n      NEXT_PUBLIC_SUPABASE_URL: parsed.NEXT_PUBLIC_SUPABASE_URL || parsed.SUPABASE_URL || '',\n      NEXT_PUBLIC_SUPABASE_ANON_KEY: parsed.NEXT_PUBLIC_SUPABASE_ANON_KEY || '',\n      SUPABASE_SERVICE_ROLE_KEY: parsed.SUPABASE_SERVICE_ROLE_KEY || parsed.SUPABASE_SERVICE_KEY || '',\n      ANTHROPIC_API_KEY: parsed.ANTHROPIC_API_KEY || parsed.ANTHROPIC_API_TOKEN,\n      ANTHROPIC_API_TOKEN: parsed.ANTHROPIC_API_TOKEN,\n      ANTHROPIC_MODEL: parsed.ANTHROPIC_MODEL,\n      REVIEW_SAMPLING_PERCENTAGE: parsed.REVIEW_SAMPLING_PERCENTAGE,\n      REVIEW_SAMPLING_SALT: parsed.REVIEW_SAMPLING_SALT,\n      NEXT_PUBLIC_FEATURE_AMY_ENABLED: parsed.NEXT_PUBLIC_FEATURE_AMY_ENABLED,\n      NEXT_PUBLIC_FEATURE_CLINICIAN_DASHBOARD_ENABLED:\n        parsed.NEXT_PUBLIC_FEATURE_CLINICIAN_DASHBOARD_ENABLED,\n      NEXT_PUBLIC_FEATURE_CHARTS_ENABLED: parsed.NEXT_PUBLIC_FEATURE_CHARTS_ENABLED,\n      NEXT_PUBLIC_PILOT_ENABLED: parsed.NEXT_PUBLIC_PILOT_ENABLED,\n      NEXT_PUBLIC_PILOT_ENV: parsed.NEXT_PUBLIC_PILOT_ENV,\n      PILOT_ORG_ALLOWLIST: parsed.PILOT_ORG_ALLOWLIST,\n      PILOT_USER_ALLOWLIST: parsed.PILOT_USER_ALLOWLIST,\n      SUPABASE_URL: parsed.SUPABASE_URL,\n      SUPABASE_SERVICE_KEY: parsed.SUPABASE_SERVICE_KEY,\n      NODE_ENV: parsed.NODE_ENV,\n      NEXT_PHASE: parsed.NEXT_PHASE,\n      VERCEL_ENV: parsed.VERCEL_ENV,\n      USAGE_TELEMETRY_ENABLED: parsed.USAGE_TELEMETRY_ENABLED,\n      DEV_ENDPOINT_CATALOG: parsed.DEV_ENDPOINT_CATALOG,\n      STUDIO_BASE_URL: parsed.STUDIO_BASE_URL,\n      PATIENT_BASE_URL: parsed.PATIENT_BASE_URL,\n      ENGINE_BASE_URL: parsed.ENGINE_BASE_URL,\n    } as z.infer<T>\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      const missingKeys = getMissingEnvKeys(error.issues)\n      const message = missingKeys.length\n        ? `Missing env: ${missingKeys.join(', ')}`\n        : 'Invalid environment variables'\n\n      console.error('‚ùå Environment variable validation failed:')\n      console.error(error.issues.map((e) => `  - ${e.path.join('.')}: ${e.message}`).join('\\n'))\n\n      // During build, allow with defaults\n      if (isBuildTime) {\n        console.warn('‚ö†Ô∏è  Build time: Continuing with default values')\n        return getDefaultEnv() as z.infer<T>\n      }\n\n      if (options.strict && isServerRuntime) {\n        throw new Error(message)\n      }\n\n      // In development or non-strict mode, warn but allow build to continue with default values\n      console.warn(\n        `‚ö†Ô∏è  Continuing with default values for ${options.scope ?? 'base'} environment`,\n      )\n      return getDefaultEnv() as z.infer<T>\n    }\n    throw error\n  }\n}\n\n/**\n * Parse and validate environment variables\n * This will not throw in base mode to avoid import-time crashes\n */\nfunction parseEnv(): BaseEnv {\n  const schema = isServerRuntime ? serverOnlyEnvSchema : baseEnvSchema\n  return parseScopedEnv(schema, { strict: false, scope: 'base' }) as BaseEnv\n}\n\n/**\n * Validated and type-safe environment variables\n * Access all environment variables through this object\n */\nlet cachedEnv: BaseEnv | null = null\n\nexport function getEnv(): BaseEnv {\n  if (!cachedEnv) {\n    cachedEnv = parseEnv()\n  }\n  return cachedEnv\n}\n\nexport function getPatientEnv(): PatientEnv {\n  return parseScopedEnv(patientEnvSchema, { strict: true, scope: 'patient' })\n}\n\nexport function getStudioEnv(): StudioEnv {\n  return parseScopedEnv(studioEnvSchema, { strict: true, scope: 'studio' })\n}\n\nexport function getEngineEnv(): EngineEnv {\n  return parseScopedEnv(engineEnvSchema, { strict: true, scope: 'engine' })\n}\n\nexport const env = new Proxy({} as BaseEnv, {\n  get(_target, prop) {\n    return getEnv()[prop as keyof Env]\n  },\n  set(_target, prop, value) {\n    const current = getEnv()\n    ;(current as Record<string, unknown>)[prop as string] = value\n    return true\n  },\n})\n\n/**\n * Server-runtime feature flags.\n *\n * Note: Jest runs API route unit tests in a jsdom environment (window defined),\n * but API routes are still server code. Do NOT rely on `env` for server-only\n * flags in those tests.\n */\nexport function isDevEndpointCatalogEnabled(): boolean {\n  return process.env.DEV_ENDPOINT_CATALOG === '1'\n}\n\n/**\n * Helper function to check if we're in production\n */\nexport function isProduction(): boolean {\n  return env.NODE_ENV === 'production'\n}\n\n/**\n * Helper function to check if we're in development\n */\nexport function isDevelopment(): boolean {\n  return env.NODE_ENV === 'development' || !env.NODE_ENV\n}\n\n/**\n * Helper function to check if we're in test mode\n */\nexport function isTest(): boolean {\n  return env.NODE_ENV === 'test'\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/db/supabase.public.ts"],"sourcesContent":["/**\n * Public Supabase Client (Browser-Safe)\n * \n * This client is safe for use in browser bundles.\n * - Uses anon key only (no secrets)\n * - RLS policies are ACTIVE\n * - Suitable for client components and public data\n * \n * @module lib/db/supabase.public\n */\n\nimport { createClient } from '@supabase/supabase-js'\nimport { env } from '@/lib/env'\nimport type { Database } from '@/lib/types/supabase'\n\n/**\n * Creates a public Supabase client for browser use\n * \n * This client:\n * - Uses NEXT_PUBLIC_SUPABASE_ANON_KEY (safe for client bundles)\n * - Enforces RLS policies\n * - Should be used sparingly in favor of server-side data fetching\n * \n * @returns Supabase client instance\n * @throws Error if Supabase URL or anon key is not configured\n * \n * @example\n * ```typescript\n * import { createPublicClient } from '@/lib/db/supabase.public'\n * \n * const supabase = createPublicClient()\n * const { data } = await supabase.from('public_table').select('*')\n * ```\n */\nexport function createPublicClient() {\n  const url = env.NEXT_PUBLIC_SUPABASE_URL\n  const anonKey = env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n\n  if (!url || !anonKey) {\n    throw new Error('Missing env: NEXT_PUBLIC_SUPABASE_URL, NEXT_PUBLIC_SUPABASE_ANON_KEY')\n  }\n\n  return createClient<Database>(url, anonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n    },\n  })\n}\n\n/**\n * Singleton public client instance (lazy-initialized)\n * \n * Use this for client-side operations where you don't need a fresh instance.\n * For most use cases, prefer server-side data fetching with createServerSupabaseClient.\n * \n * Lazy initialization ensures tests can mock before client creation.\n */\nlet _supabasePublic: ReturnType<typeof createPublicClient> | null = null\n\nexport function getSupabasePublic() {\n  if (!_supabasePublic) {\n    _supabasePublic = createPublicClient()\n  }\n  return _supabasePublic\n}\n\n/**\n * @deprecated Use getSupabasePublic() instead for lazy initialization\n * This is kept for backward compatibility but will be removed in future versions\n */\nexport const supabasePublic = new Proxy({} as ReturnType<typeof createPublicClient>, {\n  get(target, prop) {\n    return getSupabasePublic()[prop as keyof ReturnType<typeof createPublicClient>]\n  }\n})\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;;;;;;CASC,GAED;AACA;;;AAsBO,SAAS;IACd,MAAM,MAAM,iHAAG,CAAC,wBAAwB;IACxC,MAAM,UAAU,iHAAG,CAAC,6BAA6B;IAEjD,IAAI,CAAC,OAAO,CAAC,SAAS;QACpB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,IAAA,8LAAY,EAAW,KAAK,SAAS;QAC1C,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;QACtB;IACF;AACF;AAEA;;;;;;;CAOC,GACD,IAAI,kBAAgE;AAE7D,SAAS;IACd,IAAI,CAAC,iBAAiB;QACpB,kBAAkB;IACpB;IACA,OAAO;AACT;AAMO,MAAM,iBAAiB,IAAI,MAAM,CAAC,GAA4C;IACnF,KAAI,MAAM,EAAE,IAAI;QACd,OAAO,mBAAmB,CAAC,KAAoD;IACjF;AACF"}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/supabaseClient.ts"],"sourcesContent":["/**\n * Legacy Supabase Public Client Helper\n * \n * This file is maintained for backward compatibility.\n * New code should import directly from @/lib/db/supabase.public\n * \n * @deprecated Use @/lib/db/supabase.public instead\n */\n\n// Re-export canonical public client\nexport { supabasePublic as supabase, createPublicClient } from '@/lib/db/supabase.public'\n"],"names":[],"mappings":";AAAA;;;;;;;CAOC,GAED,oCAAoC;AACpC"}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/utils/roleBasedRouting.ts"],"sourcesContent":["import type { User } from '@supabase/supabase-js'\n\n/**\n * User roles in the application\n */\nexport type UserRole = 'patient' | 'clinician' | 'admin' | 'nurse'\n\n/**\n * Navigation item for role-based menus\n */\nexport interface RoleNavItem {\n  href: string\n  label: string\n  icon?: React.ReactNode\n  active?: boolean\n}\n\n/**\n * Get the user's role from their metadata\n */\nexport function getUserRole(user: User | null): UserRole | null {\n  if (!user) return null\n  const role = user.app_metadata?.role || user.user_metadata?.role\n  return role as UserRole | null\n}\n\n/**\n * Check if a user has a specific role\n */\nexport function hasRole(user: User | null, requiredRole: UserRole): boolean {\n  const role = getUserRole(user)\n  return role === requiredRole\n}\n\n/**\n * Check if a user has any of the specified roles\n */\nexport function hasAnyRole(user: User | null, requiredRoles: UserRole[]): boolean {\n  const role = getUserRole(user)\n  return role ? requiredRoles.includes(role) : false\n}\n\n/**\n * Get the default landing page for a user based on their role\n */\nexport function getRoleLandingPage(user: User | null): string {\n  const role = getUserRole(user)\n  \n  switch (role) {\n    case 'clinician':\n      return '/clinician'\n    case 'admin':\n      // Admins share the same dashboard as clinicians\n      return '/clinician'\n    case 'nurse':\n      // Nurses share the same dashboard as clinicians\n      return '/clinician'\n    case 'patient':\n      return '/patient'\n    default:\n      return '/patient'\n  }\n}\n\n/**\n * Get navigation items for clinician/admin role\n * \n * Returns user-friendly navigation with clear, non-technical labels.\n * Navigation order reflects typical workflow: overview -> triage -> assessments -> content.\n */\nexport function getClinicianNavItems(pathname: string): RoleNavItem[] {\n  return [\n    {\n      href: '/clinician',\n      label: '√úbersicht',\n      active: pathname === '/clinician',\n    },\n    {\n      href: '/clinician/triage',\n      label: 'Triage',\n      active: pathname?.startsWith('/clinician/triage') ?? false,\n    },\n    {\n      href: '/clinician/pre-screening',\n      label: 'Pre-Screening',\n      active: pathname?.startsWith('/clinician/pre-screening') ?? false,\n    },\n    {\n      href: '/clinician/shipments',\n      label: 'Ger√§teversand',\n      active: pathname?.startsWith('/clinician/shipments') ?? false,\n    },\n    {\n      href: '/clinician/funnels',\n      label: 'Frageb√∂gen',\n      active: pathname?.startsWith('/clinician/funnels') ?? false,\n    },\n    {\n      href: '/admin/content',\n      label: 'Inhalte',\n      active: pathname?.startsWith('/admin/content') ?? false,\n    },\n  ]\n}\n\n/**\n * Get navigation items for admin role\n * \n * Admins get additional navigation items including design system access.\n */\nexport function getAdminNavItems(pathname: string): RoleNavItem[] {\n  return [\n    {\n      href: '/clinician',\n      label: '√úbersicht',\n      active: pathname === '/clinician',\n    },\n    {\n      href: '/clinician/triage',\n      label: 'Triage',\n      active: pathname?.startsWith('/clinician/triage') ?? false,\n    },\n    {\n      href: '/clinician/pre-screening',\n      label: 'Pre-Screening',\n      active: pathname?.startsWith('/clinician/pre-screening') ?? false,\n    },\n    {\n      href: '/clinician/shipments',\n      label: 'Ger√§teversand',\n      active: pathname?.startsWith('/clinician/shipments') ?? false,\n    },\n    {\n      href: '/clinician/funnels',\n      label: 'Frageb√∂gen',\n      active: pathname?.startsWith('/clinician/funnels') ?? false,\n    },\n    {\n      href: '/admin/content',\n      label: 'Inhalte',\n      active: pathname?.startsWith('/admin/content') ?? false,\n    },\n    {\n      href: '/admin/dev/endpoints',\n      label: 'Endpoints',\n      active: pathname?.startsWith('/admin/dev/endpoints') ?? false,\n    },\n  ]\n}\n\n/**\n * Get navigation items for patient role\n * \n * Patient-facing navigation with clear, friendly labels in German.\n * Simple two-item navigation: start assessment -> view history.\n */\nexport function getPatientNavItems(pathname: string): RoleNavItem[] {\n  return [\n    {\n      href: '/patient/funnels',\n      label: 'Fragebogen starten',\n      active:\n        pathname?.startsWith('/patient/assessment') || \n        pathname?.startsWith('/patient/funnel/') || \n        false,\n    },\n    {\n      href: '/patient/history',\n      label: 'Mein Verlauf',\n      active: pathname === '/patient/history',\n    },\n  ]\n}\n\n/**\n * Get navigation items for nurse role\n * \n * Nurse navigation shares clinician dashboard access but with nurse-specific label.\n * Nurses can view patient assessments and manage their workflow.\n */\nexport function getNurseNavItems(pathname: string): RoleNavItem[] {\n  return [\n    {\n      href: '/clinician',\n      label: '√úbersicht',\n      active: pathname === '/clinician',\n    },\n    {\n      href: '/clinician/triage',\n      label: 'Triage',\n      active: pathname?.startsWith('/clinician/triage') ?? false,\n    },\n    {\n      href: '/clinician/shipments',\n      label: 'Ger√§teversand',\n      active: pathname?.startsWith('/clinician/shipments') ?? false,\n    },\n    {\n      href: '/clinician/funnels',\n      label: 'Frageb√∂gen',\n      active: pathname?.startsWith('/clinician/funnels') ?? false,\n    },\n  ]\n}\n\n/**\n * Get navigation items based on user role\n * \n * Automatically returns the appropriate navigation items for the user's role.\n * This is the recommended way to get navigation items in layouts.\n * \n * Fail-closed: Returns empty array if role cannot be determined or user is not authenticated.\n */\nexport function getNavItemsForRole(user: User | null, pathname: string): RoleNavItem[] {\n  // Fail-closed: unauthenticated users get no navigation\n  if (!user) {\n    return []\n  }\n  \n  const role = getUserRole(user)\n  \n  switch (role) {\n    case 'admin':\n      return getAdminNavItems(pathname)\n    case 'clinician':\n      return getClinicianNavItems(pathname)\n    case 'nurse':\n      return getNurseNavItems(pathname)\n    case 'patient':\n      return getPatientNavItems(pathname)\n    default:\n      // Fail-closed: unknown roles get no privileged navigation\n      return []\n  }\n}\n\n/**\n * Get role display name in German\n */\nexport function getRoleDisplayName(role: UserRole | null): string {\n  switch (role) {\n    case 'clinician':\n      return 'Clinician'\n    case 'admin':\n      return 'Administrator'\n    case 'nurse':\n      return 'Nurse'\n    case 'patient':\n      return 'Patient'\n    default:\n      return 'Benutzer'\n  }\n}\n\n/**\n * Check if a route is accessible for a given role\n */\nexport function canAccessRoute(user: User | null, route: string): boolean {\n  const role = getUserRole(user)\n  \n  // Public routes (login, datenschutz, etc.)\n  if (route === '/' || route.startsWith('/datenschutz')) {\n    return true\n  }\n  \n  // Patient routes\n  if (route.startsWith('/patient')) {\n    return role === 'patient' || role === 'clinician' || role === 'admin' || role === 'nurse'\n  }\n  \n  // Clinician routes\n  if (route.startsWith('/clinician')) {\n    return role === 'clinician' || role === 'admin' || role === 'nurse'\n  }\n  \n  // Admin routes (clinicians also have access)\n  if (route.startsWith('/admin')) {\n    return role === 'clinician' || role === 'admin'\n  }\n  \n  return false\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 644, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/app/components/PatientNavigation.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport type { RoleNavItem } from '@/lib/utils/roleBasedRouting'\n\ninterface PatientNavigationProps {\n  navItems: RoleNavItem[]\n  variant?: 'desktop' | 'mobile'\n}\n\n/**\n * PatientNavigation Component\n * \n * Reusable navigation component for patient layout that supports both\n * desktop and mobile variants with v0.4 design system styling.\n * \n * @example\n * // Desktop header navigation\n * <PatientNavigation navItems={navItems} variant=\"desktop\" />\n * \n * // Mobile bottom tabs\n * <PatientNavigation navItems={navItems} variant=\"mobile\" />\n */\nexport function PatientNavigation({ navItems, variant = 'desktop' }: PatientNavigationProps) {\n  if (variant === 'mobile') {\n    return (\n      <nav \n        className=\"md:hidden fixed inset-x-0 bottom-0 z-40 bg-white/95 dark:bg-slate-800/95 backdrop-blur border-t border-slate-200 dark:border-slate-700 px-4 py-2.5 flex items-center justify-around transition-colors duration-150\"\n        style={{\n          boxShadow: '0 -2px 10px rgba(0, 0, 0, 0.1)',\n          paddingBottom: 'calc(0.625rem + env(safe-area-inset-bottom, 0px))',\n        }}\n      >\n        {navItems.map((item) => {\n          // Determine icon based on route\n          const icon = item.href.includes('assessment') || item.href.includes('funnel') ? 'üìù' : 'üìä'\n          \n          return (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={`flex flex-col items-center text-xs font-semibold transition-colors ${\n                item.active \n                  ? 'text-sky-700 dark:text-sky-400' \n                  : 'text-slate-600 dark:text-slate-400'\n              }`}\n            >\n              <span className=\"text-lg\">{icon}</span>\n              {item.label}\n            </Link>\n          )\n        })}\n      </nav>\n    )\n  }\n\n  // Desktop variant\n  return (\n    <nav className=\"flex gap-2\">\n      {navItems.map((item) => (\n        <Link\n          key={item.href}\n          href={item.href}\n          className={`px-3 py-1.5 text-xs font-medium rounded-md transition-colors duration-200 ${\n            item.active \n              ? 'bg-sky-100 dark:bg-sky-900/30 text-sky-700 dark:text-sky-400' \n              : 'text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700'\n          }`}\n        >\n          {item.label}\n        </Link>\n      ))}\n    </nav>\n  )\n}\n\nexport default PatientNavigation\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAuBO,SAAS,kBAAkB,EAAE,QAAQ,EAAE,UAAU,SAAS,EAA0B;IACzF,IAAI,YAAY,UAAU;QACxB,qBACE,8OAAC;YACC,WAAU;YACV,OAAO;gBACL,WAAW;gBACX,eAAe;YACjB;sBAEC,SAAS,GAAG,CAAC,CAAC;gBACb,gCAAgC;gBAChC,MAAM,OAAO,KAAK,IAAI,CAAC,QAAQ,CAAC,iBAAiB,KAAK,IAAI,CAAC,QAAQ,CAAC,YAAY,OAAO;gBAEvF,qBACE,8OAAC,uKAAI;oBAEH,MAAM,KAAK,IAAI;oBACf,WAAW,CAAC,mEAAmE,EAC7E,KAAK,MAAM,GACP,mCACA,sCACJ;;sCAEF,8OAAC;4BAAK,WAAU;sCAAW;;;;;;wBAC1B,KAAK,KAAK;;mBATN,KAAK,IAAI;;;;;YAYpB;;;;;;IAGN;IAEA,kBAAkB;IAClB,qBACE,8OAAC;QAAI,WAAU;kBACZ,SAAS,GAAG,CAAC,CAAC,qBACb,8OAAC,uKAAI;gBAEH,MAAM,KAAK,IAAI;gBACf,WAAW,CAAC,0EAA0E,EACpF,KAAK,MAAM,GACP,iEACA,iFACJ;0BAED,KAAK,KAAK;eARN,KAAK,IAAI;;;;;;;;;;AAaxB;uCAEe"}},
    {"offset": {"line": 715, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/Alert.tsx"],"sourcesContent":["/**\n * Alert Component\n * \n * A notification component for displaying important messages to users.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Multiple variants for different message types (info, success, warning, error)\n * - Optional title and description\n * - Optional dismiss button\n * - Uses semantic design tokens for consistent styling\n * - Accessible with proper ARIA attributes\n * \n * @example\n * // Info alert\n * <Alert variant=\"info\" title=\"New Feature\">\n *   Check out our new assessment features!\n * </Alert>\n * \n * @example\n * // Warning with dismiss\n * <Alert variant=\"warning\" dismissible onDismiss={handleDismiss}>\n *   Your session will expire soon.\n * </Alert>\n */\n\nimport { type ReactNode, useState } from 'react'\nimport { X, Info, CheckCircle, AlertTriangle, AlertCircle } from 'lucide-react'\n\nexport type AlertVariant = 'info' | 'success' | 'warning' | 'error'\n\nexport interface AlertProps {\n  /**\n   * The visual style variant\n   * @default 'info'\n   */\n  variant?: AlertVariant\n  \n  /**\n   * Optional title/heading for the alert\n   */\n  title?: string\n  \n  /**\n   * Alert content/message\n   */\n  children: ReactNode\n  \n  /**\n   * Whether the alert can be dismissed\n   * @default false\n   */\n  dismissible?: boolean\n  \n  /**\n   * Callback when alert is dismissed\n   */\n  onDismiss?: () => void\n  \n  /**\n   * Additional CSS classes\n   */\n  className?: string\n}\n\n/**\n * Alert component for displaying contextual messages\n */\nexport function Alert({\n  variant = 'info',\n  title,\n  children,\n  dismissible = false,\n  onDismiss,\n  className = '',\n}: AlertProps) {\n  const [isVisible, setIsVisible] = useState(true)\n\n  const handleDismiss = () => {\n    setIsVisible(false)\n    onDismiss?.()\n  }\n\n  if (!isVisible) {\n    return null\n  }\n\n  // Variant configurations\n  const variantConfig = {\n    info: {\n      container: 'bg-sky-50 dark:bg-sky-900/20 border-sky-200 dark:border-sky-800',\n      title: 'text-sky-900 dark:text-sky-100',\n      text: 'text-sky-800 dark:text-sky-200',\n      icon: Info,\n      iconColor: 'text-sky-600 dark:text-sky-400',\n    },\n    success: {\n      container: 'bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800',\n      title: 'text-emerald-900 dark:text-emerald-100',\n      text: 'text-emerald-800 dark:text-emerald-200',\n      icon: CheckCircle,\n      iconColor: 'text-emerald-600 dark:text-emerald-400',\n    },\n    warning: {\n      container: 'bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800',\n      title: 'text-amber-900 dark:text-amber-100',\n      text: 'text-amber-800 dark:text-amber-200',\n      icon: AlertTriangle,\n      iconColor: 'text-amber-600 dark:text-amber-400',\n    },\n    error: {\n      container: 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800',\n      title: 'text-red-900 dark:text-red-100',\n      text: 'text-red-800 dark:text-red-200',\n      icon: AlertCircle,\n      iconColor: 'text-red-600 dark:text-red-400',\n    },\n  }\n\n  const config = variantConfig[variant]\n  const Icon = config.icon\n\n  return (\n    <div\n      className={`\n        relative flex gap-3 p-4 border rounded-lg\n        ${config.container}\n        ${className}\n      `}\n      role=\"alert\"\n      aria-live=\"polite\"\n    >\n      {/* Icon */}\n      <div className=\"flex-shrink-0\">\n        <Icon className={`w-5 h-5 ${config.iconColor}`} aria-hidden=\"true\" />\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0\">\n        {title && (\n          <h3 className={`text-sm font-semibold mb-1 ${config.title}`}>\n            {title}\n          </h3>\n        )}\n        <div className={`text-sm ${config.text}`}>\n          {children}\n        </div>\n      </div>\n\n      {/* Dismiss button */}\n      {dismissible && (\n        <button\n          type=\"button\"\n          onClick={handleDismiss}\n          className={`\n            flex-shrink-0 inline-flex rounded-md p-1.5\n            hover:bg-black/5 dark:hover:bg-white/10\n            focus:outline-none focus:ring-2 focus:ring-offset-2\n            focus:ring-${variant === 'info' ? 'sky' : variant === 'success' ? 'emerald' : variant === 'warning' ? 'amber' : 'red'}-500\n            transition-colors duration-200\n            ${config.text}\n          `}\n          aria-label=\"Dismiss alert\"\n        >\n          <X className=\"w-5 h-5\" aria-hidden=\"true\" />\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport default Alert\n"],"names":[],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;CAwBC,GAED;AACA;AAAA;AAAA;AAAA;AAAA;;;;AAyCO,SAAS,MAAM,EACpB,UAAU,MAAM,EAChB,KAAK,EACL,QAAQ,EACR,cAAc,KAAK,EACnB,SAAS,EACT,YAAY,EAAE,EACH;IACX,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,gBAAgB;QACpB,aAAa;QACb;IACF;IAEA,IAAI,CAAC,WAAW;QACd,OAAO;IACT;IAEA,yBAAyB;IACzB,MAAM,gBAAgB;QACpB,MAAM;YACJ,WAAW;YACX,OAAO;YACP,MAAM;YACN,MAAM,0MAAI;YACV,WAAW;QACb;QACA,SAAS;YACP,WAAW;YACX,OAAO;YACP,MAAM;YACN,MAAM,0OAAW;YACjB,WAAW;QACb;QACA,SAAS;YACP,WAAW;YACX,OAAO;YACP,MAAM;YACN,MAAM,yOAAa;YACnB,WAAW;QACb;QACA,OAAO;YACL,WAAW;YACX,OAAO;YACP,MAAM;YACN,MAAM,mOAAW;YACjB,WAAW;QACb;IACF;IAEA,MAAM,SAAS,aAAa,CAAC,QAAQ;IACrC,MAAM,OAAO,OAAO,IAAI;IAExB,qBACE,8OAAC;QACC,WAAW,CAAC;;QAEV,EAAE,OAAO,SAAS,CAAC;QACnB,EAAE,UAAU;MACd,CAAC;QACD,MAAK;QACL,aAAU;;0BAGV,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,WAAW,CAAC,QAAQ,EAAE,OAAO,SAAS,EAAE;oBAAE,eAAY;;;;;;;;;;;0BAI9D,8OAAC;gBAAI,WAAU;;oBACZ,uBACC,8OAAC;wBAAG,WAAW,CAAC,2BAA2B,EAAE,OAAO,KAAK,EAAE;kCACxD;;;;;;kCAGL,8OAAC;wBAAI,WAAW,CAAC,QAAQ,EAAE,OAAO,IAAI,EAAE;kCACrC;;;;;;;;;;;;YAKJ,6BACC,8OAAC;gBACC,MAAK;gBACL,SAAS;gBACT,WAAW,CAAC;;;;uBAIC,EAAE,YAAY,SAAS,QAAQ,YAAY,YAAY,YAAY,YAAY,YAAY,UAAU,MAAM;;YAEtH,EAAE,OAAO,IAAI,CAAC;UAChB,CAAC;gBACD,cAAW;0BAEX,cAAA,8OAAC,iMAAC;oBAAC,WAAU;oBAAU,eAAY;;;;;;;;;;;;;;;;;AAK7C;uCAEe"}},
    {"offset": {"line": 883, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/Badge.tsx"],"sourcesContent":["/**\n * Badge Component\n * \n * A small, colored label component for displaying status, categories, or tags.\n * Supports multiple variants with semantic colors from the v0.4 design system.\n * \n * @example\n * ```tsx\n * <Badge variant=\"success\">Active</Badge>\n * <Badge variant=\"warning\">Pending</Badge>\n * <Badge variant=\"danger\">High Risk</Badge>\n * ```\n */\n\nimport type { ReactNode } from 'react'\n\nexport type BadgeVariant = 'default' | 'success' | 'warning' | 'danger' | 'info' | 'secondary'\nexport type BadgeSize = 'sm' | 'md'\n\nexport interface BadgeProps {\n  /**\n   * The visual style variant of the badge\n   * @default 'default'\n   */\n  variant?: BadgeVariant\n  \n  /**\n   * The size of the badge\n   * @default 'md'\n   */\n  size?: BadgeSize\n  \n  /**\n   * Badge content\n   */\n  children: ReactNode\n  \n  /**\n   * Additional CSS class names\n   */\n  className?: string\n}\n\n/**\n * Badge component for displaying status, tags, or categories\n */\nexport function Badge({ \n  variant = 'default', \n  size = 'md',\n  children, \n  className = '' \n}: BadgeProps) {\n  // Variant styles\n  const variantStyles: Record<BadgeVariant, string> = {\n    default: 'bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-600',\n    success: 'bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-400 border-emerald-200 dark:border-emerald-700',\n    warning: 'bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-400 border-amber-200 dark:border-amber-700',\n    danger: 'bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 border-red-200 dark:border-red-700',\n    info: 'bg-sky-100 dark:bg-sky-900/30 text-sky-800 dark:text-sky-400 border-sky-200 dark:border-sky-700',\n    secondary: 'bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-400 border-slate-200 dark:border-slate-700',\n  }\n\n  // Size styles\n  const sizeStyles: Record<BadgeSize, string> = {\n    sm: 'px-2 py-0.5 text-xs',\n    md: 'px-3 py-1 text-sm',\n  }\n\n  const variantClass = variantStyles[variant]\n  const sizeClass = sizeStyles[size]\n\n  return (\n    <span\n      className={`\n        inline-flex items-center justify-center\n        rounded-full border font-medium\n        whitespace-nowrap\n        ${variantClass}\n        ${sizeClass}\n        ${className}\n      `}\n    >\n      {children}\n    </span>\n  )\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;CAYC;;;;;;AAkCM,SAAS,MAAM,EACpB,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,QAAQ,EACR,YAAY,EAAE,EACH;IACX,iBAAiB;IACjB,MAAM,gBAA8C;QAClD,SAAS;QACT,SAAS;QACT,SAAS;QACT,QAAQ;QACR,MAAM;QACN,WAAW;IACb;IAEA,cAAc;IACd,MAAM,aAAwC;QAC5C,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,eAAe,aAAa,CAAC,QAAQ;IAC3C,MAAM,YAAY,UAAU,CAAC,KAAK;IAElC,qBACE,8OAAC;QACC,WAAW,CAAC;;;;QAIV,EAAE,aAAa;QACf,EAAE,UAAU;QACZ,EAAE,UAAU;MACd,CAAC;kBAEA;;;;;;AAGP"}},
    {"offset": {"line": 938, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/Button.tsx"],"sourcesContent":["import { forwardRef, type ButtonHTMLAttributes, type ReactNode } from 'react'\nimport { componentTokens } from '@/lib/design-tokens'\n\nexport type ButtonVariant = 'primary' | 'secondary' | 'outline' | 'ghost' | 'destructive' | 'danger'\nexport type ButtonSize = 'sm' | 'md' | 'lg'\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  /** Visual style variant */\n  variant?: ButtonVariant\n  /** Size preset */\n  size?: ButtonSize\n  /** Whether button should take full width */\n  fullWidth?: boolean\n  /** Optional icon to display before label */\n  icon?: ReactNode\n  /** Whether button is in loading state */\n  loading?: boolean\n  /** Children content */\n  children: ReactNode\n}\n\n/**\n * Button Component\n * \n * A versatile, accessible button component with multiple variants and sizes.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Multiple variants: primary, secondary, outline, ghost, destructive\n * - Three sizes: sm, md, lg\n * - Loading state with disabled interaction\n * - Optional icon support\n * - Touch-optimized with minimum 44px height\n * - Smooth animations using design tokens\n * - Fully accessible with proper ARIA attributes\n * \n * @example\n * // Primary button\n * <Button variant=\"primary\" onClick={handleClick}>\n *   Save Changes\n * </Button>\n * \n * @example\n * // Button with icon\n * <Button variant=\"secondary\" icon={<PlusIcon />}>\n *   Add New\n * </Button>\n * \n * @example\n * // Loading state\n * <Button variant=\"primary\" loading disabled>\n *   Processing...\n * </Button>\n */\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      variant = 'primary',\n      size = 'md',\n      fullWidth = false,\n      icon,\n      loading = false,\n      disabled = false,\n      className = '',\n      children,\n      type = 'button',\n      onClick,\n      onMouseDown,\n      onMouseUp,\n      onTouchStart,\n      onTouchEnd,\n      onKeyDown,\n      onKeyUp,\n      onFocus,\n      onBlur,\n      ...otherProps\n    },\n    ref\n  ) => {\n    // Size configurations\n    const sizeConfig = {\n      sm: {\n        padding: '0.5rem 1rem',\n        fontSize: '0.875rem',\n        minHeight: '36px',\n      },\n      md: {\n        padding: '0.625rem 1.5rem',\n        fontSize: '1rem',\n        minHeight: componentTokens.navigationButton.minHeight,\n      },\n      lg: {\n        padding: '0.875rem 2rem',\n        fontSize: '1.125rem',\n        minHeight: '56px',\n      },\n    }\n\n    // Variant styles\n    const variantStyles = {\n      primary: `\n        bg-sky-600 dark:bg-sky-500 text-white \n        hover:bg-sky-700 dark:hover:bg-sky-600\n        active:bg-sky-800 dark:active:bg-sky-700\n        disabled:bg-slate-300 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400\n        shadow-md hover:shadow-lg\n      `,\n      secondary: `\n        bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100\n        hover:bg-slate-200 dark:hover:bg-slate-600\n        active:bg-slate-300 dark:active:bg-slate-500\n        disabled:bg-slate-50 dark:disabled:bg-slate-800 disabled:text-slate-400 dark:disabled:text-slate-600\n        border-2 border-slate-200 dark:border-slate-600\n      `,\n      outline: `\n        bg-transparent text-sky-600 dark:text-sky-400\n        border-2 border-sky-600 dark:border-sky-500\n        hover:bg-sky-50 dark:hover:bg-sky-900/30\n        active:bg-sky-100 dark:active:bg-sky-900/50\n        disabled:border-slate-300 dark:disabled:border-slate-600 disabled:text-slate-400 dark:disabled:text-slate-500\n      `,\n      ghost: `\n        bg-transparent text-slate-700 dark:text-slate-300\n        hover:bg-slate-100 dark:hover:bg-slate-700\n        active:bg-slate-200 dark:active:bg-slate-600\n        disabled:text-slate-400 dark:disabled:text-slate-500\n      `,\n      destructive: `\n        bg-red-600 dark:bg-red-500 text-white\n        hover:bg-red-700 dark:hover:bg-red-600\n        active:bg-red-800 dark:active:bg-red-700\n        disabled:bg-slate-300 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400\n        shadow-md hover:shadow-lg\n      `,\n      // Deprecated: Use 'destructive' instead\n      danger: `\n        bg-red-600 dark:bg-red-500 text-white\n        hover:bg-red-700 dark:hover:bg-red-600\n        active:bg-red-800 dark:active:bg-red-700\n        disabled:bg-slate-300 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400\n        shadow-md hover:shadow-lg\n      `,\n    }\n\n    const config = sizeConfig[size]\n    const variantClass = variantStyles[variant]\n\n    const baseStyles = `\n      inline-flex items-center justify-center gap-2\n      font-semibold rounded-xl\n      transition-all duration-200\n      focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2\n      disabled:cursor-not-allowed disabled:opacity-60\n      active:scale-[0.98]\n      touch-manipulation\n      ${fullWidth ? 'w-full' : ''}\n      ${variantClass}\n      ${className}\n    `\n\n    return (\n      <button\n        ref={ref}\n        type={type}\n        disabled={disabled || loading}\n        className={baseStyles}\n        style={{\n          padding: config.padding,\n          fontSize: config.fontSize,\n          minHeight: config.minHeight,\n        }}\n        onClick={onClick}\n        onMouseDown={onMouseDown}\n        onMouseUp={onMouseUp}\n        onTouchStart={onTouchStart}\n        onTouchEnd={onTouchEnd}\n        onKeyDown={onKeyDown}\n        onKeyUp={onKeyUp}\n        onFocus={onFocus}\n        onBlur={onBlur}\n        aria-busy={loading}\n        {...otherProps}\n      >\n        {loading && (\n          <svg\n            className=\"animate-spin h-4 w-4\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            aria-hidden=\"true\"\n          >\n            <circle\n              className=\"opacity-25\"\n              cx=\"12\"\n              cy=\"12\"\n              r=\"10\"\n              stroke=\"currentColor\"\n              strokeWidth=\"4\"\n            />\n            <path\n              className=\"opacity-75\"\n              fill=\"currentColor\"\n              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            />\n          </svg>\n        )}\n        {!loading && icon && <span className=\"flex-shrink-0\">{icon}</span>}\n        <span>{children}</span>\n      </button>\n    )\n  }\n)\n\nButton.displayName = 'Button'\n\nexport default Button\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;;;;AAqDO,MAAM,uBAAS,IAAA,mNAAU,EAC9B,CACE,EACE,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,YAAY,KAAK,EACjB,IAAI,EACJ,UAAU,KAAK,EACf,WAAW,KAAK,EAChB,YAAY,EAAE,EACd,QAAQ,EACR,OAAO,QAAQ,EACf,OAAO,EACP,WAAW,EACX,SAAS,EACT,YAAY,EACZ,UAAU,EACV,SAAS,EACT,OAAO,EACP,OAAO,EACP,MAAM,EACN,GAAG,YACJ,EACD;IAEA,sBAAsB;IACtB,MAAM,aAAa;QACjB,IAAI;YACF,SAAS;YACT,UAAU;YACV,WAAW;QACb;QACA,IAAI;YACF,SAAS;YACT,UAAU;YACV,WAAW,0IAAe,CAAC,gBAAgB,CAAC,SAAS;QACvD;QACA,IAAI;YACF,SAAS;YACT,UAAU;YACV,WAAW;QACb;IACF;IAEA,iBAAiB;IACjB,MAAM,gBAAgB;QACpB,SAAS,CAAC;;;;;;MAMV,CAAC;QACD,WAAW,CAAC;;;;;;MAMZ,CAAC;QACD,SAAS,CAAC;;;;;;MAMV,CAAC;QACD,OAAO,CAAC;;;;;MAKR,CAAC;QACD,aAAa,CAAC;;;;;;MAMd,CAAC;QACD,wCAAwC;QACxC,QAAQ,CAAC;;;;;;MAMT,CAAC;IACH;IAEA,MAAM,SAAS,UAAU,CAAC,KAAK;IAC/B,MAAM,eAAe,aAAa,CAAC,QAAQ;IAE3C,MAAM,aAAa,CAAC;;;;;;;;MAQlB,EAAE,YAAY,WAAW,GAAG;MAC5B,EAAE,aAAa;MACf,EAAE,UAAU;IACd,CAAC;IAED,qBACE,8OAAC;QACC,KAAK;QACL,MAAM;QACN,UAAU,YAAY;QACtB,WAAW;QACX,OAAO;YACL,SAAS,OAAO,OAAO;YACvB,UAAU,OAAO,QAAQ;YACzB,WAAW,OAAO,SAAS;QAC7B;QACA,SAAS;QACT,aAAa;QACb,WAAW;QACX,cAAc;QACd,YAAY;QACZ,WAAW;QACX,SAAS;QACT,SAAS;QACT,QAAQ;QACR,aAAW;QACV,GAAG,UAAU;;YAEb,yBACC,8OAAC;gBACC,WAAU;gBACV,OAAM;gBACN,MAAK;gBACL,SAAQ;gBACR,eAAY;;kCAEZ,8OAAC;wBACC,WAAU;wBACV,IAAG;wBACH,IAAG;wBACH,GAAE;wBACF,QAAO;wBACP,aAAY;;;;;;kCAEd,8OAAC;wBACC,WAAU;wBACV,MAAK;wBACL,GAAE;;;;;;;;;;;;YAIP,CAAC,WAAW,sBAAQ,8OAAC;gBAAK,WAAU;0BAAiB;;;;;;0BACtD,8OAAC;0BAAM;;;;;;;;;;;;AAGb;AAGF,OAAO,WAAW,GAAG;uCAEN"}},
    {"offset": {"line": 1113, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/Card.tsx"],"sourcesContent":["import { type ReactNode, type HTMLAttributes } from 'react'\nimport { shadows, radii, spacing } from '@/lib/design-tokens'\n\nexport interface CardProps extends HTMLAttributes<HTMLDivElement> {\n  /** Optional header content */\n  header?: ReactNode\n  /** Optional footer content */\n  footer?: ReactNode\n  /** Main content */\n  children: ReactNode\n  /** Padding variant */\n  padding?: 'none' | 'sm' | 'md' | 'lg'\n  /** Border radius variant */\n  radius?: 'md' | 'lg' | 'xl' | '2xl'\n  /** Shadow depth */\n  shadow?: 'none' | 'sm' | 'md' | 'lg'\n  /** Whether card is interactive (clickable) */\n  interactive?: boolean\n  /** Whether to show border */\n  border?: boolean\n  /** Optional onClick handler */\n  onClick?: () => void\n}\n\n/**\n * Card Component\n * \n * A flexible container component for grouping related content.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Optional header and footer sections\n * - Configurable padding, shadow, and border radius\n * - Interactive variant with hover effects\n * - Consistent with design tokens\n * - Semantic HTML structure\n * \n * @example\n * // Basic card\n * <Card>\n *   <p>Card content goes here</p>\n * </Card>\n * \n * @example\n * // Card with header and footer\n * <Card\n *   header={<h3>Card Title</h3>}\n *   footer={<Button>Action</Button>}\n * >\n *   <p>Card body content</p>\n * </Card>\n * \n * @example\n * // Interactive card\n * <Card interactive onClick={() => navigate('/details')}>\n *   <p>Click me!</p>\n * </Card>\n */\nexport function Card({\n  header,\n  footer,\n  children,\n  padding = 'lg',\n  radius: radiusVariant = 'xl',\n  shadow: shadowVariant = 'sm',\n  interactive = false,\n  border = true,\n  onClick,\n  className = '',\n  ...props\n}: CardProps) {\n  // Padding configurations\n  const paddingConfig = {\n    none: '0',\n    sm: spacing.md,\n    md: spacing.lg,\n    lg: spacing.xl,\n  }\n\n  // Shadow configurations\n  const shadowConfig = {\n    none: shadows.none,\n    sm: shadows.sm,\n    md: shadows.md,\n    lg: shadows.lg,\n  }\n\n  // Radius configurations\n  const radiusConfig = {\n    md: radii.md,\n    lg: radii.lg,\n    xl: radii.xl,\n    '2xl': radii['2xl'],\n  }\n\n  const paddingValue = paddingConfig[padding]\n  const shadowValue = shadowConfig[shadowVariant]\n  const radiusValue = radiusConfig[radiusVariant]\n\n  // Base styles\n  const baseClasses = `bg-white dark:bg-slate-800 ${border ? 'border border-slate-200 dark:border-slate-700' : ''} transition-colors duration-150`\n\n  // Interactive styles\n  const interactiveClasses = interactive\n    ? 'cursor-pointer hover:border-sky-400 dark:hover:border-sky-500 hover:shadow-lg active:scale-[0.99] transition-all duration-200'\n    : ''\n\n  if (onClick) {\n    return (\n      <button\n        type=\"button\"\n        className={`${baseClasses} ${interactiveClasses} ${className}`}\n        style={{\n          borderRadius: radiusValue,\n          boxShadow: shadowValue,\n        }}\n        onClick={onClick}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter' || e.key === ' ') {\n            e.preventDefault()\n            onClick()\n          }\n        }}\n      >\n        {header && (\n          <div\n            className=\"border-b border-slate-200 dark:border-slate-700\"\n            style={{\n              padding: paddingValue,\n            }}\n          >\n            {header}\n          </div>\n        )}\n        <div\n          style={{\n            padding: paddingValue,\n          }}\n        >\n          {children}\n        </div>\n        {footer && (\n          <div\n            className=\"border-t border-slate-200 dark:border-slate-700\"\n            style={{\n              padding: paddingValue,\n            }}\n          >\n            {footer}\n          </div>\n        )}\n      </button>\n    )\n  }\n\n  return (\n    <div\n      className={`${baseClasses} ${interactiveClasses} ${className}`}\n      style={{\n        borderRadius: radiusValue,\n        boxShadow: shadowValue,\n      }}\n      {...props}\n    >\n      {header && (\n        <div\n          className=\"border-b border-slate-200 dark:border-slate-700\"\n          style={{\n            padding: paddingValue,\n          }}\n        >\n          {header}\n        </div>\n      )}\n      <div\n        style={{\n          padding: paddingValue,\n        }}\n      >\n        {children}\n      </div>\n      {footer && (\n        <div\n          className=\"border-t border-slate-200 dark:border-slate-700\"\n          style={{\n            padding: paddingValue,\n          }}\n        >\n          {footer}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Card\n"],"names":[],"mappings":";;;;;;;AACA;AAAA;;;AAyDO,SAAS,KAAK,EACnB,MAAM,EACN,MAAM,EACN,QAAQ,EACR,UAAU,IAAI,EACd,QAAQ,gBAAgB,IAAI,EAC5B,QAAQ,gBAAgB,IAAI,EAC5B,cAAc,KAAK,EACnB,SAAS,IAAI,EACb,OAAO,EACP,YAAY,EAAE,EACd,GAAG,OACO;IACV,yBAAyB;IACzB,MAAM,gBAAgB;QACpB,MAAM;QACN,IAAI,kIAAO,CAAC,EAAE;QACd,IAAI,kIAAO,CAAC,EAAE;QACd,IAAI,kIAAO,CAAC,EAAE;IAChB;IAEA,wBAAwB;IACxB,MAAM,eAAe;QACnB,MAAM,kIAAO,CAAC,IAAI;QAClB,IAAI,kIAAO,CAAC,EAAE;QACd,IAAI,kIAAO,CAAC,EAAE;QACd,IAAI,kIAAO,CAAC,EAAE;IAChB;IAEA,wBAAwB;IACxB,MAAM,eAAe;QACnB,IAAI,gIAAK,CAAC,EAAE;QACZ,IAAI,gIAAK,CAAC,EAAE;QACZ,IAAI,gIAAK,CAAC,EAAE;QACZ,OAAO,gIAAK,CAAC,MAAM;IACrB;IAEA,MAAM,eAAe,aAAa,CAAC,QAAQ;IAC3C,MAAM,cAAc,YAAY,CAAC,cAAc;IAC/C,MAAM,cAAc,YAAY,CAAC,cAAc;IAE/C,cAAc;IACd,MAAM,cAAc,CAAC,2BAA2B,EAAE,SAAS,kDAAkD,GAAG,+BAA+B,CAAC;IAEhJ,qBAAqB;IACrB,MAAM,qBAAqB,cACvB,kIACA;IAEJ,IAAI,SAAS;QACX,qBACE,8OAAC;YACC,MAAK;YACL,WAAW,GAAG,YAAY,CAAC,EAAE,mBAAmB,CAAC,EAAE,WAAW;YAC9D,OAAO;gBACL,cAAc;gBACd,WAAW;YACb;YACA,SAAS;YACT,WAAW,CAAC;gBACV,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK;oBACtC,EAAE,cAAc;oBAChB;gBACF;YACF;;gBAEC,wBACC,8OAAC;oBACC,WAAU;oBACV,OAAO;wBACL,SAAS;oBACX;8BAEC;;;;;;8BAGL,8OAAC;oBACC,OAAO;wBACL,SAAS;oBACX;8BAEC;;;;;;gBAEF,wBACC,8OAAC;oBACC,WAAU;oBACV,OAAO;wBACL,SAAS;oBACX;8BAEC;;;;;;;;;;;;IAKX;IAEA,qBACE,8OAAC;QACC,WAAW,GAAG,YAAY,CAAC,EAAE,mBAAmB,CAAC,EAAE,WAAW;QAC9D,OAAO;YACL,cAAc;YACd,WAAW;QACb;QACC,GAAG,KAAK;;YAER,wBACC,8OAAC;gBACC,WAAU;gBACV,OAAO;oBACL,SAAS;gBACX;0BAEC;;;;;;0BAGL,8OAAC;gBACC,OAAO;oBACL,SAAS;gBACX;0BAEC;;;;;;YAEF,wBACC,8OAAC;gBACC,WAAU;gBACV,OAAO;oBACL,SAAS;gBACX;0BAEC;;;;;;;;;;;;AAKX;uCAEe"}},
    {"offset": {"line": 1260, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/Input.tsx"],"sourcesContent":["import { forwardRef, useId, type InputHTMLAttributes } from 'react'\nimport { radii, spacing } from '@/lib/design-tokens'\n\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  /** Error state */\n  error?: boolean\n  /** Error message to display */\n  errorMessage?: string\n  /** Helper text */\n  helperText?: string\n  /** Input size */\n  inputSize?: 'sm' | 'md' | 'lg'\n}\n\n/**\n * Input Component\n * \n * A styled text input component with error states and helper text.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Error state with custom styling\n * - Helper text support\n * - Three size variants\n * - Accessible with proper ARIA attributes\n * - Consistent with form field styling from globals.css\n * \n * @example\n * <Input\n *   type=\"email\"\n *   placeholder=\"Enter your email\"\n *   error={hasError}\n *   errorMessage=\"Invalid email address\"\n * />\n */\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\n  (\n    {\n      error = false,\n      errorMessage,\n      helperText,\n      inputSize = 'md',\n      className = '',\n      disabled = false,\n      ...props\n    },\n    ref\n  ) => {\n    // Size configurations\n    const sizeConfig = {\n      sm: {\n        padding: '0.5rem 0.75rem',\n        fontSize: '0.875rem',\n        minHeight: '36px',\n      },\n      md: {\n        padding: '0.625rem 0.875rem',\n        fontSize: '1rem',\n        minHeight: '44px',\n      },\n      lg: {\n        padding: '0.75rem 1rem',\n        fontSize: '1.125rem',\n        minHeight: '52px',\n      },\n    }\n\n    const config = sizeConfig[inputSize]\n\n    const baseClasses = `\n      w-full\n      border-2\n      rounded-lg\n      transition-all duration-200\n      focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1\n      disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-400 dark:disabled:text-slate-500 disabled:cursor-not-allowed disabled:opacity-60\n    `\n\n    const stateClasses = error\n      ? 'border-red-500 dark:border-red-400 bg-red-50 dark:bg-red-900/20 text-red-900 dark:text-red-100 placeholder-red-400 dark:placeholder-red-300'\n      : 'border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:border-sky-500'\n\n    const generatedId = useId()\n    const inputId = props.id || generatedId\n\n    return (\n      <div className=\"w-full\">\n        <input\n          ref={ref}\n          id={inputId}\n          disabled={disabled}\n          className={`${baseClasses} ${stateClasses} ${className}`}\n          style={{\n            padding: config.padding,\n            fontSize: config.fontSize,\n            minHeight: config.minHeight,\n            borderRadius: radii.lg,\n          }}\n          aria-invalid={error}\n          aria-describedby={\n            errorMessage ? `${inputId}-error` : helperText ? `${inputId}-helper` : undefined\n          }\n          {...props}\n        />\n        {errorMessage && error && (\n          <p\n            id={`${inputId}-error`}\n            className=\"text-sm text-red-600 dark:text-red-400 mt-1.5\"\n            style={{ marginLeft: spacing.xs }}\n          >\n            {errorMessage}\n          </p>\n        )}\n        {helperText && !error && (\n          <p\n            id={`${inputId}-helper`}\n            className=\"text-sm text-slate-500 dark:text-slate-400 mt-1.5\"\n            style={{ marginLeft: spacing.xs }}\n          >\n            {helperText}\n          </p>\n        )}\n      </div>\n    )\n  }\n)\n\nInput.displayName = 'Input'\n\nexport default Input\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;;;;AAkCO,MAAM,sBAAQ,IAAA,mNAAU,EAC7B,CACE,EACE,QAAQ,KAAK,EACb,YAAY,EACZ,UAAU,EACV,YAAY,IAAI,EAChB,YAAY,EAAE,EACd,WAAW,KAAK,EAChB,GAAG,OACJ,EACD;IAEA,sBAAsB;IACtB,MAAM,aAAa;QACjB,IAAI;YACF,SAAS;YACT,UAAU;YACV,WAAW;QACb;QACA,IAAI;YACF,SAAS;YACT,UAAU;YACV,WAAW;QACb;QACA,IAAI;YACF,SAAS;YACT,UAAU;YACV,WAAW;QACb;IACF;IAEA,MAAM,SAAS,UAAU,CAAC,UAAU;IAEpC,MAAM,cAAc,CAAC;;;;;;;IAOrB,CAAC;IAED,MAAM,eAAe,QACjB,gJACA;IAEJ,MAAM,cAAc,IAAA,8MAAK;IACzB,MAAM,UAAU,MAAM,EAAE,IAAI;IAE5B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,KAAK;gBACL,IAAI;gBACJ,UAAU;gBACV,WAAW,GAAG,YAAY,CAAC,EAAE,aAAa,CAAC,EAAE,WAAW;gBACxD,OAAO;oBACL,SAAS,OAAO,OAAO;oBACvB,UAAU,OAAO,QAAQ;oBACzB,WAAW,OAAO,SAAS;oBAC3B,cAAc,gIAAK,CAAC,EAAE;gBACxB;gBACA,gBAAc;gBACd,oBACE,eAAe,GAAG,QAAQ,MAAM,CAAC,GAAG,aAAa,GAAG,QAAQ,OAAO,CAAC,GAAG;gBAExE,GAAG,KAAK;;;;;;YAEV,gBAAgB,uBACf,8OAAC;gBACC,IAAI,GAAG,QAAQ,MAAM,CAAC;gBACtB,WAAU;gBACV,OAAO;oBAAE,YAAY,kIAAO,CAAC,EAAE;gBAAC;0BAE/B;;;;;;YAGJ,cAAc,CAAC,uBACd,8OAAC;gBACC,IAAI,GAAG,QAAQ,OAAO,CAAC;gBACvB,WAAU;gBACV,OAAO;oBAAE,YAAY,kIAAO,CAAC,EAAE;gBAAC;0BAE/B;;;;;;;;;;;;AAKX;AAGF,MAAM,WAAW,GAAG;uCAEL"}},
    {"offset": {"line": 1363, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/Textarea.tsx"],"sourcesContent":["import { forwardRef, useId, type TextareaHTMLAttributes } from 'react'\nimport { radii, spacing } from '@/lib/design-tokens'\n\nexport interface TextareaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\n  /** Error state */\n  error?: boolean\n  /** Error message to display */\n  errorMessage?: string\n  /** Helper text */\n  helperText?: string\n  /** Textarea size */\n  textareaSize?: 'sm' | 'md' | 'lg'\n}\n\n/**\n * Textarea Component\n * \n * A styled textarea component with error states and helper text.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Error state with custom styling\n * - Helper text support\n * - Three size variants\n * - Accessible with proper ARIA attributes\n * - Auto-resizing capable\n * \n * @example\n * <Textarea\n *   placeholder=\"Enter description\"\n *   rows={4}\n *   error={hasError}\n *   errorMessage=\"Description is required\"\n * />\n */\nexport const Textarea = forwardRef<HTMLTextAreaElement, TextareaProps>(\n  (\n    {\n      error = false,\n      errorMessage,\n      helperText,\n      textareaSize = 'md',\n      className = '',\n      disabled = false,\n      rows = 4,\n      ...props\n    },\n    ref\n  ) => {\n    // Size configurations\n    const sizeConfig = {\n      sm: {\n        padding: '0.5rem 0.75rem',\n        fontSize: '0.875rem',\n      },\n      md: {\n        padding: '0.625rem 0.875rem',\n        fontSize: '1rem',\n      },\n      lg: {\n        padding: '0.75rem 1rem',\n        fontSize: '1.125rem',\n      },\n    }\n\n    const config = sizeConfig[textareaSize]\n\n    const baseClasses = `\n      w-full\n      border-2\n      rounded-lg\n      transition-all duration-200\n      focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1\n      disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-400 dark:disabled:text-slate-500 disabled:cursor-not-allowed disabled:opacity-60\n      resize-y\n    `\n\n    const stateClasses = error\n      ? 'border-red-500 dark:border-red-400 bg-red-50 dark:bg-red-900/20 text-red-900 dark:text-red-100 placeholder-red-400 dark:placeholder-red-300'\n      : 'border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:border-sky-500'\n\n    const generatedId = useId()\n    const textareaId = props.id || generatedId\n\n    return (\n      <div className=\"w-full\">\n        <textarea\n          ref={ref}\n          id={textareaId}\n          disabled={disabled}\n          rows={rows}\n          className={`${baseClasses} ${stateClasses} ${className}`}\n          style={{\n            padding: config.padding,\n            fontSize: config.fontSize,\n            borderRadius: radii.lg,\n          }}\n          aria-invalid={error}\n          aria-describedby={\n            errorMessage ? `${textareaId}-error` : helperText ? `${textareaId}-helper` : undefined\n          }\n          {...props}\n        />\n        {errorMessage && error && (\n          <p\n            id={`${textareaId}-error`}\n            className=\"text-sm text-red-600 dark:text-red-400 mt-1.5\"\n            style={{ marginLeft: spacing.xs }}\n          >\n            {errorMessage}\n          </p>\n        )}\n        {helperText && !error && (\n          <p\n            id={`${textareaId}-helper`}\n            className=\"text-sm text-slate-500 dark:text-slate-400 mt-1.5\"\n            style={{ marginLeft: spacing.xs }}\n          >\n            {helperText}\n          </p>\n        )}\n      </div>\n    )\n  }\n)\n\nTextarea.displayName = 'Textarea'\n\nexport default Textarea\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;;;;AAkCO,MAAM,yBAAW,IAAA,mNAAU,EAChC,CACE,EACE,QAAQ,KAAK,EACb,YAAY,EACZ,UAAU,EACV,eAAe,IAAI,EACnB,YAAY,EAAE,EACd,WAAW,KAAK,EAChB,OAAO,CAAC,EACR,GAAG,OACJ,EACD;IAEA,sBAAsB;IACtB,MAAM,aAAa;QACjB,IAAI;YACF,SAAS;YACT,UAAU;QACZ;QACA,IAAI;YACF,SAAS;YACT,UAAU;QACZ;QACA,IAAI;YACF,SAAS;YACT,UAAU;QACZ;IACF;IAEA,MAAM,SAAS,UAAU,CAAC,aAAa;IAEvC,MAAM,cAAc,CAAC;;;;;;;;IAQrB,CAAC;IAED,MAAM,eAAe,QACjB,gJACA;IAEJ,MAAM,cAAc,IAAA,8MAAK;IACzB,MAAM,aAAa,MAAM,EAAE,IAAI;IAE/B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,KAAK;gBACL,IAAI;gBACJ,UAAU;gBACV,MAAM;gBACN,WAAW,GAAG,YAAY,CAAC,EAAE,aAAa,CAAC,EAAE,WAAW;gBACxD,OAAO;oBACL,SAAS,OAAO,OAAO;oBACvB,UAAU,OAAO,QAAQ;oBACzB,cAAc,gIAAK,CAAC,EAAE;gBACxB;gBACA,gBAAc;gBACd,oBACE,eAAe,GAAG,WAAW,MAAM,CAAC,GAAG,aAAa,GAAG,WAAW,OAAO,CAAC,GAAG;gBAE9E,GAAG,KAAK;;;;;;YAEV,gBAAgB,uBACf,8OAAC;gBACC,IAAI,GAAG,WAAW,MAAM,CAAC;gBACzB,WAAU;gBACV,OAAO;oBAAE,YAAY,kIAAO,CAAC,EAAE;gBAAC;0BAE/B;;;;;;YAGJ,cAAc,CAAC,uBACd,8OAAC;gBACC,IAAI,GAAG,WAAW,OAAO,CAAC;gBAC1B,WAAU;gBACV,OAAO;oBAAE,YAAY,kIAAO,CAAC,EAAE;gBAAC;0BAE/B;;;;;;;;;;;;AAKX;AAGF,SAAS,WAAW,GAAG;uCAER"}},
    {"offset": {"line": 1464, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/Select.tsx"],"sourcesContent":["import { forwardRef, useId, type SelectHTMLAttributes } from 'react'\nimport { radii, spacing } from '@/lib/design-tokens'\n\nexport interface SelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\n  /** Error state */\n  error?: boolean\n  /** Error message to display */\n  errorMessage?: string\n  /** Helper text */\n  helperText?: string\n  /** Select size */\n  selectSize?: 'sm' | 'md' | 'lg'\n}\n\n/**\n * Select Component\n * \n * A styled select dropdown component with error states and helper text.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Error state with custom styling\n * - Helper text support\n * - Three size variants\n * - Accessible with proper ARIA attributes\n * - Custom dropdown arrow\n * \n * @example\n * <Select error={hasError} errorMessage=\"Please select an option\">\n *   <option value=\"\">Choose...</option>\n *   <option value=\"1\">Option 1</option>\n *   <option value=\"2\">Option 2</option>\n * </Select>\n */\nexport const Select = forwardRef<HTMLSelectElement, SelectProps>(\n  (\n    {\n      error = false,\n      errorMessage,\n      helperText,\n      selectSize = 'md',\n      className = '',\n      disabled = false,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    // Size configurations\n    const sizeConfig = {\n      sm: {\n        padding: '0.5rem 2rem 0.5rem 0.75rem',\n        fontSize: '0.875rem',\n        minHeight: '36px',\n      },\n      md: {\n        padding: '0.625rem 2.5rem 0.625rem 0.875rem',\n        fontSize: '1rem',\n        minHeight: '44px',\n      },\n      lg: {\n        padding: '0.75rem 3rem 0.75rem 1rem',\n        fontSize: '1.125rem',\n        minHeight: '52px',\n      },\n    }\n\n    const config = sizeConfig[selectSize]\n\n    const baseClasses = `\n      w-full\n      border-2\n      rounded-lg\n      transition-all duration-200\n      focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1\n      disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-400 dark:disabled:text-slate-500 disabled:cursor-not-allowed disabled:opacity-60\n      appearance-none\n      bg-no-repeat\n      cursor-pointer\n    `\n\n    const stateClasses = error\n      ? 'border-red-500 dark:border-red-400 bg-red-50 dark:bg-red-900/20 text-red-900 dark:text-red-100'\n      : 'border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:border-sky-500'\n\n    // Custom dropdown arrow\n    // Note: SVG data URLs cannot use CSS classes, so we use a mid-tone that works in both themes\n    // For error state, use red; for normal state, use a neutral gray\n    const backgroundImage = error\n      ? `url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23dc2626' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")`\n      : `url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")`\n    \n    // Alternative: Use CSS background-image with currentColor via mask-image\n    // This would require refactoring to use mask-image property instead\n\n    const generatedId = useId()\n    const selectId = props.id || generatedId\n\n    return (\n      <div className=\"w-full\">\n        <select\n          ref={ref}\n          id={selectId}\n          disabled={disabled}\n          className={`${baseClasses} ${stateClasses} ${className}`}\n          style={{\n            padding: config.padding,\n            fontSize: config.fontSize,\n            minHeight: config.minHeight,\n            borderRadius: radii.lg,\n            backgroundImage,\n            backgroundPosition: 'right 0.5rem center',\n            backgroundSize: '1.5rem 1.5rem',\n          }}\n          aria-invalid={error}\n          aria-describedby={\n            errorMessage ? `${selectId}-error` : helperText ? `${selectId}-helper` : undefined\n          }\n          {...props}\n        >\n          {children}\n        </select>\n        {errorMessage && error && (\n          <p\n            id={`${selectId}-error`}\n            className=\"text-sm text-red-600 dark:text-red-400 mt-1.5\"\n            style={{ marginLeft: spacing.xs }}\n          >\n            {errorMessage}\n          </p>\n        )}\n        {helperText && !error && (\n          <p\n            id={`${selectId}-helper`}\n            className=\"text-sm text-slate-500 dark:text-slate-400 mt-1.5\"\n            style={{ marginLeft: spacing.xs }}\n          >\n            {helperText}\n          </p>\n        )}\n      </div>\n    )\n  }\n)\n\nSelect.displayName = 'Select'\n\nexport default Select\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;;;;AAiCO,MAAM,uBAAS,IAAA,mNAAU,EAC9B,CACE,EACE,QAAQ,KAAK,EACb,YAAY,EACZ,UAAU,EACV,aAAa,IAAI,EACjB,YAAY,EAAE,EACd,WAAW,KAAK,EAChB,QAAQ,EACR,GAAG,OACJ,EACD;IAEA,sBAAsB;IACtB,MAAM,aAAa;QACjB,IAAI;YACF,SAAS;YACT,UAAU;YACV,WAAW;QACb;QACA,IAAI;YACF,SAAS;YACT,UAAU;YACV,WAAW;QACb;QACA,IAAI;YACF,SAAS;YACT,UAAU;YACV,WAAW;QACb;IACF;IAEA,MAAM,SAAS,UAAU,CAAC,WAAW;IAErC,MAAM,cAAc,CAAC;;;;;;;;;;IAUrB,CAAC;IAED,MAAM,eAAe,QACjB,mGACA;IAEJ,wBAAwB;IACxB,6FAA6F;IAC7F,iEAAiE;IACjE,MAAM,kBAAkB,QACpB,CAAC,iOAAiO,CAAC,GACnO,CAAC,iOAAiO,CAAC;IAEvO,yEAAyE;IACzE,oEAAoE;IAEpE,MAAM,cAAc,IAAA,8MAAK;IACzB,MAAM,WAAW,MAAM,EAAE,IAAI;IAE7B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,KAAK;gBACL,IAAI;gBACJ,UAAU;gBACV,WAAW,GAAG,YAAY,CAAC,EAAE,aAAa,CAAC,EAAE,WAAW;gBACxD,OAAO;oBACL,SAAS,OAAO,OAAO;oBACvB,UAAU,OAAO,QAAQ;oBACzB,WAAW,OAAO,SAAS;oBAC3B,cAAc,gIAAK,CAAC,EAAE;oBACtB;oBACA,oBAAoB;oBACpB,gBAAgB;gBAClB;gBACA,gBAAc;gBACd,oBACE,eAAe,GAAG,SAAS,MAAM,CAAC,GAAG,aAAa,GAAG,SAAS,OAAO,CAAC,GAAG;gBAE1E,GAAG,KAAK;0BAER;;;;;;YAEF,gBAAgB,uBACf,8OAAC;gBACC,IAAI,GAAG,SAAS,MAAM,CAAC;gBACvB,WAAU;gBACV,OAAO;oBAAE,YAAY,kIAAO,CAAC,EAAE;gBAAC;0BAE/B;;;;;;YAGJ,cAAc,CAAC,uBACd,8OAAC;gBACC,IAAI,GAAG,SAAS,OAAO,CAAC;gBACxB,WAAU;gBACV,OAAO;oBAAE,YAAY,kIAAO,CAAC,EAAE;gBAAC;0BAE/B;;;;;;;;;;;;AAKX;AAGF,OAAO,WAAW,GAAG;uCAEN"}},
    {"offset": {"line": 1580, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/Label.tsx"],"sourcesContent":["import { type LabelHTMLAttributes, type ReactNode } from 'react'\nimport { typography, spacing } from '@/lib/design-tokens'\n\nexport interface LabelProps extends LabelHTMLAttributes<HTMLLabelElement> {\n  /** Whether the field is required */\n  required?: boolean\n  /** Label text */\n  children: ReactNode\n  /** Size variant */\n  size?: 'sm' | 'md' | 'lg'\n}\n\n/**\n * Label Component\n * \n * A styled label component for form fields with optional required indicator.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Required field indicator\n * - Three size variants\n * - Consistent typography\n * - Accessible with proper ARIA attributes\n * \n * @example\n * <Label htmlFor=\"email\" required>\n *   Email Address\n * </Label>\n * <Input id=\"email\" type=\"email\" />\n */\nexport function Label({\n  required = false,\n  children,\n  size = 'md',\n  className = '',\n  ...props\n}: LabelProps) {\n  const sizeConfig = {\n    sm: {\n      fontSize: typography.fontSize.sm,\n      marginBottom: spacing.xs,\n    },\n    md: {\n      fontSize: typography.fontSize.base,\n      marginBottom: spacing.sm,\n    },\n    lg: {\n      fontSize: typography.fontSize.lg,\n      marginBottom: spacing.sm,\n    },\n  }\n\n  const config = sizeConfig[size]\n\n  return (\n    <label\n      className={`block font-medium text-slate-700 dark:text-slate-300 ${className}`}\n      style={{\n        fontSize: config.fontSize,\n        marginBottom: config.marginBottom,\n      }}\n      {...props}\n    >\n      {children}\n      {required && (\n        <span className=\"text-red-600 dark:text-red-400 ml-1\" aria-label=\"required\">\n          *\n        </span>\n      )}\n    </label>\n  )\n}\n\nexport default Label\n"],"names":[],"mappings":";;;;;;;AACA;AAAA;;;AA6BO,SAAS,MAAM,EACpB,WAAW,KAAK,EAChB,QAAQ,EACR,OAAO,IAAI,EACX,YAAY,EAAE,EACd,GAAG,OACQ;IACX,MAAM,aAAa;QACjB,IAAI;YACF,UAAU,qIAAU,CAAC,QAAQ,CAAC,EAAE;YAChC,cAAc,kIAAO,CAAC,EAAE;QAC1B;QACA,IAAI;YACF,UAAU,qIAAU,CAAC,QAAQ,CAAC,IAAI;YAClC,cAAc,kIAAO,CAAC,EAAE;QAC1B;QACA,IAAI;YACF,UAAU,qIAAU,CAAC,QAAQ,CAAC,EAAE;YAChC,cAAc,kIAAO,CAAC,EAAE;QAC1B;IACF;IAEA,MAAM,SAAS,UAAU,CAAC,KAAK;IAE/B,qBACE,8OAAC;QACC,WAAW,CAAC,qDAAqD,EAAE,WAAW;QAC9E,OAAO;YACL,UAAU,OAAO,QAAQ;YACzB,cAAc,OAAO,YAAY;QACnC;QACC,GAAG,KAAK;;YAER;YACA,0BACC,8OAAC;gBAAK,WAAU;gBAAsC,cAAW;0BAAW;;;;;;;;;;;;AAMpF;uCAEe"}},
    {"offset": {"line": 1637, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/FormField.tsx"],"sourcesContent":["import { type ReactNode } from 'react'\nimport Label from './Label'\nimport { spacing } from '@/lib/design-tokens'\n\nexport interface FormFieldProps {\n  /** Field label */\n  label?: string\n  /** Whether field is required */\n  required?: boolean\n  /** Input/control element */\n  children: ReactNode\n  /** Additional helper text */\n  description?: string\n  /** htmlFor attribute for label */\n  htmlFor?: string\n}\n\n/**\n * FormField Component\n * \n * A wrapper component that combines a label with a form control.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Consistent label and control spacing\n * - Optional description text\n * - Required field indicator\n * - Accessible structure\n * \n * @example\n * <FormField label=\"Email Address\" required htmlFor=\"email\">\n *   <Input id=\"email\" type=\"email\" />\n * </FormField>\n * \n * @example\n * <FormField\n *   label=\"Country\"\n *   description=\"Select your country of residence\"\n *   htmlFor=\"country\"\n * >\n *   <Select id=\"country\">\n *     <option value=\"\">Choose...</option>\n *     <option value=\"de\">Germany</option>\n *   </Select>\n * </FormField>\n */\nexport function FormField({\n  label,\n  required = false,\n  children,\n  description,\n  htmlFor,\n}: FormFieldProps) {\n  return (\n    <div className=\"w-full\" style={{ marginBottom: spacing.lg }}>\n      {label && (\n        <Label htmlFor={htmlFor} required={required}>\n          {label}\n        </Label>\n      )}\n      {description && (\n        <p className=\"text-sm text-slate-600 mb-2\" style={{ marginLeft: spacing.xs }}>\n          {description}\n        </p>\n      )}\n      {children}\n    </div>\n  )\n}\n\nexport default FormField\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAAA;;;;AA4CO,SAAS,UAAU,EACxB,KAAK,EACL,WAAW,KAAK,EAChB,QAAQ,EACR,WAAW,EACX,OAAO,EACQ;IACf,qBACE,8OAAC;QAAI,WAAU;QAAS,OAAO;YAAE,cAAc,kIAAO,CAAC,EAAE;QAAC;;YACvD,uBACC,8OAAC,8HAAK;gBAAC,SAAS;gBAAS,UAAU;0BAChC;;;;;;YAGJ,6BACC,8OAAC;gBAAE,WAAU;gBAA8B,OAAO;oBAAE,YAAY,kIAAO,CAAC,EAAE;gBAAC;0BACxE;;;;;;YAGJ;;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 1690, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/Table.tsx"],"sourcesContent":["import { type ReactNode, type HTMLAttributes } from 'react'\nimport { radii, shadows } from '@/lib/design-tokens'\n\nexport interface TableColumn<T = unknown> {\n  /** Column header text */\n  header: string\n  /** Accessor function to get cell value */\n  accessor: (row: T) => ReactNode\n  /** Optional custom width */\n  width?: string\n  /** Whether column is sortable */\n  sortable?: boolean\n  /** Alignment */\n  align?: 'left' | 'center' | 'right'\n}\n\nexport interface TableProps<T = unknown> extends HTMLAttributes<HTMLDivElement> {\n  /** Table columns configuration */\n  columns: TableColumn<T>[]\n  /** Data rows */\n  data: T[]\n  /** Optional key extractor */\n  keyExtractor?: (row: T, index: number) => string | number\n  /** Whether to show borders */\n  bordered?: boolean\n  /** Whether to show hover effect on rows */\n  hoverable?: boolean\n  /** Whether to show striped rows */\n  striped?: boolean\n  /** Optional empty state message */\n  emptyMessage?: string\n  /** Optional loading state */\n  loading?: boolean\n  /** Optional row click handler */\n  onRowClick?: (row: T, index: number) => void\n}\n\n/**\n * Table Component\n * \n * A flexible, accessible table component with sorting and interaction support.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Configurable columns with custom accessors\n * - Sortable columns (when sorting logic provided)\n * - Row click handlers\n * - Hover and striped variants\n * - Loading and empty states\n * - Responsive with horizontal scroll\n * - Accessible with proper ARIA attributes\n * \n * @example\n * const columns = [\n *   { header: 'Name', accessor: (row) => row.name },\n *   { header: 'Email', accessor: (row) => row.email },\n *   { header: 'Status', accessor: (row) => <Badge>{row.status}</Badge> },\n * ]\n * \n * <Table\n *   columns={columns}\n *   data={users}\n *   hoverable\n *   onRowClick={(user) => navigate(`/users/${user.id}`)}\n * />\n */\nexport function Table<T = unknown>({\n  columns,\n  data,\n  keyExtractor = (_, index) => index,\n  bordered = true,\n  hoverable = true,\n  striped = false,\n  emptyMessage = 'Keine Daten vorhanden',\n  loading = false,\n  onRowClick,\n  className = '',\n  ...props\n}: TableProps<T>) {\n  const containerClasses = `overflow-x-auto bg-white dark:bg-slate-800 transition-colors duration-150 ${bordered ? 'border border-slate-200 dark:border-slate-700 rounded-xl' : ''}`\n\n  return (\n    <div\n      className={`${containerClasses} ${className}`}\n      style={{\n        borderRadius: bordered ? radii.xl : undefined,\n        boxShadow: bordered ? shadows.sm : undefined,\n      }}\n      {...props}\n    >\n      <table className=\"w-full text-sm\">\n        <thead className=\"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700\">\n          <tr>\n            {columns.map((column, index) => (\n              <th\n                key={index}\n                className={`px-4 py-4 font-semibold text-slate-700 dark:text-slate-300 ${\n                  column.align === 'center'\n                    ? 'text-center'\n                    : column.align === 'right'\n                    ? 'text-right'\n                    : 'text-left'\n                }`}\n                style={{ width: column.width }}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <span>{column.header}</span>\n                  {column.sortable && (\n                    <svg\n                      className=\"w-4 h-4 text-slate-400\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                      aria-hidden=\"true\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4\"\n                      />\n                    </svg>\n                  )}\n                </div>\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {loading ? (\n            <tr>\n              <td colSpan={columns.length} className=\"px-4 py-12 text-center text-slate-500 dark:text-slate-400\">\n                <div className=\"flex items-center justify-center gap-2\">\n                  <svg\n                    className=\"animate-spin h-5 w-5 text-sky-600 dark:text-sky-400\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <circle\n                      className=\"opacity-25\"\n                      cx=\"12\"\n                      cy=\"12\"\n                      r=\"10\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"4\"\n                    />\n                    <path\n                      className=\"opacity-75\"\n                      fill=\"currentColor\"\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    />\n                  </svg>\n                  <span>Laden...</span>\n                </div>\n              </td>\n            </tr>\n          ) : data.length === 0 ? (\n            <tr>\n              <td colSpan={columns.length} className=\"px-4 py-12 text-center text-slate-500 dark:text-slate-400\">\n                {emptyMessage}\n              </td>\n            </tr>\n          ) : (\n            data.map((row, rowIndex) => (\n              <tr\n                key={keyExtractor(row, rowIndex)}\n                className={`\n                  ${striped && rowIndex % 2 === 1 ? 'bg-slate-50 dark:bg-slate-700/30' : ''}\n                  ${hoverable ? 'hover:bg-slate-50 dark:hover:bg-slate-700/50 transition' : ''}\n                  ${onRowClick ? 'cursor-pointer' : ''}\n                  ${rowIndex !== data.length - 1 ? 'border-b border-slate-100 dark:border-slate-700' : ''}\n                `}\n                onClick={() => onRowClick?.(row, rowIndex)}\n                role={onRowClick ? 'button' : undefined}\n                tabIndex={onRowClick ? 0 : undefined}\n                onKeyDown={\n                  onRowClick\n                    ? (e) => {\n                        if (e.key === 'Enter' || e.key === ' ') {\n                          e.preventDefault()\n                          onRowClick(row, rowIndex)\n                        }\n                      }\n                    : undefined\n                }\n              >\n                {columns.map((column, colIndex) => (\n                  <td\n                    key={colIndex}\n                    className={`px-4 py-4 ${\n                      column.align === 'center'\n                        ? 'text-center'\n                        : column.align === 'right'\n                        ? 'text-right'\n                        : 'text-left'\n                    }`}\n                  >\n                    {column.accessor(row)}\n                  </td>\n                ))}\n              </tr>\n            ))\n          )}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default Table\n"],"names":[],"mappings":";;;;;;;AACA;AAAA;;;AAiEO,SAAS,MAAmB,EACjC,OAAO,EACP,IAAI,EACJ,eAAe,CAAC,GAAG,QAAU,KAAK,EAClC,WAAW,IAAI,EACf,YAAY,IAAI,EAChB,UAAU,KAAK,EACf,eAAe,uBAAuB,EACtC,UAAU,KAAK,EACf,UAAU,EACV,YAAY,EAAE,EACd,GAAG,OACW;IACd,MAAM,mBAAmB,CAAC,0EAA0E,EAAE,WAAW,6DAA6D,IAAI;IAElL,qBACE,8OAAC;QACC,WAAW,GAAG,iBAAiB,CAAC,EAAE,WAAW;QAC7C,OAAO;YACL,cAAc,WAAW,gIAAK,CAAC,EAAE,GAAG;YACpC,WAAW,WAAW,kIAAO,CAAC,EAAE,GAAG;QACrC;QACC,GAAG,KAAK;kBAET,cAAA,8OAAC;YAAM,WAAU;;8BACf,8OAAC;oBAAM,WAAU;8BACf,cAAA,8OAAC;kCACE,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACpB,8OAAC;gCAEC,WAAW,CAAC,2DAA2D,EACrE,OAAO,KAAK,KAAK,WACb,gBACA,OAAO,KAAK,KAAK,UACjB,eACA,aACJ;gCACF,OAAO;oCAAE,OAAO,OAAO,KAAK;gCAAC;0CAE7B,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;sDAAM,OAAO,MAAM;;;;;;wCACnB,OAAO,QAAQ,kBACd,8OAAC;4CACC,WAAU;4CACV,MAAK;4CACL,QAAO;4CACP,SAAQ;4CACR,eAAY;sDAEZ,cAAA,8OAAC;gDACC,eAAc;gDACd,gBAAe;gDACf,aAAa;gDACb,GAAE;;;;;;;;;;;;;;;;;+BAxBL;;;;;;;;;;;;;;;8BAiCb,8OAAC;8BACE,wBACC,8OAAC;kCACC,cAAA,8OAAC;4BAAG,SAAS,QAAQ,MAAM;4BAAE,WAAU;sCACrC,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,WAAU;wCACV,OAAM;wCACN,MAAK;wCACL,SAAQ;;0DAER,8OAAC;gDACC,WAAU;gDACV,IAAG;gDACH,IAAG;gDACH,GAAE;gDACF,QAAO;gDACP,aAAY;;;;;;0DAEd,8OAAC;gDACC,WAAU;gDACV,MAAK;gDACL,GAAE;;;;;;;;;;;;kDAGN,8OAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;+BAIV,KAAK,MAAM,KAAK,kBAClB,8OAAC;kCACC,cAAA,8OAAC;4BAAG,SAAS,QAAQ,MAAM;4BAAE,WAAU;sCACpC;;;;;;;;;;+BAIL,KAAK,GAAG,CAAC,CAAC,KAAK,yBACb,8OAAC;4BAEC,WAAW,CAAC;kBACV,EAAE,WAAW,WAAW,MAAM,IAAI,qCAAqC,GAAG;kBAC1E,EAAE,YAAY,4DAA4D,GAAG;kBAC7E,EAAE,aAAa,mBAAmB,GAAG;kBACrC,EAAE,aAAa,KAAK,MAAM,GAAG,IAAI,oDAAoD,GAAG;gBAC1F,CAAC;4BACD,SAAS,IAAM,aAAa,KAAK;4BACjC,MAAM,aAAa,WAAW;4BAC9B,UAAU,aAAa,IAAI;4BAC3B,WACE,aACI,CAAC;gCACC,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK;oCACtC,EAAE,cAAc;oCAChB,WAAW,KAAK;gCAClB;4BACF,IACA;sCAGL,QAAQ,GAAG,CAAC,CAAC,QAAQ,yBACpB,8OAAC;oCAEC,WAAW,CAAC,UAAU,EACpB,OAAO,KAAK,KAAK,WACb,gBACA,OAAO,KAAK,KAAK,UACjB,eACA,aACJ;8CAED,OAAO,QAAQ,CAAC;mCATZ;;;;;2BAvBJ,aAAa,KAAK;;;;;;;;;;;;;;;;;;;;;AA0CvC;uCAEe"}},
    {"offset": {"line": 1901, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/AppShell.tsx"],"sourcesContent":["'use client'\n\nimport { type ReactNode } from 'react'\nimport Link from 'next/link'\nimport { spacing } from '@/lib/design-tokens'\n\nexport interface AppShellProps {\n  /** Application title displayed in header */\n  appTitle?: string\n  /** Subtitle or area name */\n  subtitle?: string\n  /** User email or identifier */\n  userEmail?: string\n  /** Sign out handler */\n  onSignOut?: () => void\n  /** Navigation items */\n  navItems?: Array<{\n    href: string\n    label: string\n    active?: boolean\n  }>\n  /** Main content */\n  children: ReactNode\n  /** Optional footer content */\n  footerContent?: ReactNode\n}\n\n/**\n * AppShell Component\n * \n * A consistent layout shell for authenticated areas (Clinician, Admin, Patient).\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Consistent header with branding and user info\n * - Optional navigation bar\n * - Main content area with proper spacing\n * - Footer section\n * - Responsive design\n * \n * @example\n * <AppShell\n *   appTitle=\"Rhythmologicum Connect\"\n *   subtitle=\"Clinician Dashboard\"\n *   userEmail=\"doctor@example.com\"\n *   onSignOut={handleSignOut}\n *   navItems={[\n *     { href: '/clinician', label: 'Dashboard', active: true },\n *     { href: '/clinician/funnels', label: 'Funnels' },\n *   ]}\n * >\n *   <PageContent />\n * </AppShell>\n */\nexport function AppShell({\n  appTitle = 'Rhythmologicum Connect',\n  subtitle,\n  userEmail,\n  onSignOut,\n  navItems = [],\n  children,\n  footerContent,\n}: AppShellProps) {\n  const currentYear = new Date().getFullYear()\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col transition-colors duration-150\">\n      {/* Header */}\n      <header className=\"border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-sm transition-colors duration-150\">\n        <div\n          className=\"max-w-7xl mx-auto px-4 sm:px-6 py-4 md:py-5\"\n          style={{ paddingLeft: spacing.lg, paddingRight: spacing.lg }}\n        >\n          <div className=\"flex items-center justify-between gap-4\">\n            <div>\n              <p className=\"text-xs sm:text-sm font-semibold uppercase tracking-wide text-sky-600 dark:text-sky-400\">\n                {appTitle}\n              </p>\n              {subtitle && (\n                <p className=\"text-sm md:text-base font-medium text-slate-900 dark:text-slate-100 mt-0.5\">\n                  {subtitle}\n                </p>\n              )}\n            </div>\n            <div className=\"flex items-center gap-3 md:gap-4\">\n              {userEmail && (\n                <span className=\"text-xs sm:text-sm text-slate-600 dark:text-slate-300 hidden sm:inline\">\n                  {userEmail}\n                </span>\n              )}\n              {onSignOut && (\n                <button\n                  onClick={onSignOut}\n                  className=\"px-4 py-2.5 min-h-[44px] text-sm font-medium rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-slate-100 transition-all duration-200 touch-manipulation\"\n                >\n                  Abmelden\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Navigation */}\n      {navItems.length > 0 && (\n        <nav className=\"border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-sm transition-colors duration-150\">\n          <div\n            className=\"max-w-7xl mx-auto px-4 sm:px-6\"\n            style={{ paddingLeft: spacing.lg, paddingRight: spacing.lg }}\n          >\n            <div className=\"flex gap-1 overflow-x-auto\">\n              {navItems.map((item) => (\n                <Link\n                  key={item.href}\n                  href={item.href}\n                  className={`\n                    px-4 py-3 text-sm font-medium\n                    transition-all duration-200\n                    border-b-2\n                    whitespace-nowrap\n                    ${\n                      item.active\n                        ? 'text-sky-600 dark:text-sky-400 border-sky-600 dark:border-sky-400'\n                        : 'text-slate-600 dark:text-slate-300 border-transparent hover:text-slate-900 dark:hover:text-slate-100 hover:bg-slate-50 dark:hover:bg-slate-700 hover:border-slate-300 dark:hover:border-slate-600'\n                    }\n                  `}\n                >\n                  {item.label}\n                </Link>\n              ))}\n            </div>\n          </div>\n        </nav>\n      )}\n\n      {/* Main Content */}\n      <main className=\"flex-1\" style={{ padding: spacing.lg }}>\n        <div className=\"max-w-7xl mx-auto\">{children}</div>\n      </main>\n\n      {/* Footer */}\n      <footer className=\"border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 mt-auto transition-colors duration-150\">\n        <div\n          className=\"max-w-7xl mx-auto px-4 sm:px-6 py-4 md:py-5\"\n          style={{ paddingLeft: spacing.lg, paddingRight: spacing.lg }}\n        >\n          {footerContent ? (\n            footerContent\n          ) : (\n            <div className=\"flex flex-col sm:flex-row items-center justify-between gap-2\">\n              <div className=\"flex flex-col sm:flex-row items-center gap-2 sm:gap-3\">\n                <p className=\"text-[11px] sm:text-xs text-slate-500 text-center sm:text-left\">\n                  {appTitle} ‚Äì Fr√ºhe Testversion, nicht f√ºr den klinischen Einsatz.\n                </p>\n                <Link\n                  href=\"/datenschutz\"\n                  className=\"text-[11px] sm:text-xs text-sky-600 hover:text-sky-700 font-medium transition-colors\"\n                >\n                  Datenschutz\n                </Link>\n              </div>\n              <p className=\"text-[11px] sm:text-xs text-slate-400\">¬© {currentYear} Rhythmologicum</p>\n            </div>\n          )}\n        </div>\n      </footer>\n    </div>\n  )\n}\n\nexport default AppShell\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AAAA;AAJA;;;;AAsDO,SAAS,SAAS,EACvB,WAAW,wBAAwB,EACnC,QAAQ,EACR,SAAS,EACT,SAAS,EACT,WAAW,EAAE,EACb,QAAQ,EACR,aAAa,EACC;IACd,MAAM,cAAc,IAAI,OAAO,WAAW;IAE1C,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,aAAa,kIAAO,CAAC,EAAE;wBAAE,cAAc,kIAAO,CAAC,EAAE;oBAAC;8BAE3D,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDACV;;;;;;oCAEF,0BACC,8OAAC;wCAAE,WAAU;kDACV;;;;;;;;;;;;0CAIP,8OAAC;gCAAI,WAAU;;oCACZ,2BACC,8OAAC;wCAAK,WAAU;kDACb;;;;;;oCAGJ,2BACC,8OAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAUV,SAAS,MAAM,GAAG,mBACjB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,aAAa,kIAAO,CAAC,EAAE;wBAAE,cAAc,kIAAO,CAAC,EAAE;oBAAC;8BAE3D,cAAA,8OAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAC,qBACb,8OAAC,uKAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WAAW,CAAC;;;;;oBAKV,EACE,KAAK,MAAM,GACP,sEACA,oMACL;kBACH,CAAC;0CAEA,KAAK,KAAK;+BAdN,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;0BAuB1B,8OAAC;gBAAK,WAAU;gBAAS,OAAO;oBAAE,SAAS,kIAAO,CAAC,EAAE;gBAAC;0BACpD,cAAA,8OAAC;oBAAI,WAAU;8BAAqB;;;;;;;;;;;0BAItC,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,aAAa,kIAAO,CAAC,EAAE;wBAAE,cAAc,kIAAO,CAAC,EAAE;oBAAC;8BAE1D,gBACC,8BAEA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;;4CACV;4CAAS;;;;;;;kDAEZ,8OAAC,uKAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;0CAIH,8OAAC;gCAAE,WAAU;;oCAAwC;oCAAG;oCAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlF;uCAEe"}},
    {"offset": {"line": 2135, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/HelperText.tsx"],"sourcesContent":["import { type HTMLAttributes } from 'react'\nimport { spacing, typography } from '@/lib/design-tokens'\n\nexport interface HelperTextProps extends HTMLAttributes<HTMLParagraphElement> {\n  /** Size variant */\n  size?: 'sm' | 'md'\n  /** Optional ID for aria-describedby */\n  id?: string\n}\n\n/**\n * HelperText Component\n * \n * A styled helper text component for providing additional context to form fields.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Consistent styling with form components\n * - Two size variants\n * - Accessible with proper ARIA support\n * \n * @example\n * <Label htmlFor=\"email\">Email Address</Label>\n * <Input id=\"email\" type=\"email\" aria-describedby=\"email-helper\" />\n * <HelperText id=\"email-helper\">\n *   We'll never share your email with anyone else.\n * </HelperText>\n */\nexport function HelperText({\n  size = 'sm',\n  className = '',\n  children,\n  ...props\n}: HelperTextProps) {\n  const sizeConfig = {\n    sm: typography.fontSize.sm,\n    md: typography.fontSize.base,\n  }\n\n  return (\n    <p\n      className={`text-slate-500 dark:text-slate-400 ${className}`}\n      style={{\n        fontSize: sizeConfig[size],\n        marginTop: spacing.xs,\n        marginLeft: spacing.xs,\n      }}\n      {...props}\n    >\n      {children}\n    </p>\n  )\n}\n\nexport default HelperText\n"],"names":[],"mappings":";;;;;;;AACA;AAAA;;;AA2BO,SAAS,WAAW,EACzB,OAAO,IAAI,EACX,YAAY,EAAE,EACd,QAAQ,EACR,GAAG,OACa;IAChB,MAAM,aAAa;QACjB,IAAI,qIAAU,CAAC,QAAQ,CAAC,EAAE;QAC1B,IAAI,qIAAU,CAAC,QAAQ,CAAC,IAAI;IAC9B;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,mCAAmC,EAAE,WAAW;QAC5D,OAAO;YACL,UAAU,UAAU,CAAC,KAAK;YAC1B,WAAW,kIAAO,CAAC,EAAE;YACrB,YAAY,kIAAO,CAAC,EAAE;QACxB;QACC,GAAG,KAAK;kBAER;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 2171, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/ErrorText.tsx"],"sourcesContent":["import { type HTMLAttributes } from 'react'\nimport { spacing, typography } from '@/lib/design-tokens'\n\nexport interface ErrorTextProps extends HTMLAttributes<HTMLParagraphElement> {\n  /** Size variant */\n  size?: 'sm' | 'md'\n  /** Optional ID for aria-describedby */\n  id?: string\n}\n\n/**\n * ErrorText Component\n * \n * A styled error message component for displaying validation errors.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Consistent error styling across the application\n * - Two size variants\n * - Accessible with proper ARIA support\n * - Red color for clear error indication\n * \n * @example\n * <Label htmlFor=\"password\" required>Password</Label>\n * <Input\n *   id=\"password\"\n *   type=\"password\"\n *   error\n *   aria-invalid=\"true\"\n *   aria-describedby=\"password-error\"\n * />\n * <ErrorText id=\"password-error\">\n *   Password must be at least 8 characters long.\n * </ErrorText>\n */\nexport function ErrorText({\n  size = 'sm',\n  className = '',\n  children,\n  ...props\n}: ErrorTextProps) {\n  const sizeConfig = {\n    sm: typography.fontSize.sm,\n    md: typography.fontSize.base,\n  }\n\n  return (\n    <p\n      className={`text-red-600 dark:text-red-400 ${className}`}\n      role=\"alert\"\n      style={{\n        fontSize: sizeConfig[size],\n        marginTop: spacing.xs,\n        marginLeft: spacing.xs,\n      }}\n      {...props}\n    >\n      {children}\n    </p>\n  )\n}\n\nexport default ErrorText\n"],"names":[],"mappings":";;;;;;;AACA;AAAA;;;AAkCO,SAAS,UAAU,EACxB,OAAO,IAAI,EACX,YAAY,EAAE,EACd,QAAQ,EACR,GAAG,OACY;IACf,MAAM,aAAa;QACjB,IAAI,qIAAU,CAAC,QAAQ,CAAC,EAAE;QAC1B,IAAI,qIAAU,CAAC,QAAQ,CAAC,IAAI;IAC9B;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,+BAA+B,EAAE,WAAW;QACxD,MAAK;QACL,OAAO;YACL,UAAU,UAAU,CAAC,KAAK;YAC1B,WAAW,kIAAO,CAAC,EAAE;YACrB,YAAY,kIAAO,CAAC,EAAE;QACxB;QACC,GAAG,KAAK;kBAER;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 2208, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/Progress.tsx"],"sourcesContent":["import { type HTMLAttributes } from 'react'\nimport { componentTokens, colors, typography } from '@/lib/design-tokens'\n\nexport interface ProgressProps extends HTMLAttributes<HTMLDivElement> {\n  /** Current progress value (0-100) */\n  value: number\n  /** Whether to show the percentage text */\n  showPercentage?: boolean\n  /** Whether to show the \"Step X of Y\" text */\n  showStepText?: boolean\n  /** Current step number (1-based) */\n  currentStep?: number\n  /** Total number of steps */\n  totalSteps?: number\n  /** Custom color for the progress bar (defaults to primary sky-500) */\n  color?: string\n  /** Variant style: 'bar' for horizontal bar, 'steps' for step indicators */\n  variant?: 'bar' | 'steps'\n  /** Size variant */\n  size?: 'sm' | 'md' | 'lg'\n}\n\n/**\n * Progress Component\n * \n * A versatile progress indicator component for showing completion status.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Two variants: horizontal bar or step indicators\n * - Optional step text and percentage display\n * - Smooth animations using design token motion values\n * - Theme-aware colors\n * - Accessible with proper ARIA attributes\n * - Touch-optimized\n * \n * @example\n * // Basic progress bar\n * <Progress value={60} />\n * \n * @example\n * // With step indicators\n * <Progress\n *   value={50}\n *   currentStep={2}\n *   totalSteps={4}\n *   variant=\"steps\"\n * />\n * \n * @example\n * // Assessment progress\n * <Progress\n *   value={33}\n *   currentStep={2}\n *   totalSteps={6}\n *   showStepText\n *   showPercentage\n * />\n */\nexport function Progress({\n  value,\n  showPercentage = true,\n  showStepText = true,\n  currentStep,\n  totalSteps,\n  color = colors.primary[500],\n  variant = 'bar',\n  size = 'md',\n  className = '',\n  ...props\n}: ProgressProps) {\n  const progressTokens = componentTokens.progressBar\n\n  // Size configurations\n  const sizeConfig = {\n    sm: {\n      height: '0.375rem', // 6px\n      fontSize: typography.fontSize.xs,\n    },\n    md: {\n      height: progressTokens.height, // 0.5rem (8px)\n      fontSize: typography.fontSize.sm,\n    },\n    lg: {\n      height: '0.75rem', // 12px\n      fontSize: typography.fontSize.base,\n    },\n  }\n\n  const config = sizeConfig[size]\n\n  // Clamp value between 0-100\n  const clampedValue = Math.min(Math.max(value, 0), 100)\n\n  // Calculate step display text\n  const stepText =\n    currentStep && totalSteps\n      ? `Schritt ${currentStep} von ${totalSteps}`\n      : showStepText && totalSteps\n        ? `Frage ${Math.ceil((clampedValue / 100) * totalSteps)} von ${totalSteps}`\n        : null\n\n  if (variant === 'steps' && totalSteps) {\n    // Step indicator variant\n    const currentStepIndex = currentStep ? currentStep - 1 : Math.floor((clampedValue / 100) * totalSteps)\n\n    return (\n      <div className={className} {...props}>\n        {(showStepText || showPercentage) && (\n          <div\n            className=\"flex items-center justify-between text-slate-700 mb-2\"\n            style={{ fontSize: config.fontSize }}\n          >\n            {stepText && <span className=\"font-medium\">{stepText}</span>}\n            {showPercentage && (\n              <span className=\"text-slate-500\" style={{ fontSize: typography.fontSize.xs }}>\n                {Math.round(clampedValue)}%\n              </span>\n            )}\n          </div>\n        )}\n        <div className=\"flex gap-2\">\n          {Array.from({ length: totalSteps }, (_, i) => {\n            const isCompleted = i < currentStepIndex\n            const isCurrent = i === currentStepIndex\n            const isPending = i > currentStepIndex\n\n            return (\n              <div\n                key={i}\n                className=\"flex-1 overflow-hidden\"\n                style={{\n                  height: config.height,\n                  borderRadius: progressTokens.borderRadius,\n                  backgroundColor: isPending ? colors.neutral[200] : color,\n                  opacity: isCompleted ? 1 : isCurrent ? 0.8 : 0.3,\n                  transition: progressTokens.transition,\n                }}\n                aria-label={`Schritt ${i + 1}${isCompleted ? ' abgeschlossen' : isCurrent ? ' aktuell' : ''}`}\n              />\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n\n  // Bar variant (default)\n  return (\n    <div className={className} {...props}>\n      {(showStepText || showPercentage) && (\n        <div\n          className=\"flex items-center justify-between text-slate-700 mb-2\"\n          style={{ fontSize: config.fontSize }}\n        >\n          {stepText && <span className=\"font-medium\">{stepText}</span>}\n          {showPercentage && (\n            <span className=\"text-slate-500\" style={{ fontSize: typography.fontSize.xs }}>\n              {Math.round(clampedValue)}%\n            </span>\n          )}\n        </div>\n      )}\n      <div\n        className=\"w-full bg-slate-200 overflow-hidden\"\n        style={{\n          height: config.height,\n          borderRadius: progressTokens.borderRadius,\n        }}\n        role=\"progressbar\"\n        aria-valuenow={clampedValue}\n        aria-valuemin={0}\n        aria-valuemax={100}\n        aria-label={`Fortschritt: ${Math.round(clampedValue)}%`}\n      >\n        <div\n          style={{\n            width: `${clampedValue}%`,\n            height: config.height,\n            borderRadius: progressTokens.borderRadius,\n            backgroundColor: color,\n            transition: progressTokens.transition,\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Progress\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2398, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/ThemeToggle.tsx"],"sourcesContent":["'use client'\n\nimport { Sun, Moon } from 'lucide-react'\nimport { useTheme } from '@/lib/contexts/ThemeContext'\nimport { motion } from 'framer-motion'\n\ninterface ThemeToggleProps {\n  /** Size variant */\n  size?: 'sm' | 'md' | 'lg'\n  /** Show label next to icon */\n  showLabel?: boolean\n  /** Custom className */\n  className?: string\n}\n\n/**\n * ThemeToggle Component\n * \n * Toggles between light and dark mode with smooth animation.\n * Works on both desktop and mobile.\n * \n * Features:\n * - Sun/Moon icon toggle\n * - Smooth fade transition (150ms)\n * - localStorage persistence via ThemeContext\n * - Touch-optimized for mobile\n * - Optional label display\n * \n * @example\n * // Simple toggle\n * <ThemeToggle />\n * \n * @example\n * // With label\n * <ThemeToggle showLabel size=\"lg\" />\n */\nexport function ThemeToggle({ \n  size = 'md', \n  showLabel = false,\n  className = '' \n}: ThemeToggleProps) {\n  const themeContext = useTheme()\n  const theme = themeContext?.theme || 'light'\n  const toggleTheme = themeContext?.toggleTheme || (() => {})\n  \n  const sizeClasses = {\n    sm: 'p-1.5 min-h-[36px] min-w-[36px]',\n    md: 'p-2 min-h-[44px] min-w-[44px]',\n    lg: 'p-2.5 min-h-[48px] min-w-[48px]',\n  }\n  \n  const iconSizes = {\n    sm: 'w-4 h-4',\n    md: 'w-5 h-5',\n    lg: 'w-6 h-6',\n  }\n  \n  const isDark = theme === 'dark'\n  \n  return (\n    <button\n      onClick={toggleTheme}\n      className={`\n        ${sizeClasses[size]}\n        inline-flex items-center justify-center gap-2\n        rounded-lg\n        bg-slate-100 dark:bg-slate-800\n        text-slate-700 dark:text-slate-200\n        hover:bg-slate-200 dark:hover:bg-slate-700\n        active:bg-slate-300 dark:active:bg-slate-600\n        transition-all duration-150 ease-in-out\n        touch-manipulation\n        ${className}\n      `}\n      aria-label={isDark ? 'Switch to light mode' : 'Switch to dark mode'}\n      title={isDark ? 'Light Mode' : 'Dark Mode'}\n    >\n      <motion.div\n        initial={false}\n        animate={{ \n          scale: [0.8, 1.1, 1],\n          rotate: isDark ? 0 : 180,\n        }}\n        transition={{ duration: 0.15 }}\n        className=\"flex items-center\"\n      >\n        {isDark ? (\n          <Moon className={iconSizes[size]} />\n        ) : (\n          <Sun className={iconSizes[size]} />\n        )}\n      </motion.div>\n      {showLabel && (\n        <span className=\"text-sm font-medium whitespace-nowrap\">\n          {isDark ? 'Dark' : 'Light'}\n        </span>\n      )}\n    </button>\n  )\n}\n\nexport default ThemeToggle\n"],"names":[],"mappings":";;;;;;;AAEA;AAAA;AACA;AACA;AAJA;;;;;AAoCO,SAAS,YAAY,EAC1B,OAAO,IAAI,EACX,YAAY,KAAK,EACjB,YAAY,EAAE,EACG;IACjB,MAAM,eAAe,IAAA,4IAAQ;IAC7B,MAAM,QAAQ,cAAc,SAAS;IACrC,MAAM,cAAc,cAAc,eAAe,CAAC,KAAO,CAAC;IAE1D,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,YAAY;QAChB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,SAAS,UAAU;IAEzB,qBACE,8OAAC;QACC,SAAS;QACT,WAAW,CAAC;QACV,EAAE,WAAW,CAAC,KAAK,CAAC;;;;;;;;;QASpB,EAAE,UAAU;MACd,CAAC;QACD,cAAY,SAAS,yBAAyB;QAC9C,OAAO,SAAS,eAAe;;0BAE/B,8OAAC,oMAAM,CAAC,GAAG;gBACT,SAAS;gBACT,SAAS;oBACP,OAAO;wBAAC;wBAAK;wBAAK;qBAAE;oBACpB,QAAQ,SAAS,IAAI;gBACvB;gBACA,YAAY;oBAAE,UAAU;gBAAK;gBAC7B,WAAU;0BAET,uBACC,8OAAC,0MAAI;oBAAC,WAAW,SAAS,CAAC,KAAK;;;;;yCAEhC,8OAAC,uMAAG;oBAAC,WAAW,SAAS,CAAC,KAAK;;;;;;;;;;;YAGlC,2BACC,8OAAC;gBAAK,WAAU;0BACb,SAAS,SAAS;;;;;;;;;;;;AAK7B;uCAEe"}},
    {"offset": {"line": 2498, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/DesktopLayout.tsx"],"sourcesContent":["'use client'\n\nimport { type ReactNode, useState } from 'react'\nimport Link from 'next/link'\nimport { usePathname } from 'next/navigation'\nimport { \n  LayoutDashboard, \n  Workflow, \n  FileText, \n  ChevronLeft,\n  LogOut,\n  User\n} from 'lucide-react'\nimport { ThemeToggle } from './ThemeToggle'\nimport { layout } from '@/lib/design-tokens'\n\nexport interface NavItem {\n  href: string\n  label: string\n  icon?: ReactNode\n  active?: boolean\n}\n\nexport interface DesktopLayoutProps {\n  /** Application title */\n  appTitle?: string\n  /** User email or identifier */\n  userEmail?: string\n  /** Sign out handler */\n  onSignOut?: () => void\n  /** Navigation items */\n  navItems?: NavItem[]\n  /** Main content */\n  children: ReactNode\n}\n\n/**\n * DesktopLayout Component\n * \n * Modern desktop layout for clinician dashboard with:\n * - Collapsible sidebar navigation\n * - Topbar with title and user menu\n * - Responsive design (1024px+)\n * - Active state indication\n * \n * @example\n * <DesktopLayout\n *   appTitle=\"Rhythmologicum Connect\"\n *   userEmail=\"doctor@example.com\"\n *   onSignOut={handleSignOut}\n *   navItems={navItems}\n * >\n *   <PageContent />\n * </DesktopLayout>\n */\nexport function DesktopLayout({\n  appTitle = 'Rhythmologicum Connect',\n  userEmail,\n  onSignOut,\n  navItems = [],\n  children,\n}: DesktopLayoutProps) {\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false)\n  const pathname = usePathname()\n\n  // Icon mapping for common routes\n  const getDefaultIcon = (href: string) => {\n    if (href === '/clinician' || href.endsWith('dashboard')) {\n      return <LayoutDashboard className=\"w-5 h-5\" />\n    }\n    if (href.includes('funnel')) {\n      return <Workflow className=\"w-5 h-5\" />\n    }\n    if (href.includes('content')) {\n      return <FileText className=\"w-5 h-5\" />\n    }\n    return <FileText className=\"w-5 h-5\" />\n  }\n\n  // Determine active state if not explicitly set\n  const getNavItems = () => {\n    return navItems.map(item => ({\n      ...item,\n      active: item.active !== undefined \n        ? item.active \n        : pathname === item.href || (item.href !== '/clinician' && pathname?.startsWith(item.href)),\n      icon: item.icon || getDefaultIcon(item.href)\n    }))\n  }\n\n  const processedNavItems = getNavItems()\n\n  return (\n    <div className=\"min-h-screen bg-[#f7f9fa] dark:bg-slate-900 flex transition-colors duration-150\">\n      {/* Desktop Sidebar */}\n      <aside\n        className={`\n          fixed left-0 top-0 bottom-0 z-40 h-dvh bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700\n          hidden lg:flex flex-col shrink-0\n          transition-all duration-300 ease-in-out\n          ${sidebarCollapsed ? 'w-16' : 'w-64'}\n        `}\n      >\n        {/* Sidebar Header */}\n        <div className=\"h-16 flex items-center justify-between px-4 border-b border-slate-200 dark:border-slate-700\">\n          {!sidebarCollapsed && (\n            <div className=\"flex-1 min-w-0\">\n              <h1 className=\"text-sm font-semibold text-slate-900 dark:text-slate-100 truncate\">\n                {appTitle}\n              </h1>\n              <p className=\"text-xs text-slate-500 dark:text-slate-400 truncate\">Clinician</p>\n            </div>\n          )}\n          <button\n            onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n            className=\"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors shrink-0\"\n            aria-label={sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}\n          >\n            <ChevronLeft \n              className={`w-5 h-5 text-slate-600 dark:text-slate-300 transition-transform duration-300 ${\n                sidebarCollapsed ? 'rotate-180' : ''\n              }`}\n            />\n          </button>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"flex-1 overflow-y-auto py-4\">\n          <ul className=\"space-y-1 px-2\">\n            {processedNavItems.map((item) => (\n              <li key={item.href}>\n                <Link\n                  href={item.href}\n                  className={`\n                    flex items-center gap-3 px-3 py-2.5 rounded-lg\n                    transition-all duration-200\n                    ${\n                      item.active\n                        ? 'bg-sky-50 dark:bg-sky-900/30 text-sky-700 dark:text-sky-400 font-medium'\n                        : 'text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-slate-100'\n                    }\n                    ${sidebarCollapsed ? 'justify-center' : ''}\n                  `}\n                  title={sidebarCollapsed ? item.label : undefined}\n                >\n                  <span className={item.active ? 'text-sky-600' : 'text-slate-500'}>\n                    {item.icon}\n                  </span>\n                  {!sidebarCollapsed && (\n                    <span className=\"flex-1 text-sm\">{item.label}</span>\n                  )}\n                  {!sidebarCollapsed && item.active && (\n                    <div className=\"w-1.5 h-1.5 rounded-full bg-sky-600 dark:bg-sky-400\" />\n                  )}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </nav>\n\n        {/* User Section */}\n        {userEmail && (\n          <div className=\"border-t border-slate-200 dark:border-slate-700 p-4 space-y-3\">\n            <div\n              className={`flex items-center gap-3 ${\n                sidebarCollapsed ? 'justify-center' : ''\n              }`}\n            >\n              <div className=\"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center shrink-0\">\n                <User className=\"w-4 h-4 text-slate-600 dark:text-slate-300\" />\n              </div>\n              {!sidebarCollapsed && (\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-medium text-slate-900 dark:text-slate-100 truncate\">\n                    {userEmail.split('@')[0]}\n                  </p>\n                  <p className=\"text-xs text-slate-500 dark:text-slate-400 truncate\">{userEmail}</p>\n                </div>\n              )}\n            </div>\n            {!sidebarCollapsed && (\n              <div className=\"flex items-center gap-2\">\n                <ThemeToggle size=\"sm\" showLabel />\n              </div>\n            )}\n            {onSignOut && !sidebarCollapsed && (\n              <button\n                onClick={onSignOut}\n                className=\"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n              >\n                <LogOut className=\"w-4 h-4\" />\n                <span>Abmelden</span>\n              </button>\n            )}\n            {sidebarCollapsed && (\n              <div className=\"flex justify-center\">\n                <ThemeToggle size=\"sm\" />\n              </div>\n            )}\n          </div>\n        )}\n      </aside>\n\n      {/* Mobile Menu (hidden for now) */}\n\n      {/* Main Content Area */}\n      <div\n        className={`\n          flex-1 min-w-0\n          transition-all duration-300 ease-in-out\n          ${sidebarCollapsed ? 'lg:ml-16' : 'lg:ml-64'}\n          min-h-dvh\n        `}\n      >\n        {/* Topbar */}\n        <header className=\"sticky top-0 z-30 h-16 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 flex items-center px-4 lg:px-8 transition-colors duration-150\">\n          <div className=\"flex items-center justify-between w-full\">\n            {/* Page title will be rendered by individual pages */}\n            <h2 className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">\n              {processedNavItems.find(item => item.active)?.label || 'Dashboard'}\n            </h2>\n          </div>\n        </header>\n\n        {/* Page Content */}\n        <main className=\"p-4 lg:p-8 w-full\">\n          <div className=\"w-full mx-auto\" style={{ maxWidth: layout.contentMaxWidth }}>\n            {children}\n          </div>\n        </main>\n      </div>\n    </div>\n  )\n}\n\nexport default DesktopLayout\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2876, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/Tabs.tsx"],"sourcesContent":["/**\n * Tabs Component\n * \n * A tabbed navigation component for organizing content into separate views.\n * Part of the V0.4 Design System.\n * \n * @example\n * ```tsx\n * <Tabs defaultTab=\"overview\">\n *   <TabsList>\n *     <TabTrigger value=\"overview\">Overview</TabTrigger>\n *     <TabTrigger value=\"history\">History</TabTrigger>\n *   </TabsList>\n *   <TabContent value=\"overview\">\n *     <p>Overview content</p>\n *   </TabContent>\n *   <TabContent value=\"history\">\n *     <p>History content</p>\n *   </TabContent>\n * </Tabs>\n * ```\n */\n\nimport { createContext, useContext, useState, type ReactNode } from 'react'\n\ntype TabsContextType = {\n  activeTab: string\n  setActiveTab: (value: string) => void\n}\n\nconst TabsContext = createContext<TabsContextType | undefined>(undefined)\n\nfunction useTabsContext() {\n  const context = useContext(TabsContext)\n  if (!context) {\n    throw new Error('Tabs components must be used within a Tabs provider')\n  }\n  return context\n}\n\nexport interface TabsProps {\n  /** Default active tab value */\n  defaultTab: string\n  /** Children components (TabsList, TabContent) */\n  children: ReactNode\n  /** Additional CSS classes */\n  className?: string\n}\n\n/**\n * Tabs container component\n */\nexport function Tabs({ defaultTab, children, className = '' }: TabsProps) {\n  const [activeTab, setActiveTab] = useState(defaultTab)\n\n  return (\n    <TabsContext.Provider value={{ activeTab, setActiveTab }}>\n      <div className={`w-full ${className}`}>{children}</div>\n    </TabsContext.Provider>\n  )\n}\n\nexport interface TabsListProps {\n  /** Tab trigger buttons */\n  children: ReactNode\n  /** Additional CSS classes */\n  className?: string\n}\n\n/**\n * Container for tab trigger buttons\n */\nexport function TabsList({ children, className = '' }: TabsListProps) {\n  return (\n    <div\n      className={`flex border-b border-slate-200 gap-1 overflow-x-auto ${className}`}\n      role=\"tablist\"\n    >\n      {children}\n    </div>\n  )\n}\n\nexport interface TabTriggerProps {\n  /** Tab identifier (must match TabContent value) */\n  value: string\n  /** Tab label text */\n  children: ReactNode\n  /** Additional CSS classes */\n  className?: string\n}\n\n/**\n * Individual tab trigger button\n */\nexport function TabTrigger({ value, children, className = '' }: TabTriggerProps) {\n  const { activeTab, setActiveTab } = useTabsContext()\n  const isActive = activeTab === value\n\n  return (\n    <button\n      type=\"button\"\n      role=\"tab\"\n      aria-selected={isActive}\n      onClick={() => setActiveTab(value)}\n      className={`\n        px-4 py-3 text-sm md:text-base font-medium\n        border-b-2 transition-all duration-200\n        whitespace-nowrap touch-manipulation min-h-[44px]\n        ${\n          isActive\n            ? 'border-sky-600 text-sky-600'\n            : 'border-transparent text-slate-600 hover:text-slate-900 hover:border-slate-300'\n        }\n        focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2\n        ${className}\n      `}\n    >\n      {children}\n    </button>\n  )\n}\n\nexport interface TabContentProps {\n  /** Tab identifier (must match TabTrigger value) */\n  value: string\n  /** Content to display when tab is active */\n  children: ReactNode\n  /** Additional CSS classes */\n  className?: string\n}\n\n/**\n * Tab content panel\n */\nexport function TabContent({ value, children, className = '' }: TabContentProps) {\n  const { activeTab } = useTabsContext()\n\n  if (activeTab !== value) {\n    return null\n  }\n\n  return (\n    <div role=\"tabpanel\" className={`py-6 ${className}`}>\n      {children}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;CAqBC,GAED;;;AAOA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAE/D,SAAS;IACP,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAcO,SAAS,KAAK,EAAE,UAAU,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAa;IACtE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAW;QAAa;kBACrD,cAAA,8OAAC;YAAI,WAAW,CAAC,OAAO,EAAE,WAAW;sBAAG;;;;;;;;;;;AAG9C;AAYO,SAAS,SAAS,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAiB;IAClE,qBACE,8OAAC;QACC,WAAW,CAAC,qDAAqD,EAAE,WAAW;QAC9E,MAAK;kBAEJ;;;;;;AAGP;AAcO,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAmB;IAC7E,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,GAAG;IACpC,MAAM,WAAW,cAAc;IAE/B,qBACE,8OAAC;QACC,MAAK;QACL,MAAK;QACL,iBAAe;QACf,SAAS,IAAM,aAAa;QAC5B,WAAW,CAAC;;;;QAIV,EACE,WACI,gCACA,gFACL;;QAED,EAAE,UAAU;MACd,CAAC;kBAEA;;;;;;AAGP;AAcO,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAmB;IAC7E,MAAM,EAAE,SAAS,EAAE,GAAG;IAEtB,IAAI,cAAc,OAAO;QACvB,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,MAAK;QAAW,WAAW,CAAC,KAAK,EAAE,WAAW;kBAChD;;;;;;AAGP"}},
    {"offset": {"line": 2993, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/LoadingSpinner.tsx"],"sourcesContent":["import { type HTMLAttributes } from 'react'\n\nexport type LoadingSpinnerSize = 'sm' | 'md' | 'lg' | 'xl'\n\nexport interface LoadingSpinnerProps extends HTMLAttributes<HTMLDivElement> {\n  /** Size of the spinner */\n  size?: LoadingSpinnerSize\n  /** Optional text to display below spinner */\n  text?: string\n  /** Whether to center the spinner in container */\n  centered?: boolean\n}\n\n/**\n * LoadingSpinner Component\n * \n * A styled loading spinner component for indicating loading states.\n * Part of the V0.4 Design System - E6 Technical Cleanup.\n * \n * Features:\n * - Four size variants (sm, md, lg, xl)\n * - Optional loading text\n * - Can be centered in container\n * - Accessible with proper ARIA attributes\n * - Smooth animation\n * \n * @example\n * // Basic spinner\n * <LoadingSpinner />\n * \n * @example\n * // Large centered spinner with text\n * <LoadingSpinner size=\"lg\" text=\"Laden...\" centered />\n * \n * @example\n * // Small inline spinner\n * <LoadingSpinner size=\"sm\" />\n */\nexport function LoadingSpinner({\n  size = 'md',\n  text,\n  centered = false,\n  className = '',\n  ...props\n}: LoadingSpinnerProps) {\n  // Size configurations\n  const sizeConfig = {\n    sm: {\n      spinner: 'h-4 w-4',\n      text: 'text-xs',\n    },\n    md: {\n      spinner: 'h-8 w-8',\n      text: 'text-sm',\n    },\n    lg: {\n      spinner: 'h-12 w-12',\n      text: 'text-base',\n    },\n    xl: {\n      spinner: 'h-16 w-16',\n      text: 'text-lg',\n    },\n  }\n\n  const config = sizeConfig[size]\n\n  const containerClasses = `\n    ${centered ? 'flex flex-col items-center justify-center min-h-[200px]' : 'inline-flex flex-col items-center'}\n    ${className}\n  `\n\n  return (\n    <div className={containerClasses} role=\"status\" aria-live=\"polite\" {...props}>\n      <svg\n        className={`animate-spin text-sky-600 ${config.spinner}`}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        aria-hidden=\"true\"\n      >\n        <circle\n          className=\"opacity-25\"\n          cx=\"12\"\n          cy=\"12\"\n          r=\"10\"\n          stroke=\"currentColor\"\n          strokeWidth=\"4\"\n        />\n        <path\n          className=\"opacity-75\"\n          fill=\"currentColor\"\n          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n        />\n      </svg>\n      {text && (\n        <p className={`mt-3 text-slate-600 font-medium ${config.text}`}>\n          {text}\n        </p>\n      )}\n      <span className=\"sr-only\">{text || 'Laden...'}</span>\n    </div>\n  )\n}\n\nexport default LoadingSpinner\n"],"names":[],"mappings":";;;;;;;;AAsCO,SAAS,eAAe,EAC7B,OAAO,IAAI,EACX,IAAI,EACJ,WAAW,KAAK,EAChB,YAAY,EAAE,EACd,GAAG,OACiB;IACpB,sBAAsB;IACtB,MAAM,aAAa;QACjB,IAAI;YACF,SAAS;YACT,MAAM;QACR;QACA,IAAI;YACF,SAAS;YACT,MAAM;QACR;QACA,IAAI;YACF,SAAS;YACT,MAAM;QACR;QACA,IAAI;YACF,SAAS;YACT,MAAM;QACR;IACF;IAEA,MAAM,SAAS,UAAU,CAAC,KAAK;IAE/B,MAAM,mBAAmB,CAAC;IACxB,EAAE,WAAW,4DAA4D,oCAAoC;IAC7G,EAAE,UAAU;EACd,CAAC;IAED,qBACE,8OAAC;QAAI,WAAW;QAAkB,MAAK;QAAS,aAAU;QAAU,GAAG,KAAK;;0BAC1E,8OAAC;gBACC,WAAW,CAAC,0BAA0B,EAAE,OAAO,OAAO,EAAE;gBACxD,OAAM;gBACN,MAAK;gBACL,SAAQ;gBACR,eAAY;;kCAEZ,8OAAC;wBACC,WAAU;wBACV,IAAG;wBACH,IAAG;wBACH,GAAE;wBACF,QAAO;wBACP,aAAY;;;;;;kCAEd,8OAAC;wBACC,WAAU;wBACV,MAAK;wBACL,GAAE;;;;;;;;;;;;YAGL,sBACC,8OAAC;gBAAE,WAAW,CAAC,gCAAgC,EAAE,OAAO,IAAI,EAAE;0BAC3D;;;;;;0BAGL,8OAAC;gBAAK,WAAU;0BAAW,QAAQ;;;;;;;;;;;;AAGzC;uCAEe"}},
    {"offset": {"line": 3094, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/Modal.tsx"],"sourcesContent":["/**\n * Modal Component\n * \n * A dialog overlay component for displaying content above the main page.\n * Part of the V0.4 Design System.\n * \n * Features:\n * - Accessible with proper ARIA attributes and focus management\n * - Backdrop click and Escape key to close\n * - Optional header and footer sections\n * - Configurable sizes\n * - Uses semantic design tokens\n * - Smooth animations\n * - Body scroll lock when open\n * \n * @example\n * // Basic modal\n * <Modal isOpen={isOpen} onClose={handleClose} title=\"Confirm Action\">\n *   Are you sure you want to proceed?\n * </Modal>\n * \n * @example\n * // Modal with footer actions\n * <Modal\n *   isOpen={isOpen}\n *   onClose={handleClose}\n *   title=\"Delete Assessment\"\n *   footer={\n *     <>\n *       <Button variant=\"ghost\" onClick={handleClose}>Cancel</Button>\n *       <Button variant=\"destructive\" onClick={handleDelete}>Delete</Button>\n *     </>\n *   }\n * >\n *   This action cannot be undone.\n * </Modal>\n */\n\nimport { type ReactNode, useEffect, useRef } from 'react'\nimport { X } from 'lucide-react'\n\nexport type ModalSize = 'sm' | 'md' | 'lg' | 'xl'\n\nexport interface ModalProps {\n  /**\n   * Whether the modal is open\n   */\n  isOpen: boolean\n  \n  /**\n   * Callback when modal should close\n   */\n  onClose: () => void\n  \n  /**\n   * Optional modal title\n   */\n  title?: string\n  \n  /**\n   * Modal content\n   */\n  children: ReactNode\n  \n  /**\n   * Optional footer content (usually buttons)\n   */\n  footer?: ReactNode\n  \n  /**\n   * Size preset\n   * @default 'md'\n   */\n  size?: ModalSize\n  \n  /**\n   * Whether clicking the backdrop closes the modal\n   * @default true\n   */\n  closeOnBackdropClick?: boolean\n  \n  /**\n   * Whether pressing Escape closes the modal\n   * @default true\n   */\n  closeOnEscape?: boolean\n  \n  /**\n   * Additional CSS classes for the modal content\n   */\n  className?: string\n}\n\n/**\n * Modal dialog component\n */\nexport function Modal({\n  isOpen,\n  onClose,\n  title,\n  children,\n  footer,\n  size = 'md',\n  closeOnBackdropClick = true,\n  closeOnEscape = true,\n  className = '',\n}: ModalProps) {\n  const modalRef = useRef<HTMLDivElement>(null)\n  const previousActiveElement = useRef<HTMLElement | null>(null)\n\n  // Size configurations\n  const sizeConfig = {\n    sm: 'max-w-md',\n    md: 'max-w-lg',\n    lg: 'max-w-2xl',\n    xl: 'max-w-4xl',\n  }\n\n  // Handle escape key\n  useEffect(() => {\n    if (!isOpen || !closeOnEscape) return\n\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        onClose()\n      }\n    }\n\n    document.addEventListener('keydown', handleEscape)\n    return () => document.removeEventListener('keydown', handleEscape)\n  }, [isOpen, closeOnEscape, onClose])\n\n  // Handle focus trap and body scroll lock\n  useEffect(() => {\n    if (!isOpen) return\n\n    // Store the currently focused element\n    previousActiveElement.current = document.activeElement as HTMLElement\n\n    // Lock body scroll\n    const originalOverflow = document.body.style.overflow\n    document.body.style.overflow = 'hidden'\n\n    // Focus the modal\n    modalRef.current?.focus()\n\n    return () => {\n      // Restore body scroll\n      document.body.style.overflow = originalOverflow\n\n      // Restore focus to previous element\n      previousActiveElement.current?.focus()\n    }\n  }, [isOpen])\n\n  if (!isOpen) {\n    return null\n  }\n\n  const handleBackdropClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (closeOnBackdropClick && event.target === event.currentTarget) {\n      onClose()\n    }\n  }\n\n  return (\n    <div\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\n      onClick={handleBackdropClick}\n      aria-modal=\"true\"\n      role=\"dialog\"\n      aria-labelledby={title ? 'modal-title' : undefined}\n    >\n      {/* Backdrop */}\n      <div\n        className=\"fixed inset-0 bg-black/50 dark:bg-black/70 transition-opacity duration-200\"\n        aria-hidden=\"true\"\n      />\n\n      {/* Modal content */}\n      <div\n        ref={modalRef}\n        tabIndex={-1}\n        className={`\n          relative w-full ${sizeConfig[size]}\n          bg-white dark:bg-slate-800\n          rounded-xl shadow-xl\n          max-h-[90vh] flex flex-col\n          transition-all duration-200\n          ${className}\n        `}\n        style={{\n          borderRadius: 'var(--radius-xl)',\n          boxShadow: 'var(--shadow-2xl)',\n        }}\n      >\n        {/* Header */}\n        {title && (\n          <div\n            className=\"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700\"\n            style={{ padding: 'var(--spacing-xl)' }}\n          >\n            <h2\n              id=\"modal-title\"\n              className=\"text-xl font-semibold text-slate-900 dark:text-slate-100\"\n              style={{ fontSize: 'var(--font-size-xl)' }}\n            >\n              {title}\n            </h2>\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"\n                rounded-lg p-2\n                text-slate-400 hover:text-slate-600 dark:hover:text-slate-200\n                hover:bg-slate-100 dark:hover:bg-slate-700\n                focus:outline-none focus:ring-2 focus:ring-sky-500\n                transition-colors duration-200\n              \"\n              aria-label=\"Close modal\"\n            >\n              <X className=\"w-5 h-5\" aria-hidden=\"true\" />\n            </button>\n          </div>\n        )}\n\n        {/* Body */}\n        <div\n          className=\"flex-1 overflow-y-auto p-6\"\n          style={{ padding: 'var(--spacing-xl)' }}\n        >\n          {children}\n        </div>\n\n        {/* Footer */}\n        {footer && (\n          <div\n            className=\"flex items-center justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-700\"\n            style={{\n              padding: 'var(--spacing-xl)',\n              gap: 'var(--spacing-md)',\n            }}\n          >\n            {footer}\n          </div>\n        )}\n\n        {/* Close button when no title */}\n        {!title && (\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className=\"\n              absolute top-4 right-4\n              rounded-lg p-2\n              text-slate-400 hover:text-slate-600 dark:hover:text-slate-200\n              hover:bg-slate-100 dark:hover:bg-slate-700\n              focus:outline-none focus:ring-2 focus:ring-sky-500\n              transition-colors duration-200\n            \"\n            aria-label=\"Close modal\"\n          >\n            <X className=\"w-5 h-5\" aria-hidden=\"true\" />\n          </button>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default Modal\n"],"names":[],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAoCC,GAED;AACA;;;;AAyDO,SAAS,MAAM,EACpB,MAAM,EACN,OAAO,EACP,KAAK,EACL,QAAQ,EACR,MAAM,EACN,OAAO,IAAI,EACX,uBAAuB,IAAI,EAC3B,gBAAgB,IAAI,EACpB,YAAY,EAAE,EACH;IACX,MAAM,WAAW,IAAA,+MAAM,EAAiB;IACxC,MAAM,wBAAwB,IAAA,+MAAM,EAAqB;IAEzD,sBAAsB;IACtB,MAAM,aAAa;QACjB,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,oBAAoB;IACpB,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,UAAU,CAAC,eAAe;QAE/B,MAAM,eAAe,CAAC;YACpB,IAAI,MAAM,GAAG,KAAK,UAAU;gBAC1B;YACF;QACF;QAEA,SAAS,gBAAgB,CAAC,WAAW;QACrC,OAAO,IAAM,SAAS,mBAAmB,CAAC,WAAW;IACvD,GAAG;QAAC;QAAQ;QAAe;KAAQ;IAEnC,yCAAyC;IACzC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,QAAQ;QAEb,sCAAsC;QACtC,sBAAsB,OAAO,GAAG,SAAS,aAAa;QAEtD,mBAAmB;QACnB,MAAM,mBAAmB,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ;QACrD,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QAE/B,kBAAkB;QAClB,SAAS,OAAO,EAAE;QAElB,OAAO;YACL,sBAAsB;YACtB,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YAE/B,oCAAoC;YACpC,sBAAsB,OAAO,EAAE;QACjC;IACF,GAAG;QAAC;KAAO;IAEX,IAAI,CAAC,QAAQ;QACX,OAAO;IACT;IAEA,MAAM,sBAAsB,CAAC;QAC3B,IAAI,wBAAwB,MAAM,MAAM,KAAK,MAAM,aAAa,EAAE;YAChE;QACF;IACF;IAEA,qBACE,8OAAC;QACC,WAAU;QACV,SAAS;QACT,cAAW;QACX,MAAK;QACL,mBAAiB,QAAQ,gBAAgB;;0BAGzC,8OAAC;gBACC,WAAU;gBACV,eAAY;;;;;;0BAId,8OAAC;gBACC,KAAK;gBACL,UAAU,CAAC;gBACX,WAAW,CAAC;0BACM,EAAE,UAAU,CAAC,KAAK,CAAC;;;;;UAKnC,EAAE,UAAU;QACd,CAAC;gBACD,OAAO;oBACL,cAAc;oBACd,WAAW;gBACb;;oBAGC,uBACC,8OAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,SAAS;wBAAoB;;0CAEtC,8OAAC;gCACC,IAAG;gCACH,WAAU;gCACV,OAAO;oCAAE,UAAU;gCAAsB;0CAExC;;;;;;0CAEH,8OAAC;gCACC,MAAK;gCACL,SAAS;gCACT,WAAU;gCAOV,cAAW;0CAEX,cAAA,8OAAC,iMAAC;oCAAC,WAAU;oCAAU,eAAY;;;;;;;;;;;;;;;;;kCAMzC,8OAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,SAAS;wBAAoB;kCAErC;;;;;;oBAIF,wBACC,8OAAC;wBACC,WAAU;wBACV,OAAO;4BACL,SAAS;4BACT,KAAK;wBACP;kCAEC;;;;;;oBAKJ,CAAC,uBACA,8OAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;wBAQV,cAAW;kCAEX,cAAA,8OAAC,iMAAC;4BAAC,WAAU;4BAAU,eAAY;;;;;;;;;;;;;;;;;;;;;;;AAM/C;uCAEe"}},
    {"offset": {"line": 3326, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/ErrorState.tsx"],"sourcesContent":["import { type ReactNode, type HTMLAttributes } from 'react'\nimport { Button } from './Button'\n\nexport interface ErrorStateProps extends HTMLAttributes<HTMLDivElement> {\n  /** Error title/heading */\n  title?: string\n  /** Error message or description */\n  message?: string | ReactNode\n  /** Optional retry button callback */\n  onRetry?: () => void\n  /** Retry button text */\n  retryText?: string\n  /** Whether to show the error centered in a larger container */\n  centered?: boolean\n  /** Optional custom icon */\n  icon?: ReactNode\n}\n\n/**\n * ErrorState Component\n * \n * A styled error state component for displaying errors consistently.\n * Part of the V0.4 Design System - E6 Technical Cleanup.\n * \n * Features:\n * - Consistent error display across the application\n * - Optional retry button\n * - Customizable title, message, and icon\n * - Can be centered in container\n * - Accessible with proper ARIA attributes\n * \n * @example\n * // Basic error\n * <ErrorState\n *   title=\"Fehler beim Laden\"\n *   message=\"Die Daten konnten nicht geladen werden.\"\n * />\n * \n * @example\n * // Error with retry button\n * <ErrorState\n *   title=\"Verbindungsfehler\"\n *   message=\"Bitte √ºberpr√ºfen Sie Ihre Internetverbindung.\"\n *   onRetry={handleRetry}\n *   centered\n * />\n */\nexport function ErrorState({\n  title = 'Ein Fehler ist aufgetreten',\n  message = 'Bitte versuchen Sie es sp√§ter erneut.',\n  onRetry,\n  retryText = 'Erneut versuchen',\n  centered = false,\n  icon,\n  className = '',\n  ...props\n}: ErrorStateProps) {\n  const containerClasses = `\n    ${centered ? 'flex flex-col items-center justify-center min-h-[300px] text-center' : 'flex flex-col items-center text-center'}\n    ${className}\n  `\n\n  const defaultIcon = (\n    <svg\n      className=\"h-16 w-16 text-red-500\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      aria-hidden=\"true\"\n    >\n      <path\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth={2}\n        d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n      />\n    </svg>\n  )\n\n  return (\n    <div className={containerClasses} role=\"alert\" aria-live=\"assertive\" {...props}>\n      <div className=\"mb-4\">\n        {icon || defaultIcon}\n      </div>\n      \n      <h2 className=\"text-xl md:text-2xl font-semibold text-slate-900 mb-2\">\n        {title}\n      </h2>\n      \n      {typeof message === 'string' ? (\n        <p className=\"text-sm md:text-base text-slate-600 mb-6 max-w-md\">\n          {message}\n        </p>\n      ) : (\n        <div className=\"text-sm md:text-base text-slate-600 mb-6 max-w-md\">\n          {message}\n        </div>\n      )}\n      \n      {onRetry && (\n        <Button\n          variant=\"primary\"\n          onClick={onRetry}\n          icon={\n            <svg\n              className=\"h-4 w-4\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n              />\n            </svg>\n          }\n        >\n          {retryText}\n        </Button>\n      )}\n    </div>\n  )\n}\n\nexport default ErrorState\n"],"names":[],"mappings":";;;;;;;AACA;;;AA8CO,SAAS,WAAW,EACzB,QAAQ,4BAA4B,EACpC,UAAU,uCAAuC,EACjD,OAAO,EACP,YAAY,kBAAkB,EAC9B,WAAW,KAAK,EAChB,IAAI,EACJ,YAAY,EAAE,EACd,GAAG,OACa;IAChB,MAAM,mBAAmB,CAAC;IACxB,EAAE,WAAW,wEAAwE,yCAAyC;IAC9H,EAAE,UAAU;EACd,CAAC;IAED,MAAM,4BACJ,8OAAC;QACC,WAAU;QACV,MAAK;QACL,SAAQ;QACR,QAAO;QACP,eAAY;kBAEZ,cAAA,8OAAC;YACC,eAAc;YACd,gBAAe;YACf,aAAa;YACb,GAAE;;;;;;;;;;;IAKR,qBACE,8OAAC;QAAI,WAAW;QAAkB,MAAK;QAAQ,aAAU;QAAa,GAAG,KAAK;;0BAC5E,8OAAC;gBAAI,WAAU;0BACZ,QAAQ;;;;;;0BAGX,8OAAC;gBAAG,WAAU;0BACX;;;;;;YAGF,OAAO,YAAY,yBAClB,8OAAC;gBAAE,WAAU;0BACV;;;;;qCAGH,8OAAC;gBAAI,WAAU;0BACZ;;;;;;YAIJ,yBACC,8OAAC,8HAAM;gBACL,SAAQ;gBACR,SAAS;gBACT,oBACE,8OAAC;oBACC,WAAU;oBACV,MAAK;oBACL,SAAQ;oBACR,QAAO;8BAEP,cAAA,8OAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,aAAa;wBACb,GAAE;;;;;;;;;;;0BAKP;;;;;;;;;;;;AAKX;uCAEe"}},
    {"offset": {"line": 3440, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/PageHeader.tsx"],"sourcesContent":["'use client'\n\nimport { type ReactNode } from 'react'\nimport { spacing } from '@/lib/design-tokens'\n\nexport interface PageHeaderProps {\n  /** Main page title */\n  title: string\n  /** Optional subtitle/description */\n  description?: string\n  /** Optional action buttons on the right */\n  actions?: ReactNode\n  /** Additional CSS classes */\n  className?: string\n}\n\n/**\n * PageHeader Component\n * \n * Standardized page header for Clinician and Admin pages.\n * Provides consistent spacing, typography, and layout.\n * \n * @example\n * <PageHeader\n *   title=\"Dashboard\"\n *   description=\"√úbersicht aller Patientinnen und Patienten\"\n *   actions={<Button>Export</Button>}\n * />\n */\nexport function PageHeader({ title, description, actions, className = '' }: PageHeaderProps) {\n  return (\n    <div\n      className={`flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 ${className}`}\n      style={{ marginBottom: spacing.xl }}\n    >\n      <div className=\"flex-1 min-w-0\">\n        <h1 className=\"text-2xl md:text-3xl font-bold text-slate-900 dark:text-slate-50 mb-2\">\n          {title}\n        </h1>\n        {description && (\n          <p className=\"text-base text-slate-600 dark:text-slate-300\">\n            {description}\n          </p>\n        )}\n      </div>\n      {actions && (\n        <div className=\"flex flex-wrap gap-3 items-start shrink-0\">\n          {actions}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default PageHeader\n"],"names":[],"mappings":";;;;;;;AAGA;AAAA;AAHA;;;AA6BO,SAAS,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,EAAE,YAAY,EAAE,EAAmB;IACzF,qBACE,8OAAC;QACC,WAAW,CAAC,kEAAkE,EAAE,WAAW;QAC3F,OAAO;YAAE,cAAc,kIAAO,CAAC,EAAE;QAAC;;0BAElC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCACX;;;;;;oBAEF,6BACC,8OAAC;wBAAE,WAAU;kCACV;;;;;;;;;;;;YAIN,yBACC,8OAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAKX;uCAEe"}},
    {"offset": {"line": 3504, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/SectionHeader.tsx"],"sourcesContent":["'use client'\n\nimport { type ReactNode } from 'react'\nimport { spacing } from '@/lib/design-tokens'\n\nexport interface SectionHeaderProps {\n  /** Section title */\n  title: string\n  /** Optional subtitle/description */\n  description?: string\n  /** Optional action buttons on the right */\n  actions?: ReactNode\n  /** Additional CSS classes */\n  className?: string\n}\n\n/**\n * SectionHeader Component\n * \n * Standardized section header for use within pages.\n * Smaller than PageHeader, used for subsections.\n * \n * @example\n * <SectionHeader\n *   title=\"Recent Assessments\"\n *   description=\"Aktuelle Messungen und Risikobewertungen\"\n *   actions={<Button size=\"sm\">Filter</Button>}\n * />\n */\nexport function SectionHeader({ title, description, actions, className = '' }: SectionHeaderProps) {\n  return (\n    <div\n      className={`flex items-start justify-between gap-4 ${className}`}\n      style={{ marginBottom: spacing.lg }}\n    >\n      <div className=\"flex-1 min-w-0\">\n        <h2 className=\"text-xl font-semibold text-slate-900 dark:text-slate-50\">\n          {title}\n        </h2>\n        {description && (\n          <p className=\"text-sm text-slate-600 dark:text-slate-300 mt-1\">\n            {description}\n          </p>\n        )}\n      </div>\n      {actions && (\n        <div className=\"flex gap-2 items-start shrink-0\">\n          {actions}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default SectionHeader\n"],"names":[],"mappings":";;;;;;;AAGA;AAAA;AAHA;;;AA6BO,SAAS,cAAc,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,EAAE,YAAY,EAAE,EAAsB;IAC/F,qBACE,8OAAC;QACC,WAAW,CAAC,uCAAuC,EAAE,WAAW;QAChE,OAAO;YAAE,cAAc,kIAAO,CAAC,EAAE;QAAC;;0BAElC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCACX;;;;;;oBAEF,6BACC,8OAAC;wBAAE,WAAU;kCACV;;;;;;;;;;;;YAIN,yBACC,8OAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAKX;uCAEe"}},
    {"offset": {"line": 3568, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/safety/disclaimers.ts"],"sourcesContent":["/**\n * E6.6.8 ‚Äî Safety Copy: Centralized Disclaimers & Emergency Guidance\n *\n * Single source of truth for all patient-facing disclaimers and emergency contact information.\n * Ensures consistent safety messaging across dashboard, triage, and escalation paths.\n *\n * Key Principles:\n * - Clear, concise language (German)\n * - Consistent emergency numbers across all contexts\n * - Non-emergency disclaimers prevent misuse\n * - Red flag escalations use stronger, more urgent language\n */\n\n/**\n * Emergency contact numbers for Germany\n * These should be displayed consistently throughout the app\n */\nexport const EMERGENCY_CONTACTS = {\n  /** Emergency services (ambulance, fire, police) */\n  EMERGENCY: {\n    number: '112',\n    label: 'Notarzt / Rettungsdienst',\n  },\n  /** Medical on-call service (non-emergency) */\n  ON_CALL_DOCTOR: {\n    number: '116 117',\n    label: '√Ñrztlicher Bereitschaftsdienst',\n  },\n  /** Suicide prevention hotline (24/7) */\n  SUICIDE_PREVENTION: {\n    number: '0800 111 0 111',\n    label: 'Telefonseelsorge (kostenfrei, 24/7)',\n  },\n} as const\n\n/**\n * Non-emergency disclaimer for dashboard and general AMY interactions\n * Use this near AMY composer and general triage entry points\n */\nexport const NON_EMERGENCY_DISCLAIMER = {\n  title: 'Hinweis',\n  text: 'Dies ist kein Notfalldienst. Bei akuten medizinischen Notf√§llen w√§hlen Sie bitte 112.',\n} as const\n\n/**\n * Standard emergency guidance (moderate urgency)\n * Use in AMY composer when ESCALATE tier is detected\n */\nexport const STANDARD_EMERGENCY_GUIDANCE = {\n  title: 'Bei akuten Notf√§llen',\n  text: 'W√§hlen Sie bitte sofort 112 oder wenden Sie sich an Ihren Arzt.',\n} as const\n\n/**\n * Strong emergency warning for red flag escalation paths\n * Use in EscalationOfferCard and high-risk result screens\n */\nexport const RED_FLAG_EMERGENCY_WARNING = {\n  title: 'Bei akuter Gefahr',\n  text: 'Wenden Sie sich bitte umgehend an:',\n  urgentAction:\n    'W√§hlen Sie bitte umgehend den Notruf 112 oder wenden Sie sich an die n√§chste Notaufnahme.',\n} as const\n\n/**\n * Escalation offer disclaimer\n * Use in EscalationOfferCard to explain the purpose of escalation\n */\nexport const ESCALATION_DISCLAIMER = {\n  title: 'Bitte beachten Sie',\n  intro: 'Basierend auf Ihren Antworten empfehlen wir eine pers√∂nliche R√ºcksprache.',\n} as const\n\n/**\n * Helper function to format emergency contacts as list items\n * Returns array of { number, label } for consistent rendering\n */\nexport function getEmergencyContactsList() {\n  return Object.values(EMERGENCY_CONTACTS)\n}\n\n/**\n * Get full non-emergency disclaimer text\n * For accessibility and consistency\n */\nexport function getNonEmergencyDisclaimerText(): string {\n  return `${NON_EMERGENCY_DISCLAIMER.title}: ${NON_EMERGENCY_DISCLAIMER.text}`\n}\n\n/**\n * Get red flag emergency warning text\n * For accessibility and consistency\n */\nexport function getRedFlagEmergencyWarningText(): string {\n  return `${RED_FLAG_EMERGENCY_WARNING.title}: ${RED_FLAG_EMERGENCY_WARNING.urgentAction}`\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;CAWC,GAED;;;CAGC;;;;;;;;;;;;;;;;;;AACM,MAAM,qBAAqB;IAChC,iDAAiD,GACjD,WAAW;QACT,QAAQ;QACR,OAAO;IACT;IACA,4CAA4C,GAC5C,gBAAgB;QACd,QAAQ;QACR,OAAO;IACT;IACA,sCAAsC,GACtC,oBAAoB;QAClB,QAAQ;QACR,OAAO;IACT;AACF;AAMO,MAAM,2BAA2B;IACtC,OAAO;IACP,MAAM;AACR;AAMO,MAAM,8BAA8B;IACzC,OAAO;IACP,MAAM;AACR;AAMO,MAAM,6BAA6B;IACxC,OAAO;IACP,MAAM;IACN,cACE;AACJ;AAMO,MAAM,wBAAwB;IACnC,OAAO;IACP,OAAO;AACT;AAMO,SAAS;IACd,OAAO,OAAO,MAAM,CAAC;AACvB;AAMO,SAAS;IACd,OAAO,GAAG,yBAAyB,KAAK,CAAC,EAAE,EAAE,yBAAyB,IAAI,EAAE;AAC9E;AAMO,SAAS;IACd,OAAO,GAAG,2BAA2B,KAAK,CAAC,EAAE,EAAE,2BAA2B,YAAY,EAAE;AAC1F"}},
    {"offset": {"line": 3644, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/components/EmergencyContactInfo.tsx"],"sourcesContent":["/**\n * E6.6.8 ‚Äî Emergency Contact Info Component\n *\n * Reusable component for displaying emergency contact information.\n * Ensures consistent styling and content across all escalation paths.\n */\n\nimport { Phone } from 'lucide-react'\nimport { EMERGENCY_CONTACTS, getEmergencyContactsList } from '@/lib/safety/disclaimers'\n\ntype EmergencyContactInfoProps = {\n  /** Visual style variant */\n  variant?: 'default' | 'compact'\n  /** Title to display above contacts */\n  title?: string\n  /** Optional description text */\n  description?: string\n  /** Show all contacts or just emergency (112) */\n  showAll?: boolean\n}\n\n/**\n * EmergencyContactInfo Component\n *\n * Displays emergency contact numbers in a consistent format.\n * Used in EscalationOfferCard, escalation placeholder page, and AMY results.\n *\n * @example\n * // Red flag escalation (show all contacts)\n * <EmergencyContactInfo\n *   title=\"Bei akuter Gefahr\"\n *   description=\"Wenden Sie sich bitte umgehend an:\"\n *   showAll={true}\n * />\n *\n * @example\n * // Standard emergency (compact, 112 only)\n * <EmergencyContactInfo\n *   variant=\"compact\"\n *   showAll={false}\n * />\n */\nexport function EmergencyContactInfo({\n  variant = 'default',\n  title = 'Bei akuter Gefahr',\n  description,\n  showAll = true,\n}: EmergencyContactInfoProps) {\n  const contacts = showAll ? getEmergencyContactsList() : [EMERGENCY_CONTACTS.EMERGENCY]\n\n  if (variant === 'compact') {\n    return (\n      <div className=\"flex items-start gap-2\">\n        <Phone className=\"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5\" />\n        <div className=\"text-sm\">\n          <p className=\"font-semibold text-red-900 dark:text-red-100\">\n            {title}\n            {': '}\n            <span className=\"font-mono font-bold\">{EMERGENCY_CONTACTS.EMERGENCY.number}</span>\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex items-start gap-3\">\n      <Phone className=\"w-6 h-6 text-red-600 dark:text-red-400 flex-shrink-0\" />\n      <div>\n        <h3 className=\"font-semibold text-red-900 dark:text-red-100 mb-2\">{title}</h3>\n        {description && (\n          <p className=\"text-sm text-red-800 dark:text-red-200 mb-3\">{description}</p>\n        )}\n        <ul className=\"space-y-2 text-sm text-red-800 dark:text-red-200\">\n          {contacts.map((contact) => (\n            <li key={contact.number} className=\"flex items-center gap-2\">\n              <span className=\"font-mono font-bold\">{contact.number}</span>\n              <span>‚Äî {contact.label}</span>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default EmergencyContactInfo\n"],"names":[],"mappings":";;;;;;;AAAA;;;;;CAKC,GAED;AACA;;;;AAkCO,SAAS,qBAAqB,EACnC,UAAU,SAAS,EACnB,QAAQ,mBAAmB,EAC3B,WAAW,EACX,UAAU,IAAI,EACY;IAC1B,MAAM,WAAW,UAAU,IAAA,wJAAwB,MAAK;QAAC,kJAAkB,CAAC,SAAS;KAAC;IAEtF,IAAI,YAAY,WAAW;QACzB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,6MAAK;oBAAC,WAAU;;;;;;8BACjB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;;4BACV;4BACA;0CACD,8OAAC;gCAAK,WAAU;0CAAuB,kJAAkB,CAAC,SAAS,CAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;IAKpF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,6MAAK;gBAAC,WAAU;;;;;;0BACjB,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAAqD;;;;;;oBAClE,6BACC,8OAAC;wBAAE,WAAU;kCAA+C;;;;;;kCAE9D,8OAAC;wBAAG,WAAU;kCACX,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;gCAAwB,WAAU;;kDACjC,8OAAC;wCAAK,WAAU;kDAAuB,QAAQ,MAAM;;;;;;kDACrD,8OAAC;;4CAAK;4CAAG,QAAQ,KAAK;;;;;;;;+BAFf,QAAQ,MAAM;;;;;;;;;;;;;;;;;;;;;;AASnC;uCAEe"}},
    {"offset": {"line": 3789, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/lib/ui/index.ts"],"sourcesContent":["/**\n * UI Component Library\n * \n * V0.4 Design System Components\n * \n * This module exports all reusable UI components that make up the\n * Rhythmologicum Connect design system.\n * \n * Components:\n * - Alert: Notification and callout messages\n * - Badge: Status and category labels\n * - Button: Primary action component with multiple variants\n * - Card: Content container with header/footer support\n * - Input: Text input with error states\n * - Textarea: Multi-line text input\n * - Select: Dropdown selection\n * - Label: Form field labels\n * - FormField: Complete form field wrapper\n * - Modal: Dialog overlay component\n * - Table: Data display table with sorting\n * - Tabs: Tabbed navigation component\n * \n * Usage:\n * ```tsx\n * import { Button, Card, Input, FormField, Badge, Alert, Modal } from '@/lib/ui'\n * \n * <FormField label=\"Email\" required>\n *   <Input type=\"email\" />\n * </FormField>\n * \n * <Button variant=\"primary\">Save</Button>\n * <Badge variant=\"success\">Active</Badge>\n * <Alert variant=\"info\">Important message</Alert>\n * ```\n */\n\nexport { Alert } from './Alert'\nexport type { AlertProps, AlertVariant } from './Alert'\n\nexport { Badge } from './Badge'\nexport type { BadgeProps, BadgeVariant, BadgeSize } from './Badge'\n\nexport { Button } from './Button'\nexport type { ButtonProps, ButtonVariant, ButtonSize } from './Button'\n\nexport { Card } from './Card'\nexport type { CardProps } from './Card'\n\nexport { Input } from './Input'\nexport type { InputProps } from './Input'\n\nexport { Textarea } from './Textarea'\nexport type { TextareaProps } from './Textarea'\n\nexport { Select } from './Select'\nexport type { SelectProps } from './Select'\n\nexport { Label } from './Label'\nexport type { LabelProps } from './Label'\n\nexport { FormField } from './FormField'\nexport type { FormFieldProps } from './FormField'\n\nexport { Table } from './Table'\nexport type { TableProps, TableColumn } from './Table'\n\nexport { AppShell } from './AppShell'\nexport type { AppShellProps } from './AppShell'\n\nexport { HelperText } from './HelperText'\nexport type { HelperTextProps } from './HelperText'\n\nexport { ErrorText } from './ErrorText'\nexport type { ErrorTextProps } from './ErrorText'\n\nexport { Progress } from './Progress'\nexport type { ProgressProps } from './Progress'\n\nexport { DesktopLayout } from './DesktopLayout'\nexport type { DesktopLayoutProps, NavItem } from './DesktopLayout'\n\nexport { Tabs, TabsList, TabTrigger, TabContent } from './Tabs'\nexport type { TabsProps, TabsListProps, TabTriggerProps, TabContentProps } from './Tabs'\n\nexport { ThemeToggle } from './ThemeToggle'\n\nexport { LoadingSpinner } from './LoadingSpinner'\nexport type { LoadingSpinnerProps, LoadingSpinnerSize } from './LoadingSpinner'\n\nexport { Modal } from './Modal'\nexport type { ModalProps, ModalSize } from './Modal'\n\nexport { ErrorState } from './ErrorState'\nexport type { ErrorStateProps } from './ErrorState'\n\nexport { PageHeader } from './PageHeader'\nexport type { PageHeaderProps } from './PageHeader'\n\nexport { SectionHeader } from './SectionHeader'\nexport type { SectionHeaderProps } from './SectionHeader'\n\nexport { EmergencyContactInfo } from './components/EmergencyContactInfo'\n"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAkCC,GAED;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAGA;AAEA;AAGA;AAGA;AAGA;AAGA;AAGA"}},
    {"offset": {"line": 3874, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/apps/rhythm-patient-ui/app/patient/components/TopBarV2.tsx"],"sourcesContent":["'use client'\n\nimport { useRouter } from 'next/navigation'\n\nexport type TopBarVariant = 'tab' | 'flow' | 'result'\n\ninterface TopBarV2Props {\n  variant: TopBarVariant\n  title: string\n  onBurgerClick?: () => void\n  onBackClick?: () => void\n  onCloseClick?: () => void\n  onMenuClick?: () => void\n  showAvatar?: boolean\n  showBell?: boolean\n}\n\n/**\n * TopBarV2 Component\n * \n * Mobile-first top navigation bar with 3 variants:\n * \n * **Variant A (Tab Screens)**: Burger + Title + Bell (+ Avatar optional)\n * - Used on: Dashboard, Assess, Dialog, Profile\n * - Shows: Menu burger, screen title, notification bell\n * \n * **Variant B (Assessment Flow)**: Back + Title + Close\n * - Used on: Active funnel/assessment flows\n * - Shows: Back button, progress/title, close button\n * \n * **Variant C (Results)**: Back + Title + optional overflow menu\n * - Used on: Assessment result pages\n * - Shows: Back button, result title, optional menu\n * \n * Features:\n * - Safe area padding for notched devices\n * - Touch-friendly tap targets\n * - Smooth transitions\n */\nexport function TopBarV2({\n  variant,\n  title,\n  onBurgerClick,\n  onBackClick,\n  onCloseClick,\n  onMenuClick,\n  showAvatar = false,\n  showBell = true,\n}: TopBarV2Props) {\n  const router = useRouter()\n\n  const handleBack = () => {\n    if (onBackClick) {\n      onBackClick()\n    } else {\n      router.back()\n    }\n  }\n\n  const handleClose = () => {\n    if (onCloseClick) {\n      onCloseClick()\n    } else {\n      router.push('/patient/dashboard')\n    }\n  }\n\n  return (\n    <header\n      className=\"md:hidden fixed inset-x-0 top-0 z-40 bg-white/95 dark:bg-slate-800/95 backdrop-blur border-b border-slate-200 dark:border-slate-700 transition-colors duration-150\"\n      style={{\n        paddingTop: 'env(safe-area-inset-top, 0px)',\n      }}\n    >\n      <div className=\"flex items-center justify-between px-4 py-3 min-h-[56px]\">\n        {/* Left Section */}\n        <div className=\"flex items-center gap-3 flex-1\">\n          {variant === 'tab' && (\n            <button\n              onClick={onBurgerClick}\n              className=\"p-2 -ml-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n              aria-label=\"Menu\"\n            >\n              <svg\n                className=\"w-6 h-6\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M4 6h16M4 12h16M4 18h16\"\n                />\n              </svg>\n            </button>\n          )}\n\n          {(variant === 'flow' || variant === 'result') && (\n            <button\n              onClick={handleBack}\n              className=\"p-2 -ml-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n              aria-label=\"Zur√ºck\"\n            >\n              <svg\n                className=\"w-6 h-6\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M15 19l-7-7 7-7\"\n                />\n              </svg>\n            </button>\n          )}\n\n          {/* Title */}\n          <h1 className=\"text-base font-semibold text-slate-900 dark:text-slate-100 truncate\">\n            {title}\n          </h1>\n        </div>\n\n        {/* Right Section */}\n        <div className=\"flex items-center gap-2\">\n          {variant === 'tab' && showBell && (\n            <button\n              className=\"p-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors relative\"\n              aria-label=\"Benachrichtigungen\"\n            >\n              <svg\n                className=\"w-5 h-5\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"\n                />\n              </svg>\n              {/* Optional notification badge */}\n              <span className=\"sr-only\">Benachrichtigungen</span>\n            </button>\n          )}\n\n          {variant === 'tab' && showAvatar && (\n            <div className=\"w-8 h-8 rounded-full bg-sky-100 dark:bg-sky-900 flex items-center justify-center text-sky-700 dark:text-sky-300 text-sm font-semibold\">\n              P\n            </div>\n          )}\n\n          {variant === 'flow' && (\n            <button\n              onClick={handleClose}\n              className=\"p-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n              aria-label=\"Schlie√üen\"\n            >\n              <svg\n                className=\"w-5 h-5\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M6 18L18 6M6 6l12 12\"\n                />\n              </svg>\n            </button>\n          )}\n\n          {variant === 'result' && onMenuClick && (\n            <button\n              onClick={onMenuClick}\n              className=\"p-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n              aria-label=\"Mehr\"\n            >\n              <svg\n                className=\"w-5 h-5\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\"\n                />\n              </svg>\n            </button>\n          )}\n        </div>\n      </div>\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAuCO,SAAS,SAAS,EACvB,OAAO,EACP,KAAK,EACL,aAAa,EACb,WAAW,EACX,YAAY,EACZ,WAAW,EACX,aAAa,KAAK,EAClB,WAAW,IAAI,EACD;IACd,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,aAAa;QACjB,IAAI,aAAa;YACf;QACF,OAAO;YACL,OAAO,IAAI;QACb;IACF;IAEA,MAAM,cAAc;QAClB,IAAI,cAAc;YAChB;QACF,OAAO;YACL,OAAO,IAAI,CAAC;QACd;IACF;IAEA,qBACE,8OAAC;QACC,WAAU;QACV,OAAO;YACL,YAAY;QACd;kBAEA,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;wBACZ,YAAY,uBACX,8OAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,8OAAC;gCACC,WAAU;gCACV,MAAK;gCACL,QAAO;gCACP,SAAQ;0CAER,cAAA,8OAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;wBAMT,CAAC,YAAY,UAAU,YAAY,QAAQ,mBAC1C,8OAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,8OAAC;gCACC,WAAU;gCACV,MAAK;gCACL,QAAO;gCACP,SAAQ;0CAER,cAAA,8OAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;sCAOV,8OAAC;4BAAG,WAAU;sCACX;;;;;;;;;;;;8BAKL,8OAAC;oBAAI,WAAU;;wBACZ,YAAY,SAAS,0BACpB,8OAAC;4BACC,WAAU;4BACV,cAAW;;8CAEX,8OAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,8OAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;8CAIN,8OAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;wBAI7B,YAAY,SAAS,4BACpB,8OAAC;4BAAI,WAAU;sCAAwI;;;;;;wBAKxJ,YAAY,wBACX,8OAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,8OAAC;gCACC,WAAU;gCACV,MAAK;gCACL,QAAO;gCACP,SAAQ;0CAER,cAAA,8OAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;wBAMT,YAAY,YAAY,6BACvB,8OAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,8OAAC;gCACC,WAAU;gCACV,MAAK;gCACL,QAAO;gCACP,SAAQ;0CAER,cAAA,8OAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASpB"}},
    {"offset": {"line": 4111, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/apps/rhythm-patient-ui/app/patient/components/BottomNavV2.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport { usePathname } from 'next/navigation'\n\ninterface BottomNavItem {\n  href: string\n  label: string\n  icon: string\n}\n\n/**\n * BottomNavV2 Component\n * \n * Mobile-first bottom navigation with 4 tabs:\n * - Home (Dashboard)\n * - Assess (Assessments)\n * - Dialog (Communication)\n * - Profile (User Profile)\n * \n * Features:\n * - Active state based on current route\n * - Safe area padding for notched devices\n * - Touch-friendly tap targets (min 44px)\n * - Smooth transitions\n */\nexport function BottomNavV2() {\n  const pathname = usePathname()\n\n  const navItems: BottomNavItem[] = [\n    {\n      href: '/patient/dashboard',\n      label: 'Home',\n      icon: 'üè†',\n    },\n    {\n      href: '/patient/assess',\n      label: 'Assess',\n      icon: 'üìù',\n    },\n    {\n      href: '/patient/dialog',\n      label: 'Dialog',\n      icon: 'üí¨',\n    },\n    {\n      href: '/patient/profile',\n      label: 'Profile',\n      icon: 'üë§',\n    },\n  ]\n\n  const isActive = (href: string) => {\n    // Exact match for dashboard\n    if (href === '/patient/dashboard') {\n      return pathname === '/patient/dashboard' || pathname === '/patient'\n    }\n    // Prefix match for others (e.g., /patient/assess includes /patient/assess/...)\n    return pathname?.startsWith(href) ?? false\n  }\n\n  return (\n    <nav\n      className=\"md:hidden fixed inset-x-0 bottom-0 z-40 bg-white/95 dark:bg-slate-800/95 backdrop-blur border-t border-slate-200 dark:border-slate-700 transition-colors duration-150\"\n      style={{\n        boxShadow: '0 -2px 10px rgba(0, 0, 0, 0.05)',\n        paddingBottom: 'calc(0.5rem + env(safe-area-inset-bottom, 0px))',\n      }}\n    >\n      <div className=\"flex items-center justify-around px-2 py-2\">\n        {navItems.map((item) => {\n          const active = isActive(item.href)\n          return (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={`flex flex-col items-center justify-center min-w-[60px] px-3 py-2 rounded-lg transition-all duration-200 ${\n                active\n                  ? 'text-sky-600 dark:text-sky-400 bg-sky-50 dark:bg-sky-900/30'\n                  : 'text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700/50'\n              }`}\n              aria-label={item.label}\n              aria-current={active ? 'page' : undefined}\n            >\n              <span className=\"text-xl mb-0.5\">{item.icon}</span>\n              <span className=\"text-[10px] font-semibold uppercase tracking-wide\">\n                {item.label}\n              </span>\n            </Link>\n          )\n        })}\n      </div>\n    </nav>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AA0BO,SAAS;IACd,MAAM,WAAW,IAAA,iJAAW;IAE5B,MAAM,WAA4B;QAChC;YACE,MAAM;YACN,OAAO;YACP,MAAM;QACR;QACA;YACE,MAAM;YACN,OAAO;YACP,MAAM;QACR;QACA;YACE,MAAM;YACN,OAAO;YACP,MAAM;QACR;QACA;YACE,MAAM;YACN,OAAO;YACP,MAAM;QACR;KACD;IAED,MAAM,WAAW,CAAC;QAChB,4BAA4B;QAC5B,IAAI,SAAS,sBAAsB;YACjC,OAAO,aAAa,wBAAwB,aAAa;QAC3D;QACA,+EAA+E;QAC/E,OAAO,UAAU,WAAW,SAAS;IACvC;IAEA,qBACE,8OAAC;QACC,WAAU;QACV,OAAO;YACL,WAAW;YACX,eAAe;QACjB;kBAEA,cAAA,8OAAC;YAAI,WAAU;sBACZ,SAAS,GAAG,CAAC,CAAC;gBACb,MAAM,SAAS,SAAS,KAAK,IAAI;gBACjC,qBACE,8OAAC,uKAAI;oBAEH,MAAM,KAAK,IAAI;oBACf,WAAW,CAAC,wGAAwG,EAClH,SACI,gEACA,oFACJ;oBACF,cAAY,KAAK,KAAK;oBACtB,gBAAc,SAAS,SAAS;;sCAEhC,8OAAC;4BAAK,WAAU;sCAAkB,KAAK,IAAI;;;;;;sCAC3C,8OAAC;4BAAK,WAAU;sCACb,KAAK,KAAK;;;;;;;mBAZR,KAAK,IAAI;;;;;YAgBpB;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 4208, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/apps/rhythm-patient-ui/app/patient/components/MobileShellV2.tsx"],"sourcesContent":["'use client'\n\nimport type { ReactNode } from 'react'\nimport { usePathname } from 'next/navigation'\nimport { TopBarV2, type TopBarVariant } from './TopBarV2'\nimport { BottomNavV2 } from './BottomNavV2'\n\ninterface MobileShellV2Props {\n  children: ReactNode\n}\n\n/**\n * Determine TopBar variant based on current route\n */\nfunction getTopBarVariant(pathname: string): TopBarVariant {\n  // Assessment flow screens (content pages, intro)\n  if (\n    pathname?.includes('/funnel/') &&\n    (pathname?.includes('/content/') || pathname?.includes('/intro'))\n  ) {\n    return 'flow'\n  }\n\n  // Result screens\n  if (pathname?.includes('/result')) {\n    return 'result'\n  }\n\n  // Tab screens (dashboard, assess, dialog, profile)\n  return 'tab'\n}\n\n/**\n * Determine if BottomNav should be hidden\n */\nfunction shouldHideBottomNav(pathname: string): boolean {\n  // Hide on flow screens (content, intro)\n  if (\n    pathname?.includes('/funnel/') &&\n    (pathname?.includes('/content/') || pathname?.includes('/intro'))\n  ) {\n    return true\n  }\n\n  return false\n}\n\n/**\n * Get page title based on current route\n */\nfunction getPageTitle(pathname: string): string {\n  if (pathname?.startsWith('/patient/dashboard')) return 'Dashboard'\n  if (pathname?.startsWith('/patient/assess')) return 'Assessment'\n  if (pathname?.startsWith('/patient/dialog')) return 'Dialog'\n  if (pathname?.startsWith('/patient/profile')) return 'Profil'\n  if (pathname?.includes('/result')) return 'Ergebnisse'\n  if (pathname?.includes('/funnel/')) return 'Fragebogen'\n  return 'Rhythmologicum Connect'\n}\n\n/**\n * MobileShellV2 Component\n * \n * Canonical mobile shell that wraps all v2 patient screens.\n * Handles:\n * - TopBar variant switching (tab/flow/result)\n * - BottomNav visibility (hidden on flow screens)\n * - Scroll container with fixed navigation\n * - Safe area padding for mobile devices\n * \n * Route behavior:\n * - Tab screens: TopBar variant A, BottomNav visible\n * - Flow screens: TopBar variant B, BottomNav hidden\n * - Result screens: TopBar variant C, BottomNav visible\n */\nexport function MobileShellV2({ children }: MobileShellV2Props) {\n  const pathname = usePathname()\n\n  const variant = getTopBarVariant(pathname)\n  const hideBottomNav = shouldHideBottomNav(pathname)\n  const title = getPageTitle(pathname)\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col transition-colors duration-150\">\n      {/* TopBar - Always visible on mobile */}\n      <TopBarV2 variant={variant} title={title} />\n\n      {/* Main Content Area - Scrollable */}\n      <main\n        className=\"flex-1 overflow-y-auto\"\n        style={{\n          paddingTop: 'calc(56px + env(safe-area-inset-top, 0px))',\n          paddingBottom: hideBottomNav\n            ? 'env(safe-area-inset-bottom, 0px)'\n            : 'calc(64px + env(safe-area-inset-bottom, 0px))',\n        }}\n      >\n        {children}\n      </main>\n\n      {/* BottomNav - Conditionally visible */}\n      {!hideBottomNav && <BottomNavV2 />}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAWA;;CAEC,GACD,SAAS,iBAAiB,QAAgB;IACxC,iDAAiD;IACjD,IACE,UAAU,SAAS,eACnB,CAAC,UAAU,SAAS,gBAAgB,UAAU,SAAS,SAAS,GAChE;QACA,OAAO;IACT;IAEA,iBAAiB;IACjB,IAAI,UAAU,SAAS,YAAY;QACjC,OAAO;IACT;IAEA,mDAAmD;IACnD,OAAO;AACT;AAEA;;CAEC,GACD,SAAS,oBAAoB,QAAgB;IAC3C,wCAAwC;IACxC,IACE,UAAU,SAAS,eACnB,CAAC,UAAU,SAAS,gBAAgB,UAAU,SAAS,SAAS,GAChE;QACA,OAAO;IACT;IAEA,OAAO;AACT;AAEA;;CAEC,GACD,SAAS,aAAa,QAAgB;IACpC,IAAI,UAAU,WAAW,uBAAuB,OAAO;IACvD,IAAI,UAAU,WAAW,oBAAoB,OAAO;IACpD,IAAI,UAAU,WAAW,oBAAoB,OAAO;IACpD,IAAI,UAAU,WAAW,qBAAqB,OAAO;IACrD,IAAI,UAAU,SAAS,YAAY,OAAO;IAC1C,IAAI,UAAU,SAAS,aAAa,OAAO;IAC3C,OAAO;AACT;AAiBO,SAAS,cAAc,EAAE,QAAQ,EAAsB;IAC5D,MAAM,WAAW,IAAA,iJAAW;IAE5B,MAAM,UAAU,iBAAiB;IACjC,MAAM,gBAAgB,oBAAoB;IAC1C,MAAM,QAAQ,aAAa;IAE3B,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,wLAAQ;gBAAC,SAAS;gBAAS,OAAO;;;;;;0BAGnC,8OAAC;gBACC,WAAU;gBACV,OAAO;oBACL,YAAY;oBACZ,eAAe,gBACX,qCACA;gBACN;0BAEC;;;;;;YAIF,CAAC,+BAAiB,8OAAC,8LAAW;;;;;;;;;;;AAGrC"}},
    {"offset": {"line": 4299, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/apps/rhythm-patient-ui/app/patient/components/index.ts"],"sourcesContent":["export { MobileShellV2 } from './MobileShellV2'\nexport { TopBarV2, type TopBarVariant } from './TopBarV2'\nexport { BottomNavV2 } from './BottomNavV2'\n"],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 4310, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/rhythmologicum-connect/rhythmologicum-connect/apps/rhythm-patient-ui/app/patient/PatientLayoutClient.tsx"],"sourcesContent":["'use client'\n\nimport type { ReactNode } from 'react'\nimport Link from 'next/link'\nimport { usePathname } from 'next/navigation'\nimport { supabase } from '@/lib/supabaseClient'\nimport { useEffect, useState } from 'react'\nimport { getUserRole, getRoleDisplayName, getNavItemsForRole } from '@/lib/utils/roleBasedRouting'\nimport { PatientNavigation } from '@/app/components/PatientNavigation'\nimport { ThemeToggle } from '@/lib/ui'\nimport type { User } from '@supabase/supabase-js'\nimport { MobileShellV2 } from './components'\n\nexport default function PatientLayoutClient({ children }: { children: ReactNode }) {\n  const pathname = usePathname()\n  const [user, setUser] = useState<User | null>(null)\n\n  useEffect(() => {\n    // Get current user\n    const getUser = async () => {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser()\n      setUser(user)\n    }\n    getUser()\n\n    // Subscribe to auth changes\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      setUser(session?.user ?? null)\n    })\n\n    return () => {\n      subscription.unsubscribe()\n    }\n  }, [])\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut()\n    try {\n      await fetch('/api/auth/signout', { method: 'POST', credentials: 'include' })\n    } catch {\n      // Ignore network errors; client session is already cleared\n    }\n    window.location.assign('/patient')\n  }\n\n  // Get navigation items from shared configuration\n  const navItems = getNavItemsForRole(user, pathname)\n  const role = getUserRole(user)\n  const roleDisplay = getRoleDisplayName(role)\n\n  return (\n    <>\n      {/* Mobile Layout - Use MobileShellV2 */}\n      <div className=\"md:hidden\">\n        <MobileShellV2>{children}</MobileShellV2>\n      </div>\n\n      {/* Desktop Layout - Keep existing layout */}\n      <div className=\"hidden md:block min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col transition-colors duration-150\">\n        {/* Desktop Header */}\n        <header className=\"border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 transition-colors duration-150\">\n          <div className=\"max-w-6xl mx-auto px-4 py-3\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <div>\n                <p className=\"text-xs font-semibold uppercase tracking-wide text-sky-600 dark:text-sky-400\">\n                  Rhythmologicum Connect\n                </p>\n                <p className=\"text-sm font-medium text-slate-900 dark:text-slate-100\">\n                  Stress &amp; Resilienz Pilot\n                </p>\n              </div>\n              {/* User info, theme toggle, and logout */}\n              <div className=\"flex items-center gap-4\">\n                {user && (\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"text-right\">\n                      <p className=\"text-xs text-slate-500 dark:text-slate-400\">Angemeldet als</p>\n                      <p className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">\n                        {roleDisplay}\n                      </p>\n                    </div>\n                    <ThemeToggle size=\"sm\" />\n                    <button\n                      onClick={handleSignOut}\n                      className=\"px-3 py-1.5 text-xs font-medium rounded-md transition-colors duration-200 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-slate-100\"\n                    >\n                      Abmelden\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n            <PatientNavigation navItems={navItems} variant=\"desktop\" />\n          </div>\n        </header>\n\n        <main className=\"flex-1\">{children}</main>\n\n        {/* Desktop Footer */}\n        <footer className=\"border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 transition-colors duration-150\">\n          <div className=\"max-w-6xl mx-auto px-4 py-3 flex flex-col sm:flex-row items-center justify-between gap-2\">\n            <div className=\"flex flex-col sm:flex-row items-center gap-2 sm:gap-3\">\n              <p className=\"text-[11px] text-slate-500 dark:text-slate-400\">\n                Rhythmologicum Connect ‚Äì fr√ºhe Testversion, nicht f√ºr den klinischen Einsatz.\n              </p>\n              <Link\n                href=\"/datenschutz\"\n                className=\"text-[11px] font-medium text-sky-600 dark:text-sky-400 hover:opacity-80 transition-opacity\"\n              >\n                Datenschutz\n              </Link>\n            </div>\n            <p className=\"text-[11px] text-slate-400 dark:text-slate-500\">\n              ¬© {new Date().getFullYear()} Rhythmologicum\n            </p>\n          </div>\n        </footer>\n      </div>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAXA;;;;;;;;;;AAae,SAAS,oBAAoB,EAAE,QAAQ,EAA2B;IAC/E,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAE9C,IAAA,kNAAS,EAAC;QACR,mBAAmB;QACnB,MAAM,UAAU;YACd,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,yLAAQ,CAAC,IAAI,CAAC,OAAO;YAC/B,QAAQ;QACV;QACA;QAEA,4BAA4B;QAC5B,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,yLAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ;YAC3C,QAAQ,SAAS,QAAQ;QAC3B;QAEA,OAAO;YACL,aAAa,WAAW;QAC1B;IACF,GAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,MAAM,yLAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,IAAI;YACF,MAAM,MAAM,qBAAqB;gBAAE,QAAQ;gBAAQ,aAAa;YAAU;QAC5E,EAAE,OAAM;QACN,2DAA2D;QAC7D;QACA,OAAO,QAAQ,CAAC,MAAM,CAAC;IACzB;IAEA,iDAAiD;IACjD,MAAM,WAAW,IAAA,sJAAkB,EAAC,MAAM;IAC1C,MAAM,OAAO,IAAA,+IAAW,EAAC;IACzB,MAAM,cAAc,IAAA,sJAAkB,EAAC;IAEvC,qBACE;;0BAEE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,kMAAa;8BAAE;;;;;;;;;;;0BAIlB,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAO,WAAU;kCAChB,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;8DACC,8OAAC;oDAAE,WAAU;8DAA+E;;;;;;8DAG5F,8OAAC;oDAAE,WAAU;8DAAyD;;;;;;;;;;;;sDAKxE,8OAAC;4CAAI,WAAU;sDACZ,sBACC,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAE,WAAU;0EAA6C;;;;;;0EAC1D,8OAAC;gEAAE,WAAU;0EACV;;;;;;;;;;;;kEAGL,8OAAC,wIAAW;wDAAC,MAAK;;;;;;kEAClB,8OAAC;wDACC,SAAS;wDACT,WAAU;kEACX;;;;;;;;;;;;;;;;;;;;;;;8CAOT,8OAAC,4JAAiB;oCAAC,UAAU;oCAAU,SAAQ;;;;;;;;;;;;;;;;;kCAInD,8OAAC;wBAAK,WAAU;kCAAU;;;;;;kCAG1B,8OAAC;wBAAO,WAAU;kCAChB,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAiD;;;;;;sDAG9D,8OAAC,uKAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;8CAIH,8OAAC;oCAAE,WAAU;;wCAAiD;wCACzD,IAAI,OAAO,WAAW;wCAAG;;;;;;;;;;;;;;;;;;;;;;;;;;AAO1C"}}]
}