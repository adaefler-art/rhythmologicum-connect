module.exports=[49838,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(53547);var e=a.i(28914),f=a.i(3539);a.i(59620);var g=a.i(3706),h=a.i(63548),i=a.i(8184),j=a.i(68902);a.i(14240);var k=a.i(76756),l=a.i(46842),m=a.i(70106);let n=(0,m.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),o=(0,m.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var p=a.i(41975);function q({fullName:a,birthYear:c,sex:d,patientId:e,latestRiskLevel:f,hrvStatus:h,hasPendingAssessment:i}){let j=new Date().getFullYear(),k=c?j-c:null,m=(a=>{switch(a){case"high":return{variant:"danger",label:"High Risk"};case"moderate":return{variant:"warning",label:"Moderate Risk"};case"low":return{variant:"success",label:"Low Risk"};case"pending":return{variant:"secondary",label:"Pending"};default:return null}})(f),q=(a=>{switch(a){case"low":return{variant:"warning",label:"HRV Low"};case"normal":return{variant:"success",label:"HRV Normal"};case"high":return{variant:"info",label:"HRV High"};default:return null}})(h);return(0,b.jsxs)("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-6 shadow-sm mb-6 transition-colors duration-150",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-50 mb-4",children:a||"Patient:in"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 mb-4 text-slate-600 dark:text-slate-300",children:[k&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n,{className:"w-4 h-4 text-slate-400 dark:text-slate-500"}),(0,b.jsxs)("span",{className:"text-sm",children:[k," Jahre (Jahrgang ",c,")"]})]}),d&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(l.User,{className:"w-4 h-4 text-slate-400 dark:text-slate-500"}),(0,b.jsx)("span",{className:"text-sm",children:d===p.PATIENT_SEX.MALE?"MÃ¤nnlich":d===p.PATIENT_SEX.FEMALE?"Weiblich":d===p.PATIENT_SEX.OTHER?"Divers":d===p.PATIENT_SEX.PREFER_NOT_TO_SAY?"Keine Angabe":d})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o,{className:"w-4 h-4 text-slate-400 dark:text-slate-500"}),(0,b.jsxs)("span",{className:"text-sm text-slate-400 dark:text-slate-500",children:["ID: ",e.slice(0,8),"..."]})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[m&&(0,b.jsx)(g.Badge,{variant:m.variant,children:m.label}),q&&(0,b.jsx)(g.Badge,{variant:q.variant,children:q.label}),i&&(0,b.jsx)(g.Badge,{variant:"secondary",children:"Pending Assessment"})]})]})}var r=a.i(4720);function s({assessments:a,onViewDetails:c}){return 0===a.length?(0,b.jsx)(h.Card,{padding:"lg",shadow:"md",children:(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("p",{className:"text-6xl mb-4","aria-label":"Beruhigendes Symbol",children:"ðŸŒ¿"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50 mb-2",children:"Noch keine Assessments vorhanden"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"FÃ¼r diese:n Patient:in wurden noch keine Assessments durchgefÃ¼hrt."})]})}):(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsx)(h.Card,{padding:"lg",shadow:"md",interactive:!!c,onClick:c?()=>c(a.id):void 0,children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)(n,{className:"w-4 h-4 text-slate-400 dark:text-slate-500"}),(0,b.jsx)("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:function(a){try{return new Intl.DateTimeFormat("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(a))}catch{return"Datum unbekannt"}}(a.created_at)}),(0,b.jsx)(g.Badge,{variant:function(a){switch(a){case"high":return"danger";case"moderate":return"warning";case"low":return"success";default:return"secondary"}}(a.risk_level),size:"sm",children:function(a){switch(a){case"high":return"Hoch";case"moderate":return"Mittel";case"low":return"Niedrig";case"pending":return"Ausstehend";default:return"Unbekannt"}}(a.risk_level)})]}),(0,b.jsxs)("div",{className:"flex gap-4 mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o,{className:"w-4 h-4 text-sky-500 dark:text-sky-400"}),(0,b.jsxs)("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:["Stress: ",null!==a.stress_score?a.stress_score:"â€”"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),(0,b.jsxs)("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:["Schlaf: ",null!==a.sleep_score?a.sleep_score:"â€”"]})]})]}),a.reports?.report_text_short&&(0,b.jsxs)("div",{className:"flex items-start gap-2 mt-3 pt-3 border-t border-slate-100 dark:border-slate-700",children:[(0,b.jsx)(r.FileText,{className:"w-4 h-4 text-slate-400 dark:text-slate-500 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300 line-clamp-2",children:a.reports.report_text_short})]})]}),c&&(0,b.jsx)("div",{className:"flex items-center text-sky-600 text-sm font-medium",children:"Details â†’"})]})},a.id))})}let t=(0,m.default)("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]);var u=a.i(24669);function v({labValues:a,loading:c,errorEvidenceCode:d}){return c?(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(t,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Key Labs"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Labordaten werden geladenâ€¦"})]}):d?(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(t,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Key Labs"})]}),(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)(t,{className:"w-8 h-8 text-amber-300 dark:text-amber-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:"Datenquelle aktuell nicht verfÃ¼gbar"}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["EVIDENCE: ",d]})]})]}):0===a.length?(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(t,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Key Labs"})]}),(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)(t,{className:"w-8 h-8 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Keine Labordaten verfÃ¼gbar"})]})]}):(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(t,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Key Labs"})]}),(0,b.jsx)("div",{className:"space-y-3",children:a.map((a,c)=>{var d;return(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(u.TrendingUp,{className:"w-4 h-4 text-slate-400 dark:text-slate-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-50",children:a.test_name})]}),(0,b.jsxs)("div",{className:"flex items-baseline gap-2 pl-6",children:[(0,b.jsx)("span",{className:"text-lg font-semibold text-sky-600 dark:text-sky-400",children:"number"==typeof(d=a.value)?d.toFixed(2):String(d)}),a.unit&&(0,b.jsx)("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:a.unit})]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-start sm:items-end gap-1 sm:pl-4",children:[a.reference_range&&(0,b.jsxs)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Ref: ",a.reference_range]}),a.date&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-400 dark:text-slate-500",children:[(0,b.jsx)(n,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.date})]})]})]},c)})})]})}let w=(0,m.default)("pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);function x({medications:a,loading:c,errorEvidenceCode:d}){return c?(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(w,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Medikamente"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Medikamentendaten werden geladenâ€¦"})]}):d?(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(w,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Medikamente"})]}),(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)(w,{className:"w-8 h-8 text-amber-300 dark:text-amber-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:"Datenquelle aktuell nicht verfÃ¼gbar"}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["EVIDENCE: ",d]})]})]}):0===a.length?(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(w,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Medikamente"})]}),(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)(w,{className:"w-8 h-8 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Keine Medikamentendaten verfÃ¼gbar"})]})]}):(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(w,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Medikamente"})]}),(0,b.jsx)("div",{className:"space-y-3",children:a.map((a,c)=>(0,b.jsxs)("div",{className:"p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:a.name}),a.dosage&&(0,b.jsx)(g.Badge,{variant:"secondary",size:"sm",children:a.dosage})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs text-slate-600 dark:text-slate-300",children:[a.frequency&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"HÃ¤ufigkeit:"}),(0,b.jsx)("span",{children:a.frequency})]}),a.route&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Route:"}),(0,b.jsx)("span",{children:a.route})]})]})]},c))})]})}var y=a.i(73570);let z=(0,m.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var A=a.i(3314);function B(a){return a>=80?{variant:"success",label:"Gut"}:a>=60?{variant:"warning",label:"Mittel"}:{variant:"danger",label:"Niedrig"}}function C({safetyScore:a,safetyFindings:c,calculatedScores:d,riskModels:e,loading:f,errorEvidenceCode:i}){let j;if(f)return(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(A.Shield,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Findings & Scores"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Daten werden geladenâ€¦"})]});if(i)return(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(A.Shield,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Findings & Scores"})]}),(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)(A.Shield,{className:"w-8 h-8 text-amber-300 dark:text-amber-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:"Datenquelle aktuell nicht verfÃ¼gbar"}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["EVIDENCE: ",i]})]})]});if(!(null!=a||d||e||c))return(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(A.Shield,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Findings & Scores"})]}),(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)(A.Shield,{className:"w-8 h-8 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Keine Findings oder Scores verfÃ¼gbar"})]})]});let k=c?(j={total:0,critical:0,high:0,medium:0,low:0},"object"==typeof c&&null!==c&&("findings_count"in c&&"number"==typeof c.findings_count&&(j.total=c.findings_count),"critical_findings_count"in c&&"number"==typeof c.critical_findings_count&&(j.critical=c.critical_findings_count),"high_findings_count"in c&&"number"==typeof c.high_findings_count&&(j.high=c.high_findings_count),"medium_findings_count"in c&&"number"==typeof c.medium_findings_count&&(j.medium=c.medium_findings_count),"low_findings_count"in c&&"number"==typeof c.low_findings_count&&(j.low=c.low_findings_count)),j):null;return(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(A.Shield,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Findings & Scores"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[null!=a&&(0,b.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Safety Score"}),(0,b.jsx)(g.Badge,{variant:B(a).variant,children:B(a).label})]}),(0,b.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,b.jsx)("span",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:a}),(0,b.jsx)("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"/ 100"})]})]}),k&&k.total>0&&(0,b.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(y.AlertTriangle,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Findings Ãœbersicht"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[k.critical>0&&(0,b.jsxs)("div",{className:"text-center p-2 bg-red-50 dark:bg-red-900/20 rounded border border-red-200 dark:border-red-800",children:[(0,b.jsx)("div",{className:"text-xs text-red-600 dark:text-red-400",children:"Kritisch"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-red-700 dark:text-red-300",children:k.critical})]}),k.high>0&&(0,b.jsxs)("div",{className:"text-center p-2 bg-orange-50 dark:bg-orange-900/20 rounded border border-orange-200 dark:border-orange-800",children:[(0,b.jsx)("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:"Hoch"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-orange-700 dark:text-orange-300",children:k.high})]}),k.medium>0&&(0,b.jsxs)("div",{className:"text-center p-2 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[(0,b.jsx)("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Mittel"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-amber-700 dark:text-amber-300",children:k.medium})]}),k.low>0&&(0,b.jsxs)("div",{className:"text-center p-2 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-800",children:[(0,b.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Niedrig"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300",children:k.low})]})]})]}),d&&Object.keys(d).length>0&&(0,b.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(u.TrendingUp,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Berechnete Scores"})]}),(0,b.jsx)("div",{className:"space-y-2",children:Object.entries(d).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-600 dark:text-slate-400 capitalize",children:a.replace(/_/g," ")}),(0,b.jsx)("span",{className:"font-medium text-slate-900 dark:text-slate-50",children:"number"==typeof c?c:JSON.stringify(c)})]},a))})]}),e&&Object.keys(e).length>0&&(0,b.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(z,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Risk Models"})]}),(0,b.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[Object.keys(e).length," Modell(e) verfÃ¼gbar"]})]})]})]})}var D=a.i(50429);let E=(0,m.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function F({interventions:a,loading:c,errorEvidenceCode:d}){return c?(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(D.Target,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Empfohlene Interventionen"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Interventionen werden geladenâ€¦"})]}):d?(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(D.Target,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Empfohlene Interventionen"})]}),(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)(D.Target,{className:"w-8 h-8 text-amber-300 dark:text-amber-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:"Datenquelle aktuell nicht verfÃ¼gbar"}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["EVIDENCE: ",d]})]})]}):0===a.length?(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(D.Target,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Empfohlene Interventionen"})]}),(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)(D.Target,{className:"w-8 h-8 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Keine Interventionen verfÃ¼gbar"})]})]}):(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(D.Target,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Empfohlene Interventionen"})]}),(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>{var c;let d=(c=a.priorityScore)>=80?{variant:"danger",label:"Sehr hoch"}:c>=60?{variant:"warning",label:"Hoch"}:c>=40?{variant:"info",label:"Mittel"}:{variant:"success",label:"Niedrig"};return(0,b.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700 hover:border-sky-200 dark:hover:border-sky-800 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-sky-100 dark:bg-sky-900/30 text-sky-700 dark:text-sky-300 text-xs font-bold",children:a.rank}),(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:a.topicLabel})]}),(0,b.jsx)(g.Badge,{variant:d.variant,size:"sm",children:d.label})]}),a.pillar&&(0,b.jsx)("div",{className:"mb-2",children:(0,b.jsxs)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["SÃ¤ule: ",a.pillar]})}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[(0,b.jsxs)("div",{className:"text-center p-2 bg-white dark:bg-slate-900/50 rounded",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,b.jsx)(E,{className:"w-3 h-3 text-amber-600 dark:text-amber-400"}),(0,b.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"PrioritÃ¤t"})]}),(0,b.jsx)("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:a.priorityScore})]}),(0,b.jsxs)("div",{className:"text-center p-2 bg-white dark:bg-slate-900/50 rounded",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,b.jsx)(u.TrendingUp,{className:"w-3 h-3 text-emerald-600 dark:text-emerald-400"}),(0,b.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Impact"})]}),(0,b.jsx)("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:a.impactScore})]}),(0,b.jsxs)("div",{className:"text-center p-2 bg-white dark:bg-slate-900/50 rounded",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,b.jsx)(D.Target,{className:"w-3 h-3 text-sky-600 dark:text-sky-400"}),(0,b.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Umsetzbar"})]}),(0,b.jsx)("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50",children:a.feasibilityScore})]})]}),a.signals&&a.signals.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.signals.slice(0,3).map((a,c)=>(0,b.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded",children:a},c)),a.signals.length>3&&(0,b.jsxs)("span",{className:"inline-block px-2 py-0.5 text-xs text-slate-500 dark:text-slate-400",children:["+",a.signals.length-3," mehr"]})]})]},a.rank)})})]})}var G=a.i(62722),H=a.i(41710),I=a.i(87466),J=a.i(96990);function K(a){switch(a){case"pass":return{variant:"success",label:"Bestanden"};case"flag":return{variant:"warning",label:"Markiert"};case"fail":return{variant:"danger",label:"Fehlgeschlagen"};default:return{variant:"warning",label:"Unbekannt"}}}function L(a){switch(a){case"PASS":return{variant:"success",label:"Sicher"};case"FLAG":return{variant:"warning",label:"PrÃ¼fung"};case"BLOCK":return{variant:"danger",label:"Blockiert"};case"UNKNOWN":return{variant:"secondary",label:"Unbekannt"};default:return{variant:"secondary",label:a}}}function M(a){return a>=80?{variant:"success",label:"Gut"}:a>=60?{variant:"warning",label:"Mittel"}:{variant:"danger",label:"Niedrig"}}function N({reviewId:a,onDecisionMade:d}){let[e,f]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),[x,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(!1);async function N(){if(!x)return void alert("Bitte wÃ¤hlen Sie einen Grund aus");try{F(!0);let b=await fetch(`/api/review/${a}/decide`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:J.REVIEW_STATUS.APPROVED,reasonCode:x,notes:C||void 0})}),c=await b.json();if(!c.success)return void alert(c.error?.message||"Fehler beim Genehmigen");u(!1),B(null),D(""),d&&d(),window.location.reload()}catch(a){console.error("Error approving review:",a),alert("Fehler beim Genehmigen")}finally{F(!1)}}async function O(){if(!x)return void alert("Bitte wÃ¤hlen Sie einen Grund aus");try{F(!0);let b=await fetch(`/api/review/${a}/decide`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:J.REVIEW_STATUS.REJECTED,reasonCode:x,notes:C||void 0})}),c=await b.json();if(!c.success)return void alert(c.error?.message||"Fehler beim Ablehnen");w(!1),B(null),D(""),d&&d(),window.location.reload()}catch(a){console.error("Error rejecting review:",a),alert("Fehler beim Ablehnen")}finally{F(!1)}}if((0,c.useEffect)(()=>{!async function(){try{f(!0),k(null);let b=await fetch(`/api/review/${a}/details`),c=await b.json();if(!c.success)return void k(c.error?.message||"Fehler beim Laden der Review-Daten");m(c.data.review),o(c.data.validation),q(c.data.safety),s(c.data.decision)}catch(a){console.error("Error loading review details:",a),k("Fehler beim Laden der Review-Daten")}finally{f(!1)}}()},[a]),e)return(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(A.Shield,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"QA Review Panel"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Daten werden geladenâ€¦"})]});if(j)return(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(A.Shield,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"QA Review Panel"})]}),(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)(y.AlertTriangle,{className:"w-8 h-8 text-amber-500 dark:text-amber-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:j})]})]});if(!l)return null;let P=l.status===J.REVIEW_STATUS.PENDING;return(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(A.Shield,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"QA Review Panel"})]}),(0,b.jsx)(g.Badge,{variant:l.status===J.REVIEW_STATUS.APPROVED?"success":l.status===J.REVIEW_STATUS.REJECTED?"danger":"secondary",children:(0,J.getStatusLabel)(l.status)})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(I.FileCheck,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Review Information"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Queue Reasons:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1 justify-end",children:l.queueReasons.map(a=>(0,b.jsx)(g.Badge,{variant:"secondary",size:"sm",children:(0,J.getQueueReasonLabel)(a)},a))})]}),l.isSampled&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Sampled:"}),(0,b.jsx)(g.Badge,{variant:"info",size:"sm",children:"Quality Sample"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Iteration:"}),(0,b.jsx)("span",{className:"font-medium text-slate-900 dark:text-slate-50",children:l.reviewIteration})]})]})]}),n&&(0,b.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(y.AlertTriangle,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Layer 1: Medical Validation"})]}),(0,b.jsx)(g.Badge,{variant:K(n.overallStatus).variant,children:K(n.overallStatus).label})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Rules Evaluated:"}),(0,b.jsx)("span",{className:"font-medium text-slate-900 dark:text-slate-50",children:n.rulesEvaluatedCount})]}),n.flagsRaisedCount>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"Flags Raised:"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[n.criticalFlagsCount>0&&(0,b.jsxs)("div",{className:"text-center p-2 bg-red-50 dark:bg-red-900/20 rounded border border-red-200 dark:border-red-800",children:[(0,b.jsx)("div",{className:"text-xs text-red-600 dark:text-red-400",children:"Kritisch"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-red-700 dark:text-red-300",children:n.criticalFlagsCount})]}),n.warningFlagsCount>0&&(0,b.jsxs)("div",{className:"text-center p-2 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[(0,b.jsx)("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Warnung"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-amber-700 dark:text-amber-300",children:n.warningFlagsCount})]}),n.infoFlagsCount>0&&(0,b.jsxs)("div",{className:"text-center p-2 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-800",children:[(0,b.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Info"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300",children:n.infoFlagsCount})]})]})]})]})]}),p&&(0,b.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(A.Shield,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Layer 2: Safety Check"})]}),(0,b.jsx)(g.Badge,{variant:L(p.overallAction).variant,children:L(p.overallAction).label})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"p-3 bg-white dark:bg-slate-900/50 rounded border border-slate-200 dark:border-slate-600",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Safety Score"}),(0,b.jsx)(g.Badge,{variant:M(p.safetyScore).variant,children:M(p.safetyScore).label})]}),(0,b.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,b.jsx)("span",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:p.safetyScore}),(0,b.jsx)("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"/ 100"})]})]}),p.findingsCount>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"Safety Findings:"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[p.criticalFindingsCount>0&&(0,b.jsxs)("div",{className:"text-center p-2 bg-red-50 dark:bg-red-900/20 rounded border border-red-200 dark:border-red-800",children:[(0,b.jsx)("div",{className:"text-xs text-red-600 dark:text-red-400",children:"Kritisch"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-red-700 dark:text-red-300",children:p.criticalFindingsCount})]}),p.highFindingsCount>0&&(0,b.jsxs)("div",{className:"text-center p-2 bg-orange-50 dark:bg-orange-900/20 rounded border border-orange-200 dark:border-orange-800",children:[(0,b.jsx)("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:"Hoch"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-orange-700 dark:text-orange-300",children:p.highFindingsCount})]}),p.mediumFindingsCount>0&&(0,b.jsxs)("div",{className:"text-center p-2 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[(0,b.jsx)("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Mittel"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-amber-700 dark:text-amber-300",children:p.mediumFindingsCount})]}),p.lowFindingsCount>0&&(0,b.jsxs)("div",{className:"text-center p-2 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-800",children:[(0,b.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Niedrig"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300",children:p.lowFindingsCount})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Severity:"}),(0,b.jsx)("span",{className:"font-medium text-slate-900 dark:text-slate-50",children:p.overallSeverity})]})]})]}),r&&r.decidedAt&&(0,b.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(H.Clock,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Decision History"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Decided By:"}),(0,b.jsx)("span",{className:"font-medium text-slate-900 dark:text-slate-50",children:r.reviewerRole})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Reason:"}),(0,b.jsx)("span",{className:"font-medium text-slate-900 dark:text-slate-50",children:r.reasonCode})]}),r.notes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Notes:"}),(0,b.jsx)("p",{className:"mt-1 text-slate-900 dark:text-slate-50",children:r.notes})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Decided At:"}),(0,b.jsx)("span",{className:"font-medium text-slate-900 dark:text-slate-50",children:new Date(r.decidedAt).toLocaleString("de-DE")})]})]})]}),P&&(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)(i.Button,{variant:"primary",onClick:()=>u(!0),className:"flex-1",children:[(0,b.jsx)(z,{className:"w-4 h-4 mr-2"}),"Approve"]}),(0,b.jsxs)(i.Button,{variant:"danger",onClick:()=>w(!0),className:"flex-1",children:[(0,b.jsx)(G.XCircle,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),t&&(0,b.jsxs)("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-emerald-900 dark:text-emerald-100 mb-3",children:"Approve Review"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Grund auswÃ¤hlen:"}),(0,b.jsxs)("select",{className:"w-full p-2 text-sm border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-50",value:x||"",onChange:a=>B(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"-- Bitte wÃ¤hlen --"}),(0,b.jsx)("option",{value:J.DECISION_REASON.APPROVED_SAFE,children:"Sicher"}),(0,b.jsx)("option",{value:J.DECISION_REASON.APPROVED_FALSE_POSITIVE,children:"Falsch-Positiv"}),(0,b.jsx)("option",{value:J.DECISION_REASON.APPROVED_ACCEPTABLE_RISK,children:"Akzeptables Risiko"}),(0,b.jsx)("option",{value:J.DECISION_REASON.APPROVED_SAMPLED_OK,children:"Sample OK"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notizen (optional):"}),(0,b.jsx)("textarea",{className:"w-full p-2 text-sm border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-50",rows:3,maxLength:500,value:C,onChange:a=>D(a.target.value),placeholder:"Optional notes..."})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(i.Button,{variant:"primary",onClick:N,disabled:E||!x,className:"flex-1",children:E?"Submitting...":"Confirm Approve"}),(0,b.jsx)(i.Button,{variant:"ghost",onClick:()=>{u(!1),B(null),D("")},disabled:E,children:"Cancel"})]})]})]}),v&&(0,b.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-red-900 dark:text-red-100 mb-3",children:"Reject Review"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Grund auswÃ¤hlen:"}),(0,b.jsxs)("select",{className:"w-full p-2 text-sm border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-50",value:x||"",onChange:a=>B(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"-- Bitte wÃ¤hlen --"}),(0,b.jsx)("option",{value:J.DECISION_REASON.REJECTED_UNSAFE,children:"Unsicher"}),(0,b.jsx)("option",{value:J.DECISION_REASON.REJECTED_CONTRAINDICATION,children:"Kontraindikation"}),(0,b.jsx)("option",{value:J.DECISION_REASON.REJECTED_PLAUSIBILITY,children:"PlausibilitÃ¤tsproblem"}),(0,b.jsx)("option",{value:J.DECISION_REASON.REJECTED_QUALITY,children:"QualitÃ¤tsproblem"}),(0,b.jsx)("option",{value:J.DECISION_REASON.REJECTED_POLICY,children:"RichtlinienverstoÃŸ"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notizen (optional):"}),(0,b.jsx)("textarea",{className:"w-full p-2 text-sm border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-50",rows:3,maxLength:500,value:C,onChange:a=>D(a.target.value),placeholder:"Optional notes..."})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(i.Button,{variant:"danger",onClick:O,disabled:E||!x,className:"flex-1",children:E?"Submitting...":"Confirm Reject"}),(0,b.jsx)(i.Button,{variant:"ghost",onClick:()=>{w(!1),B(null),D("")},disabled:E,children:"Cancel"})]})]})]})]})]})}function O({workupStatus:a,missingDataFields:c=[],assessmentId:d}){if(!a)return(0,b.jsx)(h.Card,{padding:"lg",shadow:"md",children:(0,b.jsx)("div",{className:"text-center py-4",children:(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Workup-Status noch nicht festgelegt"})})});let e="needs_more_data"===a,f=e?{icon:"ðŸ“‹",title:"Weitere Daten erforderlich",description:"Patient muss zusÃ¤tzliche Informationen bereitstellen.",badgeText:"Daten ergÃ¤nzen",badgeColor:"bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-400",borderColor:"border-amber-200 dark:border-amber-800"}:{icon:"âœ…",title:"Bereit zur Auswertung",description:"Alle erforderlichen Daten liegen vor.",badgeText:"VollstÃ¤ndig",badgeColor:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-400",borderColor:"border-emerald-200 dark:border-emerald-800"};return(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",border:!0,className:`${f.borderColor}`,children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,b.jsx)("span",{className:"text-3xl flex-shrink-0",children:f.icon}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("h3",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:f.title}),(0,b.jsx)("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${f.badgeColor}`,children:f.badgeText})]}),(0,b.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:f.description})]})]}),e&&c.length>0&&(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50 mb-2",children:"Fehlende Datenfelder:"}),(0,b.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:c.map((a,c)=>(0,b.jsxs)("li",{className:"text-sm text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-amber-600 dark:text-amber-400",children:"â€¢"}),(0,b.jsx)("code",{className:"text-xs bg-slate-100 dark:bg-slate-800 px-1 py-0.5 rounded",children:a})]},c))})]}),(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:(0,b.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Assessment ID: ",(0,b.jsx)("code",{className:"text-xs",children:d})]})})]})}var P=a.i(15618);let Q=(0,m.default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),R=(0,m.default)("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);function S(a,b){return a?"42P01"===a.code||"42703"===a.code||a.code?.startsWith("42")?`E_SCHEMA_${b}`:"PGRST301"===a.code||a.code?.startsWith("PGRST3")?`E_RLS_${b}`:`E_QUERY_${b}`:`E_UNKNOWN_${b}`}function T(){let a=(0,d.useParams)(),k=(0,d.useRouter)(),l=a.id,[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(null),[r,t]=(0,c.useState)(null),[u,w]=(0,c.useState)([]),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)([]),[D,E]=(0,c.useState)(null),[G,H]=(0,c.useState)({state:"empty"}),[I,J]=(0,c.useState)({state:"empty"}),[K,L]=(0,c.useState)({state:"empty"}),[M,T]=(0,c.useState)({state:"empty"}),[U,X]=(0,c.useState)({state:"empty"}),[Y,Z]=(0,c.useState)([]),[$,_]=(0,c.useState)(!1);if((0,c.useEffect)(()=>{let a=async()=>{try{n(!0),p(null);let[a,b]=await Promise.all([e.supabase.from("patient_profiles").select("*").eq("id",l).single(),e.supabase.from("patient_measures").select(`
            id,
            patient_id,
            stress_score,
            sleep_score,
            risk_level,
            created_at,
            report_id,
            reports!fk_patient_measures_report (
              id,
              report_text_short,
              created_at
            )
          `).eq("patient_id",l).order("created_at",{ascending:!1})]);if(a.error)throw a.error;if(b.error)throw b.error;t(a.data),w(b.data??[]);let{data:c,error:d}=await e.supabase.from("assessments").select("id, status, workup_status, missing_data_fields").eq("patient_id",l).order("created_at",{ascending:!1});if(d)console.warn("[I07.2]","E_QUERY_ASSESSMENTS","assessments"),H({state:"empty"}),J({state:"empty"}),L({state:"empty"}),T({state:"empty"}),X({state:"empty"});else if(c&&c.length>0){let a=c.map(a=>a.id),b=c.find(a=>"completed"===a.status);b&&(E(b.id),z(b.workup_status??null),B(Array.isArray(b.missing_data_fields)?b.missing_data_fields:[]));let{data:d,error:f}=await e.supabase.from("documents").select("id, extracted_json, doc_type, created_at").in("assessment_id",a).not("extracted_json","is",null).order("created_at",{ascending:!1}).limit(10);if(f){let a=S(f,"DOCS");console.warn("[I07.2]",a,"documents"),H({state:"error",evidenceCode:a}),J({state:"error",evidenceCode:a})}else if(d&&d.length>0){let a=d.flatMap(a=>a.extracted_json?.lab_values??[]),b=d.flatMap(a=>a.extracted_json?.medications??[]);H(a.length>0?{state:"ok",items:a.slice(0,5)}:{state:"empty"}),J(b.length>0?{state:"ok",items:b}:{state:"empty"})}else H({state:"empty"}),J({state:"empty"});let{data:g,error:h}=await e.supabase.from("reports").select("id, assessment_id, safety_score, safety_findings, created_at").in("assessment_id",a).order("created_at",{ascending:!1}).limit(1).single();if(h&&"PGRST116"!==h.code){let a=S(h,"SAFETY");console.warn("[I07.2]",a,"reports"),L({state:"error",evidenceCode:a})}else g?L({state:"ok",items:[g]}):L({state:"empty"});let{data:i,error:j}=await e.supabase.from("calculated_results").select("id, assessment_id, scores, risk_models, created_at").in("assessment_id",a).order("created_at",{ascending:!1}).limit(1).single();if(j&&"PGRST116"!==j.code){let a=S(j,"SCORES");console.warn("[I07.2]",a,"calculated_results"),T({state:"error",evidenceCode:a})}else i?T({state:"ok",items:[i]}):T({state:"empty"});let{data:k,error:l}=await e.supabase.from("processing_jobs").select("id").in("assessment_id",a).order("created_at",{ascending:!1}).limit(10);if(l){let a=S(l,"JOBS");console.warn("[I07.2]",a,"processing_jobs"),X({state:"error",evidenceCode:a})}else if(k&&k.length>0){let a=k.map(a=>a.id),{data:b,error:c}=await e.supabase.from("priority_rankings").select("id, ranking_data").in("job_id",a).order("created_at",{ascending:!1}).limit(1).single();if(c&&"PGRST116"!==c.code){let a=S(c,"INTERVENTIONS");console.warn("[I07.2]",a,"priority_rankings"),X({state:"error",evidenceCode:a})}else if(b){let a=b.ranking_data?.topInterventions??b.ranking_data?.rankedInterventions?.slice(0,5)??[];X(a.length>0?{state:"ok",items:a}:{state:"empty"})}else X({state:"empty"});let{data:d,error:f}=await e.supabase.from("review_records").select("id").in("job_id",a).order("created_at",{ascending:!1});!f&&d&&d.length>0?Z(d.map(a=>a.id)):Z([])}else X({state:"empty"})}else H({state:"empty"}),J({state:"empty"}),L({state:"empty"}),T({state:"empty"}),X({state:"empty"})}catch(a){console.error("Error loading patient details:",a),p(a instanceof Error?a.message:"Fehler beim Laden der Patientendaten.")}finally{n(!1)}};l&&a()},[l]),m)return(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"Patientendaten werden geladenâ€¦"})});if(o||!r)return(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"max-w-md text-center",children:[(0,b.jsx)("p",{className:"text-red-500 mb-4",children:o??"Patient nicht gefunden."}),(0,b.jsx)(i.Button,{variant:"primary",onClick:()=>k.push("/clinician"),children:"ZurÃ¼ck zur Ãœbersicht"})]})});let aa=u.length>0?u[0]:null;return(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("button",{onClick:()=>k.push("/clinician"),className:"mb-4 px-4 py-2.5 min-h-[44px] text-sm md:text-base text-sky-600 dark:text-sky-400 hover:text-sky-700 dark:hover:text-sky-300 hover:underline transition touch-manipulation inline-flex items-center gap-2",children:"â† ZurÃ¼ck zur Ãœbersicht"}),(0,b.jsx)(q,{fullName:r.full_name,birthYear:r.birth_year,sex:r.sex,patientId:l,latestRiskLevel:aa?.risk_level,hasPendingAssessment:aa?.risk_level==="pending"}),(0,b.jsxs)(j.Tabs,{defaultTab:"overview",children:[(0,b.jsxs)(j.TabsList,{children:[(0,b.jsx)(j.TabTrigger,{value:"overview",children:"Overview"}),(0,b.jsx)(j.TabTrigger,{value:"assessments",children:"Assessments"}),(0,b.jsx)(j.TabTrigger,{value:"insights",children:"AMY Insights"}),(0,b.jsx)(j.TabTrigger,{value:"actions",children:"Actions"})]}),(0,b.jsx)(j.TabContent,{value:"overview",children:0===u.length?(0,b.jsx)(h.Card,{padding:"lg",shadow:"md",children:(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("p",{className:"text-6xl mb-4","aria-label":"Beruhigendes Symbol",children:"ðŸŒ¿"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50 mb-2",children:"Noch keine Messungen vorhanden"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed",children:"FÃ¼r diese:n Patient:in liegen noch keine Stress- oder Schlafmessungen vor. Sobald das erste Assessment durchgefÃ¼hrt wurde, werden die Ergebnisse hier angezeigt."})]})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsx)(h.Card,{padding:"lg",shadow:"md",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Total Assessments"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-slate-900 dark:text-slate-50",children:u.length})]})}),(0,b.jsx)(h.Card,{padding:"lg",shadow:"md",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Latest Stress Score"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-slate-900 dark:text-slate-50",children:aa?.stress_score??"â€”"})]})}),(0,b.jsx)(h.Card,{padding:"lg",shadow:"md",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Latest Sleep Score"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-slate-900 dark:text-slate-50",children:aa?.sleep_score??"â€”"})]})})]}),f.featureFlags.CHARTS_ENABLED&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(R,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Stress-Verlauf"})]}),(0,b.jsx)(V,{measures:u})]}),(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(R,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Schlaf-Verlauf"})]}),(0,b.jsx)(W,{measures:u})]})]}),D&&(0,b.jsx)(O,{workupStatus:y,missingDataFields:A,assessmentId:D}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(v,{labValues:"ok"===G.state?G.items:[],loading:!1,errorEvidenceCode:"error"===G.state?G.evidenceCode:void 0}),(0,b.jsx)(x,{medications:"ok"===I.state?I.items:[],loading:!1,errorEvidenceCode:"error"===I.state?I.evidenceCode:void 0})]}),(0,b.jsx)(C,{safetyScore:"ok"===K.state?K.items[0]?.safety_score:void 0,safetyFindings:"ok"===K.state?K.items[0]?.safety_findings:void 0,calculatedScores:"ok"===M.state?M.items[0]?.scores:void 0,riskModels:"ok"===M.state?M.items[0]?.risk_models:void 0,loading:!1,errorEvidenceCode:"error"===K.state?K.evidenceCode:"error"===M.state?M.evidenceCode:void 0}),(0,b.jsx)(F,{interventions:"ok"===U.state?U.items:[],loading:!1,errorEvidenceCode:"error"===U.state?U.evidenceCode:void 0}),Y.length>0&&Y.map(a=>(0,b.jsx)(N,{reviewId:a,onDecisionMade:()=>{}},a)),(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Rohdaten (JSON)"}),(0,b.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>_(!$),children:$?"Verbergen":"Anzeigen"})]}),$&&(0,b.jsx)("pre",{className:"bg-slate-50 dark:bg-slate-900/50 rounded p-4 overflow-x-auto text-xs md:text-sm text-slate-800 dark:text-slate-200",children:JSON.stringify({patient:r,measures:u},null,2)})]})]})}),(0,b.jsx)(j.TabContent,{value:"assessments",children:(0,b.jsx)(s,{assessments:u,onViewDetails:a=>{let b=u.find(b=>b.id===a);b?.report_id&&k.push(`/clinician/report/${b.report_id}`)}})}),(0,b.jsx)(j.TabContent,{value:"insights",children:f.featureFlags.AMY_ENABLED&&u.some(a=>a.reports?.report_text_short)?(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(Q,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:"AMY-Berichte (Chronologisch)"})]}),(0,b.jsx)("div",{className:"space-y-4",children:u.filter(a=>a.reports?.report_text_short).map(a=>(0,b.jsxs)("div",{className:`border-l-4 pl-4 py-3 ${"high"===a.risk_level?"border-red-400":"moderate"===a.risk_level?"border-amber-400":"border-emerald-400"}`,children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-2",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs md:text-sm text-slate-500 dark:text-slate-400",children:(a=>{try{return new Intl.DateTimeFormat("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(a))}catch{return"Datum unbekannt"}})(a.created_at)}),(0,b.jsx)(g.Badge,{variant:(a=>{switch(a){case"high":return"danger";case"moderate":return"warning";case"low":return"success";default:return"secondary"}})(a.risk_level),size:"sm",children:(a=>{switch(a){case"high":return"Hoch";case"moderate":return"Mittel";case"low":return"Niedrig";case"pending":return"Ausstehend";default:return"Unbekannt"}})(a.risk_level)})]}),(0,b.jsxs)("div",{className:"text-xs md:text-sm text-slate-500 dark:text-slate-400",children:["Stress: ",a.stress_score??"â€”"," | Schlaf:"," ",a.sleep_score??"â€”"]})]}),(0,b.jsx)("p",{className:"text-sm md:text-base text-slate-700 dark:text-slate-300 whitespace-pre-line",children:a.reports.report_text_short})]},a.id))})]})}):(0,b.jsx)(h.Card,{padding:"lg",shadow:"md",children:(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(Q,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50 mb-2",children:"Keine AMY Insights verfÃ¼gbar"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:f.featureFlags.AMY_ENABLED?"FÃ¼r diese:n Patient:in liegen noch keine AMY-generierten Berichte vor.":"AMY-Integration ist derzeit deaktiviert."})]})})}),(0,b.jsx)(j.TabContent,{value:"actions",children:(0,b.jsxs)(h.Card,{padding:"lg",shadow:"md",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"VerfÃ¼gbare Aktionen"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(i.Button,{variant:"primary",fullWidth:!0,icon:(0,b.jsx)(P.Plus,{className:"w-4 h-4"}),onClick:()=>{alert("Assessment-Erstellung wird in v0.5 implementiert")},children:"Neues Assessment starten"}),(0,b.jsx)(i.Button,{variant:"outline",fullWidth:!0,onClick:()=>k.push("/clinician"),children:"ZurÃ¼ck zur PatientenÃ¼bersicht"})]})]})})]})]})}function U({dataPoints:a,color:c,emptyMessage:d}){if(0===a.length)return(0,b.jsx)("div",{className:"flex items-center justify-center h-48 text-sm text-slate-400",children:d});let e=a=>160-(a-0)/100*160,f=b=>b/Math.max(a.length-1,1)*100,g=a.map((a,b)=>{let c=f(b),d=e(a.value);return`${c},${d}`}).join(" ");return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("svg",{viewBox:"0 0 100 160",className:"w-full h-48",preserveAspectRatio:"none",children:[[0,25,50,75,100].map(a=>{let c=e(a);return(0,b.jsx)("line",{x1:"0",y1:c,x2:100,y2:c,stroke:k.colors.neutral[200],strokeWidth:"0.5"},a)}),(0,b.jsx)("polyline",{points:g,fill:"none",stroke:c,strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),a.map((a,d)=>{let g=f(d),h=e(a.value);return(0,b.jsx)("circle",{cx:g,cy:h,r:"2",fill:c},d)})]}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[(0,b.jsx)("span",{children:"0"}),(0,b.jsx)("span",{children:"100"})]})]})}function V({measures:a}){let c=a.filter(a=>null!==a.stress_score).reverse().map(a=>({value:a.stress_score,date:new Date(a.created_at)}));return(0,b.jsx)(U,{dataPoints:c,color:k.colors.primary[500],emptyMessage:"Keine Stress-Daten vorhanden"})}function W({measures:a}){let c=a.filter(a=>null!==a.sleep_score).reverse().map(a=>({value:a.sleep_score,date:new Date(a.created_at)}));return(0,b.jsx)(U,{dataPoints:c,color:k.colors.semantic.info,emptyMessage:"Keine Schlaf-Daten vorhanden"})}a.s(["default",()=>T],49838)}];

//# sourceMappingURL=apps_rhythm-studio-ui_app_clinician_patient_%5Bid%5D_page_tsx_ea8ddb6d._.js.map