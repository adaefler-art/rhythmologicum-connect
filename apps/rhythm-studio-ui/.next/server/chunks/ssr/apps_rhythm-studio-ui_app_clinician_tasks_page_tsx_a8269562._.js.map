{"version":3,"sources":["../../../../../../lib/contracts/task.ts","../../../../../../apps/rhythm-studio-ui/app/clinician/tasks/TaskCreateDialog.tsx","../../../../../../apps/rhythm-studio-ui/app/clinician/tasks/page.tsx","../../../../../../node_modules/lucide-react/src/icons/circle-play.ts"],"sourcesContent":["/**\n * Task Contract - V05-I07.4\n * \n * Defines the schema for task management with role-based assignment.\n * Supports task types: LDL measurement, video calls, device shipment, etc.\n * \n * Key guarantees:\n * - RBAC: Role-based assignment (nurse/clinician)\n * - Auditable: Full task lifecycle tracking\n * - Status tracking: pending → in_progress → completed/cancelled\n * \n * @module lib/contracts/task\n */\n\nimport { z } from 'zod'\n\n// ============================================================\n// Task Status\n// ============================================================\n\nexport const TASK_STATUS = {\n  PENDING: 'pending',\n  IN_PROGRESS: 'in_progress',\n  COMPLETED: 'completed',\n  CANCELLED: 'cancelled',\n} as const\n\nexport type TaskStatus = typeof TASK_STATUS[keyof typeof TASK_STATUS]\n\nexport const TaskStatusSchema = z.enum([\n  TASK_STATUS.PENDING,\n  TASK_STATUS.IN_PROGRESS,\n  TASK_STATUS.COMPLETED,\n  TASK_STATUS.CANCELLED,\n])\n\n// ============================================================\n// Task Type\n// ============================================================\n\nexport const TASK_TYPE = {\n  LDL_MEASUREMENT: 'ldl_measurement',\n  VIDEO_CALL: 'video_call',\n  DEVICE_SHIPMENT: 'device_shipment',\n  FOLLOW_UP: 'follow_up',\n  REVIEW_ASSESSMENT: 'review_assessment',\n  CONTACT_PATIENT: 'contact_patient',\n  SUPPORT_CASE: 'support_case', // V05-I08.4: Support case escalation\n} as const\n\nexport type TaskType = typeof TASK_TYPE[keyof typeof TASK_TYPE]\n\nexport const TaskTypeSchema = z.enum([\n  TASK_TYPE.LDL_MEASUREMENT,\n  TASK_TYPE.VIDEO_CALL,\n  TASK_TYPE.DEVICE_SHIPMENT,\n  TASK_TYPE.FOLLOW_UP,\n  TASK_TYPE.REVIEW_ASSESSMENT,\n  TASK_TYPE.CONTACT_PATIENT,\n  TASK_TYPE.SUPPORT_CASE,\n])\n\n// ============================================================\n// User Role (for assignment)\n// ============================================================\n\nexport const USER_ROLE = {\n  CLINICIAN: 'clinician',\n  NURSE: 'nurse',\n  ADMIN: 'admin',\n} as const\n\nexport type UserRole = typeof USER_ROLE[keyof typeof USER_ROLE]\n\nexport const UserRoleSchema = z.enum([\n  USER_ROLE.CLINICIAN,\n  USER_ROLE.NURSE,\n  USER_ROLE.ADMIN,\n])\n\n// ============================================================\n// Task Payload Schemas\n// ============================================================\n\n/**\n * Payload for LDL measurement task\n */\nexport const LDLMeasurementPayloadSchema = z.object({\n  instructions: z.string().optional(),\n  target_date: z.string().optional(), // ISO date string\n})\n\n/**\n * Payload for video call task\n */\nexport const VideoCallPayloadSchema = z.object({\n  meeting_link: z.string().url().optional(),\n  scheduled_time: z.string().optional(), // ISO datetime string\n  duration_minutes: z.number().int().positive().optional(),\n  notes: z.string().optional(),\n})\n\n/**\n * Payload for device shipment task\n */\nexport const DeviceShipmentPayloadSchema = z.object({\n  device_type: z.string(),\n  tracking_number: z.string().optional(),\n  shipping_address: z.string().optional(),\n  notes: z.string().optional(),\n})\n\n/**\n * Generic payload for other task types\n */\nexport const GenericTaskPayloadSchema = z.object({\n  description: z.string().optional(),\n  notes: z.string().optional(),\n})\n\n// ============================================================\n// Task Schema\n// ============================================================\n\nexport const TaskSchema = z.object({\n  id: z.string().uuid(),\n  patient_id: z.string().uuid(),\n  assessment_id: z.string().uuid().nullable(),\n  created_by_role: UserRoleSchema.nullable(),\n  assigned_to_role: UserRoleSchema,\n  assigned_to_user_id: z.string().uuid().nullable(),\n  task_type: TaskTypeSchema,\n  payload: z.record(z.string(), z.any()), // JSONB - flexible payload\n  status: TaskStatusSchema,\n  due_at: z.string().nullable(), // ISO datetime string\n  created_at: z.string(),\n  updated_at: z.string().nullable(),\n})\n\nexport type Task = z.infer<typeof TaskSchema>\n\n// ============================================================\n// Create Task Request\n// ============================================================\n\nexport const CreateTaskRequestSchema = z.object({\n  patient_id: z.string().uuid(),\n  assessment_id: z.string().uuid().optional(),\n  assigned_to_role: UserRoleSchema,\n  assigned_to_user_id: z.string().uuid().optional(),\n  task_type: TaskTypeSchema,\n  payload: z.record(z.string(), z.any()).optional(),\n  due_at: z.string().optional(), // ISO datetime string\n})\n\nexport type CreateTaskRequest = z.infer<typeof CreateTaskRequestSchema>\n\n// ============================================================\n// Update Task Request\n// ============================================================\n\nexport const UpdateTaskRequestSchema = z.object({\n  status: TaskStatusSchema.optional(),\n  payload: z.record(z.string(), z.any()).optional(),\n  due_at: z.string().nullable().optional(),\n})\n\nexport type UpdateTaskRequest = z.infer<typeof UpdateTaskRequestSchema>\n\n// ============================================================\n// Task Query Filters\n// ============================================================\n\nexport const TaskFiltersSchema = z.object({\n  patient_id: z.string().uuid().optional(),\n  assessment_id: z.string().uuid().optional(),\n  assigned_to_role: UserRoleSchema.optional(),\n  task_type: TaskTypeSchema.optional(),\n  status: TaskStatusSchema.optional(),\n})\n\nexport type TaskFilters = z.infer<typeof TaskFiltersSchema>\n\n// ============================================================\n// Helper Functions\n// ============================================================\n\n/**\n * Get human-readable task type label\n */\nexport function getTaskTypeLabel(taskType: TaskType): string {\n  switch (taskType) {\n    case TASK_TYPE.LDL_MEASUREMENT:\n      return 'LDL-Messung'\n    case TASK_TYPE.VIDEO_CALL:\n      return 'Video-Call'\n    case TASK_TYPE.DEVICE_SHIPMENT:\n      return 'Geräteversand'\n    case TASK_TYPE.FOLLOW_UP:\n      return 'Follow-up'\n    case TASK_TYPE.REVIEW_ASSESSMENT:\n      return 'Assessment prüfen'\n    case TASK_TYPE.CONTACT_PATIENT:\n      return 'Patient kontaktieren'\n    case TASK_TYPE.SUPPORT_CASE:\n      return 'Support-Fall'\n    default:\n      return taskType\n  }\n}\n\n/**\n * Get human-readable task status label\n */\nexport function getTaskStatusLabel(status: TaskStatus): string {\n  switch (status) {\n    case TASK_STATUS.PENDING:\n      return 'Ausstehend'\n    case TASK_STATUS.IN_PROGRESS:\n      return 'In Bearbeitung'\n    case TASK_STATUS.COMPLETED:\n      return 'Abgeschlossen'\n    case TASK_STATUS.CANCELLED:\n      return 'Abgebrochen'\n    default:\n      return status\n  }\n}\n\n/**\n * Get human-readable user role label\n */\nexport function getUserRoleLabel(role: UserRole): string {\n  switch (role) {\n    case USER_ROLE.CLINICIAN:\n      return 'Arzt/Ärztin'\n    case USER_ROLE.NURSE:\n      return 'Pflegekraft'\n    case USER_ROLE.ADMIN:\n      return 'Administrator'\n    default:\n      return role\n  }\n}\n","'use client'\n\n/**\n * Task Create Dialog - V05-I07.4\n * \n * Dialog for creating new tasks\n */\n\nimport { useState, useEffect, useCallback } from 'react'\nimport { Button, Card, Input, Select, Textarea, Label } from '@/lib/ui'\nimport { X } from 'lucide-react'\nimport {\n  TASK_TYPE,\n  USER_ROLE,\n  CreateTaskRequest,\n  TaskType,\n  UserRole,\n  getTaskTypeLabel,\n  getUserRoleLabel,\n} from '@/lib/contracts/task'\n\ntype TaskCreateDialogProps = {\n  onClose: () => void\n  onTaskCreated: () => void\n}\n\ntype PatientOption = {\n  id: string\n  full_name: string | null\n  user_id: string\n}\n\nexport default function TaskCreateDialog({ onClose, onTaskCreated }: TaskCreateDialogProps) {\n  const [loading, setLoading] = useState(false)\n  const [loadingPatients, setLoadingPatients] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [patients, setPatients] = useState<PatientOption[]>([])\n\n  const [patientId, setPatientId] = useState('')\n  const [taskType, setTaskType] = useState<TaskType>(TASK_TYPE.LDL_MEASUREMENT)\n  const [assignedToRole, setAssignedToRole] = useState<UserRole>(USER_ROLE.CLINICIAN)\n  const [dueDate, setDueDate] = useState('')\n  const [notes, setNotes] = useState('')\n\n  // Load patients\n  useEffect(() => {\n    const loadPatients = async () => {\n      try {\n        setLoadingPatients(true)\n        const response = await fetch('/api/patient-profiles')\n        if (!response.ok) {\n          throw new Error('Failed to load patients')\n        }\n        const result = await response.json()\n        setPatients(result.data ?? [])\n      } catch (e) {\n        console.error('Failed to load patients:', e)\n        setError('Fehler beim Laden der Patienten')\n        // Continue even if we can't load patients - user can still type patient ID\n      } finally {\n        setLoadingPatients(false)\n      }\n    }\n\n    loadPatients()\n  }, [])\n\n  const handleSubmit = useCallback(\n    async (e: React.FormEvent) => {\n      e.preventDefault()\n      setError(null)\n      setLoading(true)\n\n      try {\n        const taskData: CreateTaskRequest = {\n          patient_id: patientId,\n          assigned_to_role: assignedToRole,\n          task_type: taskType,\n          payload: notes ? { notes } : undefined,\n          due_at: dueDate || undefined,\n        }\n\n        const response = await fetch('/api/tasks', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(taskData),\n        })\n\n        const result = await response.json()\n\n        if (!response.ok) {\n          throw new Error(result.error?.message || 'Failed to create task')\n        }\n\n        onTaskCreated()\n      } catch (e: unknown) {\n        console.error(e)\n        setError(e instanceof Error ? e.message : 'Fehler beim Erstellen der Aufgabe.')\n      } finally {\n        setLoading(false)\n      }\n    },\n    [patientId, assignedToRole, taskType, notes, dueDate, onTaskCreated]\n  )\n\n  const taskTypeOptions = Object.values(TASK_TYPE).map((type) => ({\n    value: type,\n    label: getTaskTypeLabel(type),\n  }))\n\n  const roleOptions = [USER_ROLE.CLINICIAN, USER_ROLE.NURSE].map((role) => ({\n    value: role,\n    label: getUserRoleLabel(role),\n  }))\n\n  const patientOptions = patients.map((patient) => ({\n    value: patient.id,\n    label: patient.full_name || patient.user_id,\n  }))\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\">\n      <Card className=\"w-full max-w-2xl max-h-[90vh] overflow-y-auto mx-4\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6 p-6 border-b border-slate-200 dark:border-slate-700\">\n          <h2 className=\"text-2xl font-bold text-slate-900 dark:text-slate-50\">\n            Neue Aufgabe erstellen\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors\"\n          >\n            <X className=\"w-5 h-5 text-slate-600 dark:text-slate-400\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {error && (\n            <div className=\"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\n              <p className=\"text-sm text-red-800 dark:text-red-200\">{error}</p>\n            </div>\n          )}\n\n          {/* Patient Selection */}\n          <div>\n            <Label htmlFor=\"patient\">Patient:in *</Label>\n            <Select\n              id=\"patient\"\n              value={patientId}\n              onChange={(e) => setPatientId(e.target.value)}\n              required\n              disabled={loadingPatients}\n            >\n              <option value=\"\">Bitte wählen...</option>\n              {patientOptions.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </Select>\n            {loadingPatients && (\n              <p className=\"text-sm text-slate-500 dark:text-slate-400 mt-1\">\n                Patienten werden geladen...\n              </p>\n            )}\n          </div>\n\n          {/* Task Type */}\n          <div>\n            <Label htmlFor=\"taskType\">Aufgabentyp *</Label>\n            <Select\n              id=\"taskType\"\n              value={taskType}\n              onChange={(e) => setTaskType(e.target.value as TaskType)}\n              required\n            >\n              {taskTypeOptions.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </Select>\n          </div>\n\n          {/* Assigned To Role */}\n          <div>\n            <Label htmlFor=\"assignedToRole\">Zuweisen an *</Label>\n            <Select\n              id=\"assignedToRole\"\n              value={assignedToRole}\n              onChange={(e) => setAssignedToRole(e.target.value as UserRole)}\n              required\n            >\n              {roleOptions.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </Select>\n          </div>\n\n          {/* Due Date */}\n          <div>\n            <Label htmlFor=\"dueDate\">Fälligkeitsdatum</Label>\n            <Input\n              id=\"dueDate\"\n              type=\"datetime-local\"\n              value={dueDate}\n              onChange={(e) => setDueDate(e.target.value)}\n            />\n          </div>\n\n          {/* Notes */}\n          <div>\n            <Label htmlFor=\"notes\">Notizen</Label>\n            <Textarea\n              id=\"notes\"\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Zusätzliche Informationen zur Aufgabe...\"\n              rows={4}\n            />\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex justify-end gap-3 pt-4 border-t border-slate-200 dark:border-slate-700\">\n            <Button type=\"button\" variant=\"secondary\" onClick={onClose} disabled={loading}>\n              Abbrechen\n            </Button>\n            <Button type=\"submit\" variant=\"primary\" loading={loading}>\n              Aufgabe erstellen\n            </Button>\n          </div>\n        </form>\n      </Card>\n    </div>\n  )\n}\n","'use client'\n\n/**\n * Tasks Management Page - V05-I07.4\n * \n * Clinician interface for managing tasks\n * - Create tasks (LDL measurement, video call, device shipment)\n * - View task list with filters\n * - Update task status\n */\n\nimport { useEffect, useState, useCallback, useMemo } from 'react'\nimport { Button, Card, Table, LoadingSpinner, ErrorState, Badge } from '@/lib/ui'\nimport type { TableColumn } from '@/lib/ui/Table'\nimport {\n  ClipboardList,\n  Plus,\n  CheckCircle,\n  Clock,\n  PlayCircle,\n  XCircle,\n  Filter,\n} from 'lucide-react'\nimport { \n  Task, \n  TASK_STATUS,\n  TaskStatus,\n  getTaskTypeLabel,\n  getTaskStatusLabel,\n  getUserRoleLabel,\n} from '@/lib/contracts/task'\nimport { supabase } from '@/lib/supabaseClient'\nimport { getUserRole } from '@/lib/utils/roleBasedRouting'\nimport TaskCreateDialog from './TaskCreateDialog'\n\ntype TaskWithPatient = Task & {\n  patient_profiles: {\n    id: string\n    full_name: string | null\n    user_id: string\n  } | null\n}\n\nexport default function TasksPage() {\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [tasks, setTasks] = useState<TaskWithPatient[]>([])\n  const [showCreateDialog, setShowCreateDialog] = useState(false)\n  const [statusFilter, setStatusFilter] = useState<TaskStatus | 'all'>('all')\n  // currentUserRole can be 'patient' but layout ensures only clinician/nurse/admin access this page\n  const [currentUserRole, setCurrentUserRole] = useState<string | null>(null)\n\n  // Get current user's role on mount\n  useEffect(() => {\n    const fetchUserRole = async () => {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser()\n      if (user) {\n        const role = getUserRole(user)\n        setCurrentUserRole(role)\n      }\n    }\n    fetchUserRole()\n  }, [])\n\n  const loadTasks = useCallback(async () => {\n    try {\n      setLoading(true)\n      setError(null)\n\n      // Build query params\n      const params = new URLSearchParams()\n      if (statusFilter !== 'all') {\n        params.append('status', statusFilter)\n      }\n      // RLS automatically filters nurses to their assigned tasks\n      // No need for client-side role filtering\n\n      const response = await fetch(`/api/tasks?${params.toString()}`)\n      const result = await response.json()\n\n      if (!response.ok) {\n        throw new Error(result.error?.message || 'Fehler beim Laden der Aufgaben')\n      }\n\n      setTasks(result.data ?? [])\n    } catch (e: unknown) {\n      console.error('Failed to load tasks:', e)\n      const errorMessage = e instanceof Error ? e.message : 'Fehler beim Laden der Aufgaben.'\n      setError(errorMessage)\n    } finally {\n      setLoading(false)\n    }\n  }, [statusFilter])\n\n  useEffect(() => {\n    loadTasks()\n  }, [loadTasks])\n\n  const handleTaskCreated = useCallback(() => {\n    setShowCreateDialog(false)\n    loadTasks()\n  }, [loadTasks])\n\n  const handleUpdateStatus = useCallback(\n    async (taskId: string, newStatus: TaskStatus) => {\n      try {\n        const response = await fetch(`/api/tasks/${taskId}`, {\n          method: 'PATCH',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ status: newStatus }),\n        })\n\n        const result = await response.json()\n\n        if (!response.ok) {\n          throw new Error(result.error?.message || 'Fehler beim Aktualisieren der Aufgabe')\n        }\n\n        // Reload tasks to show updated status\n        loadTasks()\n      } catch (e: unknown) {\n        console.error('Failed to update task status:', e)\n        const errorMessage = e instanceof Error ? e.message : 'Fehler beim Aktualisieren der Aufgabe.'\n        setError(errorMessage)\n      }\n    },\n    [loadTasks]\n  )\n\n  const getStatusBadgeVariant = useCallback((\n    status: TaskStatus\n  ): 'default' | 'success' | 'warning' | 'danger' | 'info' | 'secondary' => {\n    switch (status) {\n      case TASK_STATUS.PENDING:\n        return 'warning'\n      case TASK_STATUS.IN_PROGRESS:\n        return 'info'\n      case TASK_STATUS.COMPLETED:\n        return 'success'\n      case TASK_STATUS.CANCELLED:\n        return 'secondary'\n      default:\n        return 'default'\n    }\n  }, [])\n\n  const formatDateTime = useCallback((isoString: string): string => {\n    try {\n      return new Intl.DateTimeFormat('de-DE', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n      }).format(new Date(isoString))\n    } catch {\n      return 'Datum unbekannt'\n    }\n  }, [])\n\n  // Calculate statistics\n  const stats = useMemo(() => {\n    const total = tasks.length\n    const pending = tasks.filter((t) => t.status === TASK_STATUS.PENDING).length\n    const inProgress = tasks.filter((t) => t.status === TASK_STATUS.IN_PROGRESS).length\n    const completed = tasks.filter((t) => t.status === TASK_STATUS.COMPLETED).length\n\n    return { total, pending, inProgress, completed }\n  }, [tasks])\n\n  // Define table columns\n  const columns: TableColumn<TaskWithPatient>[] = useMemo(\n    () => [\n      {\n        header: 'Patient:in',\n        accessor: (row) => (\n          <span className=\"font-medium text-slate-900 dark:text-slate-50\">\n            {row.patient_profiles?.full_name ?? 'Unbekannt'}\n          </span>\n        ),\n        sortable: true,\n      },\n      {\n        header: 'Aufgabe',\n        accessor: (row) => (\n          <span className=\"text-slate-900 dark:text-slate-50\">{getTaskTypeLabel(row.task_type)}</span>\n        ),\n        sortable: true,\n      },\n      {\n        header: 'Zugewiesen an',\n        accessor: (row) => (\n          <span className=\"text-slate-700 dark:text-slate-300\">\n            {getUserRoleLabel(row.assigned_to_role)}\n          </span>\n        ),\n        sortable: true,\n      },\n      {\n        header: 'Status',\n        accessor: (row) => (\n          <Badge variant={getStatusBadgeVariant(row.status)}>\n            {getTaskStatusLabel(row.status)}\n          </Badge>\n        ),\n        sortable: true,\n      },\n      {\n        header: 'Fällig am',\n        accessor: (row) =>\n          row.due_at ? (\n            <span className=\"text-slate-700 dark:text-slate-300 whitespace-nowrap\">\n              {formatDateTime(row.due_at)}\n            </span>\n          ) : (\n            <span className=\"text-slate-400 dark:text-slate-500\">—</span>\n          ),\n        sortable: true,\n      },\n      {\n        header: 'Erstellt',\n        accessor: (row) => (\n          <span className=\"text-slate-600 dark:text-slate-400 text-sm whitespace-nowrap\">\n            {formatDateTime(row.created_at)}\n          </span>\n        ),\n        sortable: true,\n      },\n      {\n        header: 'Aktionen',\n        accessor: (row) => (\n          <div className=\"flex gap-2\">\n            {row.status === TASK_STATUS.PENDING && (\n              <Button\n                variant=\"secondary\"\n                size=\"sm\"\n                icon={<PlayCircle className=\"w-3 h-3\" />}\n                onClick={() => handleUpdateStatus(row.id, TASK_STATUS.IN_PROGRESS)}\n              >\n                Starten\n              </Button>\n            )}\n            {row.status === TASK_STATUS.IN_PROGRESS && (\n              <Button\n                variant=\"primary\"\n                size=\"sm\"\n                icon={<CheckCircle className=\"w-3 h-3\" />}\n                onClick={() => handleUpdateStatus(row.id, TASK_STATUS.COMPLETED)}\n              >\n                Erledigt\n              </Button>\n            )}\n            {(row.status === TASK_STATUS.PENDING || row.status === TASK_STATUS.IN_PROGRESS) && (\n              <Button\n                variant=\"danger\"\n                size=\"sm\"\n                icon={<XCircle className=\"w-3 h-3\" />}\n                onClick={() => handleUpdateStatus(row.id, TASK_STATUS.CANCELLED)}\n              >\n                Abbrechen\n              </Button>\n            )}\n          </div>\n        ),\n      },\n    ],\n    [getStatusBadgeVariant, formatDateTime, handleUpdateStatus]\n  )\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <LoadingSpinner size=\"md\" text=\"Aufgaben werden geladen…\" />\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <ErrorState\n          title=\"Fehler beim Laden\"\n          message={error}\n          onRetry={loadTasks}\n          retryText=\"Neu laden\"\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"w-full\">\n      {/* Page Header */}\n      <div className=\"mb-8 flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-slate-900 dark:text-slate-50 mb-2\">\n            Aufgaben\n          </h1>\n          <p className=\"text-slate-600 dark:text-slate-300\">\n            Verwalten Sie Aufgaben für Patienten\n          </p>\n        </div>\n        <Button\n          variant=\"primary\"\n          size=\"md\"\n          icon={<Plus className=\"w-4 h-4\" />}\n          onClick={() => setShowCreateDialog(true)}\n        >\n          Neue Aufgabe\n        </Button>\n      </div>\n\n      {/* Statistics Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <Card padding=\"lg\" shadow=\"md\" radius=\"lg\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1\">\n              <p className=\"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1\">\n                Gesamt\n              </p>\n              <p className=\"text-3xl font-bold text-slate-900 dark:text-slate-50\">{stats.total}</p>\n            </div>\n            <div className=\"p-3 bg-slate-100 dark:bg-slate-800 rounded-lg\">\n              <ClipboardList className=\"w-5 h-5 text-slate-600 dark:text-slate-400\" />\n            </div>\n          </div>\n        </Card>\n\n        <Card padding=\"lg\" shadow=\"md\" radius=\"lg\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1\">\n              <p className=\"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1\">\n                Ausstehend\n              </p>\n              <p className=\"text-3xl font-bold text-slate-900 dark:text-slate-50\">{stats.pending}</p>\n            </div>\n            <div className=\"p-3 bg-amber-100 dark:bg-amber-900/30 rounded-lg\">\n              <Clock className=\"w-5 h-5 text-amber-600 dark:text-amber-400\" />\n            </div>\n          </div>\n        </Card>\n\n        <Card padding=\"lg\" shadow=\"md\" radius=\"lg\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1\">\n              <p className=\"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1\">\n                In Bearbeitung\n              </p>\n              <p className=\"text-3xl font-bold text-slate-900 dark:text-slate-50\">\n                {stats.inProgress}\n              </p>\n            </div>\n            <div className=\"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg\">\n              <PlayCircle className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\n            </div>\n          </div>\n        </Card>\n\n        <Card padding=\"lg\" shadow=\"md\" radius=\"lg\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1\">\n              <p className=\"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1\">\n                Abgeschlossen\n              </p>\n              <p className=\"text-3xl font-bold text-slate-900 dark:text-slate-50\">\n                {stats.completed}\n              </p>\n            </div>\n            <div className=\"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg\">\n              <CheckCircle className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n            </div>\n          </div>\n        </Card>\n      </div>\n\n      {/* Filters */}\n      <div className=\"mb-6\">\n        <Card padding=\"md\">\n          <div className=\"flex items-center gap-4\">\n            <Filter className=\"w-4 h-4 text-slate-500 dark:text-slate-400\" />\n            <div className=\"flex gap-2\">\n              <Button\n                variant={statusFilter === 'all' ? 'primary' : 'secondary'}\n                size=\"sm\"\n                onClick={() => setStatusFilter('all')}\n              >\n                Alle\n              </Button>\n              <Button\n                variant={statusFilter === TASK_STATUS.PENDING ? 'primary' : 'secondary'}\n                size=\"sm\"\n                onClick={() => setStatusFilter(TASK_STATUS.PENDING)}\n              >\n                Ausstehend\n              </Button>\n              <Button\n                variant={statusFilter === TASK_STATUS.IN_PROGRESS ? 'primary' : 'secondary'}\n                size=\"sm\"\n                onClick={() => setStatusFilter(TASK_STATUS.IN_PROGRESS)}\n              >\n                In Bearbeitung\n              </Button>\n              <Button\n                variant={statusFilter === TASK_STATUS.COMPLETED ? 'primary' : 'secondary'}\n                size=\"sm\"\n                onClick={() => setStatusFilter(TASK_STATUS.COMPLETED)}\n              >\n                Abgeschlossen\n              </Button>\n            </div>\n          </div>\n        </Card>\n      </div>\n\n      {/* Info banner for nurses */}\n      {currentUserRole === 'nurse' && (\n        <div className=\"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\n          <p className=\"text-sm text-blue-900 dark:text-blue-100\">\n            <strong>Hinweis:</strong> Sie sehen nur Aufgaben, die Ihnen zugewiesen wurden.\n          </p>\n        </div>\n      )}\n\n      {/* Tasks Table */}\n      <Table\n        columns={columns}\n        data={tasks}\n        keyExtractor={(row) => row.id}\n        hoverable\n        bordered\n        emptyMessage=\"Noch keine Aufgaben vorhanden\"\n      />\n\n      {/* Create Task Dialog */}\n      {showCreateDialog && (\n        <TaskCreateDialog\n          onClose={() => setShowCreateDialog(false)}\n          onTaskCreated={handleTaskCreated}\n        />\n      )}\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z',\n      key: 'kmsa83',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n];\n\n/**\n * @component @name CirclePlay\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOSA5LjAwM2ExIDEgMCAwIDEgMS41MTctLjg1OWw0Ljk5NyAyLjk5N2ExIDEgMCAwIDEgMCAxLjcxOGwtNC45OTcgMi45OTdBMSAxIDAgMCAxIDkgMTQuOTk2eiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/circle-play\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CirclePlay = createLucideIcon('circle-play', __iconNode);\n\nexport default CirclePlay;\n"],"names":[],"mappings":"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","ignoreList":[3]}