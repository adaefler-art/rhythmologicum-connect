{"version":3,"sources":["../../../../../../apps/rhythm-studio-ui/app/admin/content/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useParams, useRouter } from 'next/navigation'\nimport ContentPageEditor, { ContentPageEditorData } from '@/app/components/ContentPageEditor'\n\nexport const dynamic = 'force-dynamic'\n\nexport default function EditContentPage() {\n  const params = useParams()\n  const router = useRouter()\n  const pageId = params?.id as string\n\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [pageData, setPageData] = useState<Partial<ContentPageEditorData> | null>(null)\n\n  useEffect(() => {\n    const loadPage = async () => {\n      try {\n        setLoading(true)\n        const response = await fetch(`/api/admin/content-pages/${pageId}`)\n\n        if (!response.ok) {\n          throw new Error('Fehler beim Laden der Content-Page')\n        }\n\n        const data = await response.json()\n        setPageData(data.contentPage)\n      } catch (e) {\n        console.error(e)\n        setError(e instanceof Error ? e.message : 'Fehler beim Laden')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    if (pageId) {\n      loadPage()\n    }\n  }, [pageId])\n\n  if (loading) {\n    return (\n      <main className=\"min-h-screen flex items-center justify-center\">\n        <p className=\"text-slate-600\">Content-Page wird geladen...</p>\n      </main>\n    )\n  }\n\n  if (error || !pageData) {\n    return (\n      <main className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"max-w-md text-center\">\n          <p className=\"text-red-500 mb-4\">{error || 'Content-Page nicht gefunden'}</p>\n          <button\n            onClick={() => router.push('/admin/content')}\n            className=\"px-6 py-3 min-h-[44px] rounded-lg bg-sky-600 text-white text-sm md:text-base font-medium hover:bg-sky-700 transition touch-manipulation\"\n          >\n            Zurück zur Übersicht\n          </button>\n        </div>\n      </main>\n    )\n  }\n\n  return <ContentPageEditor mode=\"edit\" pageId={pageId} initialData={pageData} />\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAIe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAS,GAAQ,GAEjB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5C,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwC,YA2BhF,CAzBA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAW,UACf,GAAI,CACF,GAAW,GACX,IAAM,EAAW,MAAM,MAAM,CAAC,yBAAyB,EAAE,EAAA,CAAQ,EAEjE,GAAI,CAAC,EAAS,EAAE,CACd,CADgB,KACV,AAAI,MAAM,sCAGlB,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,EAAY,EAAK,WAAW,CAC9B,CAAE,MAAO,EAAG,CACV,QAAQ,KAAK,CAAC,GACd,EAAS,aAAa,MAAQ,EAAE,OAAO,CAAG,oBAC5C,QAAU,CACR,GAAW,EACb,CACF,EAEI,GACF,GAEJ,EAHc,AAGX,CAAC,EAAO,EAEP,GAEA,CAAA,EAAA,EAAA,CAFS,EAET,EAAC,OAAA,CAAK,UAAU,yDACd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0BAAiB,mCAKhC,GAAS,CAAC,EAEV,CAAA,EAAA,EAAA,GAFoB,AAEpB,EAAC,OAAA,CAAK,UAAU,yDACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6BAAqB,GAAS,gCAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAO,IAAI,CAAC,kBAC3B,UAAU,mJACX,8BAQF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAiB,CAAA,CAAC,KAAK,OAAO,OAAQ,EAAQ,YAAa,GACrE,kCA7DuB"}