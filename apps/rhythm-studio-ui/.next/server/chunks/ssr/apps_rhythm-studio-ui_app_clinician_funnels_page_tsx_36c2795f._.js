module.exports=[42724,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246);a.i(59620);var e=a.i(8184),f=a.i(63548),g=a.i(3706),h=a.i(86071),i=a.i(63156),j=a.i(24415);a.i(14240);var k=a.i(76756);let l=["stress-assessment","cardiovascular-age"];function m(){let[a,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(null);(0,c.useEffect)(()=>{r()},[]);let r=async()=>{try{o(!0),q(null);let a=await fetch("/api/admin/funnels"),b=null;try{b=await a.json()}catch{}let c=b&&"object"==typeof b?b:null,d=a.headers.get("x-request-id"),e=c?.error?.requestId||d;if(!a.ok||!c?.success){let a=c?.error?.message||"Failed to load funnels",b=e?` (requestId: ${e})`:"";throw Error(`${a}${b}`)}let f=c.data?.pillars||[],g=c.data?.uncategorized_funnels||[],h=[...f.flatMap(a=>a.funnels||[]),...g||[]];m(h)}catch(a){console.error("Error loading funnels:",a),q(a instanceof Error?a.message:"Fehler beim Laden der Funnels")}finally{o(!1)}};return n?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(h.LoadingSpinner,{size:"lg",text:"Lade Funnels…",centered:!0})}):p?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(i.ErrorState,{title:"Fehler beim Laden",message:p,onRetry:r,centered:!0})}):(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)(j.PageHeader,{title:"Funnel Verwaltung",description:"Übersicht und Verwaltung aller Funnel-Definitionen"}),(0,b.jsx)("div",{style:{marginBottom:k.spacing.lg},children:(0,b.jsx)(d.default,{href:"/clinician",className:"inline-flex items-center text-sm text-sky-600 dark:text-sky-400 hover:text-sky-700 dark:hover:text-sky-300 font-medium",children:"← Zurück zum Dashboard"})}),0===a.length?(0,b.jsx)(f.Card,{padding:"lg",children:(0,b.jsx)("p",{className:"text-slate-600 dark:text-slate-300 text-center",children:"Keine Funnels gefunden."})}):(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>{var c;return(0,b.jsx)(f.Card,{padding:"lg",interactive:!0,children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50 truncate",children:a.title}),(0,b.jsx)(g.Badge,{variant:a.is_active?"success":"secondary",size:"sm",children:a.is_active?"Aktiv":"Inaktiv"}),(c=a.slug,!l.includes(c)&&(0,b.jsx)("span",{title:"Nur für Clinicians sichtbar, Patienten können diesen Funnel nicht starten",children:(0,b.jsx)(g.Badge,{variant:"warning",size:"sm",children:"ADMIN-ONLY"})}))]}),a.description&&(0,b.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-400 dark:text-slate-500",children:[(0,b.jsxs)("span",{children:["ID: ",a.slug]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{children:["Erstellt: ",new Date(a.created_at).toLocaleDateString("de-DE")]})]})]}),(0,b.jsx)(d.default,{href:`/clinician/funnels/${a.slug}`,children:(0,b.jsx)(e.Button,{variant:"primary",size:"sm",children:"Details"})})]})},a.id)})})]})}a.s(["default",()=>m,"dynamic",0,"force-dynamic"],42724)}];

//# sourceMappingURL=apps_rhythm-studio-ui_app_clinician_funnels_page_tsx_36c2795f._.js.map