module.exports=[22234,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70106);let e=(0,d.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),f=(0,d.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function g(a){return Array.from(new Set(a))}function h({catalog:a}){let[d,h]=(0,c.useState)("all"),[i,j]=(0,c.useState)("all"),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(new Set),w=(0,c.useMemo)(()=>["all",...g(a.endpoints.map(a=>a.accessRole)).sort()],[a.endpoints]),x=(0,c.useMemo)(()=>["all",...g(a.endpoints.flatMap(a=>a.methods)).sort()],[a.endpoints]),y=(0,c.useMemo)(()=>{let b=s.trim().toLowerCase();return a.endpoints.filter(a=>("all"===d||a.accessRole===d)&&("all"===i||!!a.methods.includes(i))&&(!k||!(a.usedByCount>0))&&(!m||!!(a.intent&&a.intent.startsWith("manual:")))&&(!o||!!a.isOrphan)&&(!q||"unknown"===a.accessRole)&&(!b||!!`${a.path} ${a.file} ${a.intent??""}`.toLowerCase().includes(b))&&!0).slice().sort((a,b)=>a.path.localeCompare(b.path))},[a.endpoints,d,i,k,m,o,q,s]);return(0,b.jsxs)("div",{className:"space-y-4 min-h-screen bg-slate-900 text-slate-100 p-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-semibold text-white",children:"Endpoint Catalog"}),(0,b.jsxs)("p",{className:"text-sm text-slate-400",children:["Version: ",a.version]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-3 items-end",children:[(0,b.jsxs)("label",{className:"text-sm",children:[(0,b.jsx)("span",{className:"block text-slate-400",children:"Access"}),(0,b.jsx)("select",{className:"border border-slate-600 bg-slate-800 text-slate-100 rounded px-2 py-1",value:d,onChange:a=>h(a.target.value),children:w.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsxs)("label",{className:"text-sm",children:[(0,b.jsx)("span",{className:"block text-slate-400",children:"Method"}),(0,b.jsx)("select",{className:"border border-slate-600 bg-slate-800 text-slate-100 rounded px-2 py-1",value:i,onChange:a=>j(a.target.value),children:x.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsxs)("label",{className:"text-sm flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:k,onChange:a=>l(a.target.checked)}),(0,b.jsx)("span",{className:"text-slate-300",children:"Unused only"})]}),(0,b.jsxs)("label",{className:"text-sm flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:m,onChange:a=>n(a.target.checked)}),(0,b.jsx)("span",{className:"text-slate-300",children:"Manual only"})]}),(0,b.jsxs)("label",{className:"text-sm flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:o,onChange:a=>p(a.target.checked)}),(0,b.jsx)("span",{className:"text-slate-300",children:"Orphan only"})]}),(0,b.jsxs)("label",{className:"text-sm flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:q,onChange:a=>r(a.target.checked)}),(0,b.jsx)("span",{className:"text-slate-300",children:"Unknown only"})]}),(0,b.jsxs)("label",{className:"text-sm",children:[(0,b.jsx)("span",{className:"block text-slate-400",children:"Search"}),(0,b.jsx)("input",{className:"border border-slate-600 bg-slate-800 text-slate-100 rounded px-2 py-1",value:s,onChange:a=>t(a.target.value),placeholder:"/api/..."})]})]}),(0,b.jsxs)("div",{className:"text-sm text-slate-400",children:["Showing ",y.length," endpoints"]}),(0,b.jsx)("div",{className:"overflow-x-auto border border-slate-700 rounded",children:(0,b.jsxs)("table",{className:"min-w-full text-sm",children:[(0,b.jsx)("thead",{className:"bg-slate-800 text-slate-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left px-3 py-2 w-8"}),(0,b.jsx)("th",{className:"text-left px-3 py-2",children:"Path"}),(0,b.jsx)("th",{className:"text-left px-3 py-2",children:"Methods"}),(0,b.jsx)("th",{className:"text-left px-3 py-2",children:"Access"}),(0,b.jsx)("th",{className:"text-left px-3 py-2",children:"Intent"}),(0,b.jsx)("th",{className:"text-right px-3 py-2",children:"StaticUsed"})]})}),(0,b.jsx)("tbody",{children:y.map(a=>{let d=u.has(a.path),g=a.usedBy&&a.usedBy.length>0,h={unknown:"bg-yellow-100 text-yellow-800",admin:"bg-purple-100 text-purple-800",clinician:"bg-blue-100 text-blue-800",patient:"bg-green-100 text-green-800"}[a.accessRole]||"bg-slate-100 text-slate-800";return(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsxs)("tr",{className:"border-t border-slate-700 hover:bg-slate-800",children:[(0,b.jsx)("td",{className:"px-3 py-2",children:g&&(0,b.jsx)("button",{onClick:()=>{var b;return b=a.path,void v(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c})},className:"text-slate-400 hover:text-slate-200 transition-colors","aria-label":d?"Collapse":"Expand",children:d?(0,b.jsx)(e,{className:"w-4 h-4"}):(0,b.jsx)(f,{className:"w-4 h-4"})})}),(0,b.jsx)("td",{className:"px-3 py-2 font-mono text-xs text-slate-100",children:a.path}),(0,b.jsx)("td",{className:"px-3 py-2 text-slate-300",children:a.methods.join(", ")||"—"}),(0,b.jsx)("td",{className:"px-3 py-2",children:(0,b.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${h}`,children:a.accessRole})}),(0,b.jsxs)("td",{className:"px-3 py-2 text-slate-300",children:[a.intent?a.intent:a.isAllowedOrphan?"allowlisted":"—",a.isOrphan&&!a.isAllowedOrphan&&(0,b.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:"orphan"})]}),(0,b.jsx)("td",{className:"px-3 py-2 text-right tabular-nums text-slate-300",children:a.usedByCount})]}),d&&g&&(0,b.jsx)("tr",{className:"border-t border-slate-700 bg-slate-800",children:(0,b.jsx)("td",{colSpan:6,className:"px-3 py-3",children:(0,b.jsxs)("div",{className:"ml-8",children:[(0,b.jsxs)("div",{className:"text-xs font-semibold text-slate-200 mb-2",children:["Static Usages (",a.usedBy.length,"):"]}),(0,b.jsx)("div",{className:"space-y-1",children:a.usedBy.map(a=>(0,b.jsxs)("div",{className:"flex items-start gap-2 text-xs text-slate-300 bg-slate-900 rounded px-2 py-1.5 border border-slate-700",children:[(0,b.jsx)("span",{className:"font-mono text-blue-400",children:a.file}),(0,b.jsx)("span",{className:"text-slate-400",children:":"}),(0,b.jsxs)("span",{className:"text-slate-500",children:["L",a.line]}),(0,b.jsx)("span",{className:"text-slate-400",children:"•"}),(0,b.jsx)("span",{className:"font-mono text-slate-300",children:a.apiPath}),(0,b.jsx)("span",{className:"text-slate-400",children:"•"}),(0,b.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-slate-700 text-slate-200",children:a.kind})]},`${a.file}:${a.line}:${a.apiPath}:${a.kind}`))})]})})})]},a.path)})})]})}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:'Note: "StaticUsed" is based on in-repo string/template callsite scanning (app/** and lib/**).'})]})}a.s(["default",()=>h],22234)}];

//# sourceMappingURL=apps_rhythm-studio-ui_app_admin_dev_endpoints_EndpointCatalogClient_tsx_37f33e90._.js.map