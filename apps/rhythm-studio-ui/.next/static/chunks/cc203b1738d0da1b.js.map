{"version":3,"sources":["turbopack:///[project]/apps/rhythm-studio-ui/app/clinician/pre-screening/page.tsx","turbopack:///[project]/lib/contracts/preScreening.ts"],"sourcesContent":["'use client'\n\n/**\n * Pre-screening Call Script UI - V05-I08.2\n * \n * Script-guided initial patient contact for:\n * - Suitability assessment\n * - Red flags identification\n * - Tier recommendation\n */\n\nimport { useState, useEffect, useCallback } from 'react'\nimport { useRouter } from 'next/navigation'\nimport {\n  Button,\n  Card,\n  FormField,\n  Textarea,\n  Select,\n  LoadingSpinner,\n  Badge,\n} from '@/lib/ui'\nimport {\n  COMMON_RED_FLAGS,\n  TIER_LABELS,\n  TIER_DESCRIPTIONS,\n  type RedFlag,\n  type ProgramTier,\n  type PreScreeningCallInput,\n} from '@/lib/contracts/preScreening'\nimport { supabase } from '@/lib/supabaseClient'\nimport { CheckCircle, AlertTriangle, FileText, User } from 'lucide-react'\n\ntype PatientProfile = {\n  id: string\n  full_name: string | null\n  user_id: string\n}\n\nexport default function PreScreeningPage() {\n  const router = useRouter()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [success, setSuccess] = useState(false)\n  const [patients, setPatients] = useState<PatientProfile[]>([])\n  const [loadingPatients, setLoadingPatients] = useState(true)\n\n  // Form state\n  const [selectedPatientId, setSelectedPatientId] = useState<string>('')\n  const [isSuitable, setIsSuitable] = useState<boolean | null>(null)\n  const [suitabilityNotes, setSuitabilityNotes] = useState('')\n  const [redFlags, setRedFlags] = useState<RedFlag[]>(\n    COMMON_RED_FLAGS.map((flag) => ({ ...flag, checked: false }))\n  )\n  const [redFlagsNotes, setRedFlagsNotes] = useState('')\n  const [recommendedTier, setRecommendedTier] = useState<ProgramTier | ''>('')\n  const [tierNotes, setTierNotes] = useState('')\n  const [generalNotes, setGeneralNotes] = useState('')\n\n  // Reset form helper\n  const resetForm = useCallback(() => {\n    setSelectedPatientId('')\n    setIsSuitable(null)\n    setSuitabilityNotes('')\n    setRedFlags(COMMON_RED_FLAGS.map((flag) => ({ ...flag, checked: false })))\n    setRedFlagsNotes('')\n    setRecommendedTier('')\n    setTierNotes('')\n    setGeneralNotes('')\n    setSuccess(false)\n  }, [])\n\n  // Load patients on mount\n  useEffect(() => {\n    const loadPatients = async () => {\n      try {\n        const { data, error } = await supabase\n          .from('patient_profiles')\n          .select('id, full_name, user_id')\n          .order('full_name', { ascending: true })\n          .limit(100)\n\n        if (error) throw error\n        setPatients(data || [])\n      } catch (e) {\n        console.error('Failed to load patients:', e)\n      } finally {\n        setLoadingPatients(false)\n      }\n    }\n\n    loadPatients()\n  }, [])\n\n  const handleRedFlagToggle = useCallback((flagId: string) => {\n    setRedFlags((prev) =>\n      prev.map((flag) =>\n        flag.id === flagId ? { ...flag, checked: !flag.checked } : flag\n      )\n    )\n  }, [])\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!selectedPatientId) {\n      setError('Bitte wählen Sie einen Patienten aus')\n      return\n    }\n\n    if (isSuitable === null) {\n      setError('Bitte bewerten Sie die Eignung des Patienten')\n      return\n    }\n\n    setLoading(true)\n    setError(null)\n    setSuccess(false)\n\n    try {\n      const callData: PreScreeningCallInput = {\n        patient_id: selectedPatientId,\n        is_suitable: isSuitable,\n        suitability_notes: suitabilityNotes || undefined,\n        red_flags: redFlags.filter((flag) => flag.checked),\n        red_flags_notes: redFlagsNotes || undefined,\n        recommended_tier: recommendedTier || undefined,\n        tier_notes: tierNotes || undefined,\n        general_notes: generalNotes || undefined,\n      }\n\n      const response = await fetch('/api/pre-screening-calls', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(callData),\n      })\n\n      const result = await response.json()\n\n      if (!response.ok) {\n        throw new Error(result.error?.message || 'Fehler beim Speichern')\n      }\n\n      setSuccess(true)\n      \n      // Reset form after 2 seconds\n      setTimeout(() => {\n        resetForm()\n      }, 2000)\n    } catch (e) {\n      console.error('Failed to save pre-screening call:', e)\n      setError(e instanceof Error ? e.message : 'Ein unerwarteter Fehler ist aufgetreten')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const checkedRedFlags = redFlags.filter((flag) => flag.checked)\n\n  return (\n    <div className=\"w-full max-w-4xl mx-auto\">\n      {/* Page Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-slate-900 dark:text-slate-50 mb-2\">\n          Pre-Screening Call Script\n        </h1>\n        <p className=\"text-slate-600 dark:text-slate-300\">\n          Strukturierter Erstkontakt zur Eignung, Red Flags und Tier-Empfehlung\n        </p>\n      </div>\n\n      {/* Success Message */}\n      {success && (\n        <Card padding=\"lg\" shadow=\"md\" radius=\"lg\" className=\"mb-6 bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800\">\n          <div className=\"flex items-center gap-3\">\n            <CheckCircle className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n            <span className=\"text-green-900 dark:text-green-100 font-medium\">\n              Pre-Screening erfolgreich gespeichert\n            </span>\n          </div>\n        </Card>\n      )}\n\n      {/* Error Message */}\n      {error && (\n        <Card padding=\"lg\" shadow=\"md\" radius=\"lg\" className=\"mb-6 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800\">\n          <div className=\"flex items-center gap-3\">\n            <AlertTriangle className=\"w-5 h-5 text-red-600 dark:text-red-400\" />\n            <span className=\"text-red-900 dark:text-red-100\">{error}</span>\n          </div>\n        </Card>\n      )}\n\n      <form onSubmit={handleSubmit}>\n        {/* Patient Selection */}\n        <Card padding=\"lg\" shadow=\"md\" radius=\"lg\" className=\"mb-6\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <User className=\"w-5 h-5 text-slate-600 dark:text-slate-400\" />\n            <h2 className=\"text-xl font-semibold text-slate-900 dark:text-slate-50\">\n              Patient:in\n            </h2>\n          </div>\n\n          <FormField label=\"Patient:in auswählen\" required>\n            {loadingPatients ? (\n              <div className=\"py-4\">\n                <LoadingSpinner size=\"sm\" text=\"Patienten werden geladen...\" />\n              </div>\n            ) : (\n              <Select\n                value={selectedPatientId}\n                onChange={(e) => setSelectedPatientId(e.target.value)}\n                required\n              >\n                <option value=\"\">-- Bitte wählen --</option>\n                {patients.map((patient) => (\n                  <option key={patient.id} value={patient.id}>\n                    {patient.full_name || patient.user_id}\n                  </option>\n                ))}\n              </Select>\n            )}\n          </FormField>\n        </Card>\n\n        {/* Suitability Assessment */}\n        <Card padding=\"lg\" shadow=\"md\" radius=\"lg\" className=\"mb-6\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <FileText className=\"w-5 h-5 text-slate-600 dark:text-slate-400\" />\n            <h2 className=\"text-xl font-semibold text-slate-900 dark:text-slate-50\">\n              Eignung\n            </h2>\n          </div>\n\n          <div className=\"space-y-4\">\n            <FormField label=\"Ist der/die Patient:in für das Programm geeignet?\" required>\n              <div className=\"flex gap-4\">\n                <label className=\"flex items-center gap-2 cursor-pointer\">\n                  <input\n                    type=\"radio\"\n                    name=\"suitability\"\n                    checked={isSuitable === true}\n                    onChange={() => setIsSuitable(true)}\n                    className=\"w-4 h-4 text-green-600 focus:ring-green-500\"\n                  />\n                  <span className=\"text-slate-700 dark:text-slate-300\">Ja, geeignet</span>\n                </label>\n                <label className=\"flex items-center gap-2 cursor-pointer\">\n                  <input\n                    type=\"radio\"\n                    name=\"suitability\"\n                    checked={isSuitable === false}\n                    onChange={() => setIsSuitable(false)}\n                    className=\"w-4 h-4 text-red-600 focus:ring-red-500\"\n                  />\n                  <span className=\"text-slate-700 dark:text-slate-300\">Nein, nicht geeignet</span>\n                </label>\n              </div>\n            </FormField>\n\n            <FormField label=\"Notizen zur Eignung\">\n              <Textarea\n                value={suitabilityNotes}\n                onChange={(e) => setSuitabilityNotes(e.target.value)}\n                placeholder=\"Zusätzliche Informationen zur Eignung...\"\n                rows={3}\n              />\n            </FormField>\n          </div>\n        </Card>\n\n        {/* Red Flags */}\n        <Card padding=\"lg\" shadow=\"md\" radius=\"lg\" className=\"mb-6\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <AlertTriangle className=\"w-5 h-5 text-red-600 dark:text-red-400\" />\n            <h2 className=\"text-xl font-semibold text-slate-900 dark:text-slate-50\">\n              Red Flags\n            </h2>\n            {checkedRedFlags.length > 0 && (\n              <Badge variant=\"danger\" size=\"sm\">\n                {checkedRedFlags.length} markiert\n              </Badge>\n            )}\n          </div>\n\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              {redFlags.map((flag) => (\n                <label\n                  key={flag.id}\n                  className=\"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 cursor-pointer transition-colors\"\n                >\n                  <input\n                    type=\"checkbox\"\n                    checked={flag.checked}\n                    onChange={() => handleRedFlagToggle(flag.id)}\n                    className=\"mt-0.5 w-4 h-4 text-red-600 focus:ring-red-500 rounded\"\n                  />\n                  <span className=\"text-slate-700 dark:text-slate-300 flex-1\">\n                    {flag.label}\n                  </span>\n                </label>\n              ))}\n            </div>\n\n            <FormField label=\"Zusätzliche Notizen zu Red Flags\">\n              <Textarea\n                value={redFlagsNotes}\n                onChange={(e) => setRedFlagsNotes(e.target.value)}\n                placeholder=\"Details zu identifizierten Red Flags...\"\n                rows={3}\n              />\n            </FormField>\n          </div>\n        </Card>\n\n        {/* Tier Recommendation */}\n        <Card padding=\"lg\" shadow=\"md\" radius=\"lg\" className=\"mb-6\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <FileText className=\"w-5 h-5 text-slate-600 dark:text-slate-400\" />\n            <h2 className=\"text-xl font-semibold text-slate-900 dark:text-slate-50\">\n              Tier-Empfehlung\n            </h2>\n          </div>\n\n          <div className=\"space-y-4\">\n            <FormField label=\"Empfohlenes Programm-Tier\">\n              <Select\n                value={recommendedTier}\n                onChange={(e) => setRecommendedTier(e.target.value as ProgramTier | '')}\n              >\n                <option value=\"\">-- Keine Empfehlung --</option>\n                {Object.entries(TIER_LABELS).map(([tier, label]) => (\n                  <option key={tier} value={tier}>\n                    {label}\n                  </option>\n                ))}\n              </Select>\n              {recommendedTier && (\n                <p className=\"mt-2 text-sm text-slate-600 dark:text-slate-400\">\n                  {TIER_DESCRIPTIONS[recommendedTier as ProgramTier]}\n                </p>\n              )}\n            </FormField>\n\n            <FormField label=\"Notizen zur Tier-Empfehlung\">\n              <Textarea\n                value={tierNotes}\n                onChange={(e) => setTierNotes(e.target.value)}\n                placeholder=\"Begründung für die Tier-Empfehlung...\"\n                rows={3}\n              />\n            </FormField>\n          </div>\n        </Card>\n\n        {/* General Notes */}\n        <Card padding=\"lg\" shadow=\"md\" radius=\"lg\" className=\"mb-6\">\n          <FormField label=\"Allgemeine Notizen\">\n            <Textarea\n              value={generalNotes}\n              onChange={(e) => setGeneralNotes(e.target.value)}\n              placeholder=\"Weitere wichtige Informationen aus dem Gespräch...\"\n              rows={4}\n            />\n          </FormField>\n        </Card>\n\n        {/* Action Buttons */}\n        <div className=\"flex gap-4 justify-end\">\n          <Button\n            type=\"button\"\n            variant=\"secondary\"\n            onClick={() => router.back()}\n            disabled={loading}\n          >\n            Abbrechen\n          </Button>\n          <Button type=\"submit\" variant=\"primary\" disabled={loading}>\n            {loading ? (\n              <span className=\"flex items-center gap-2\">\n                <LoadingSpinner size=\"sm\" />\n                Speichern...\n              </span>\n            ) : (\n              'Pre-Screening speichern'\n            )}\n          </Button>\n        </div>\n      </form>\n    </div>\n  )\n}\n","/**\n * Pre-screening Call Contract Types\n * V05-I08.2: Pre-screening call script UI\n */\n\nexport type ProgramTier = 'tier_1' | 'tier_2' | 'tier_3'\n\nexport type RedFlag = {\n  id: string\n  label: string\n  checked: boolean\n  notes?: string\n}\n\nexport type PreScreeningCall = {\n  id: string\n  patient_id: string\n  clinician_id: string\n  organization_id?: string | null\n  \n  // Screening results\n  is_suitable: boolean\n  suitability_notes?: string | null\n  \n  // Red flags\n  red_flags: RedFlag[]\n  red_flags_notes?: string | null\n  \n  // Tier recommendation\n  recommended_tier?: ProgramTier | null\n  tier_notes?: string | null\n  \n  // General notes\n  general_notes?: string | null\n  \n  // Timestamps\n  call_date: string\n  created_at: string\n  updated_at: string\n}\n\nexport type PreScreeningCallInput = {\n  patient_id: string\n  is_suitable: boolean\n  suitability_notes?: string\n  red_flags: RedFlag[]\n  red_flags_notes?: string\n  recommended_tier?: ProgramTier\n  tier_notes?: string\n  general_notes?: string\n  call_date?: string\n}\n\n// Common red flags for pre-screening\nexport const COMMON_RED_FLAGS: Omit<RedFlag, 'checked'>[] = [\n  { id: 'suicidal_ideation', label: 'Suizidgedanken oder akute Selbstgefährdung' },\n  { id: 'psychosis', label: 'Psychotische Symptome' },\n  { id: 'substance_abuse', label: 'Schwere Substanzmissbrauchsproblematik' },\n  { id: 'severe_depression', label: 'Schwere depressive Episode' },\n  { id: 'cognitive_impairment', label: 'Kognitive Beeinträchtigung' },\n  { id: 'language_barrier', label: 'Sprachbarriere' },\n  { id: 'no_device', label: 'Kein Zugang zu digitalen Geräten' },\n  { id: 'medical_emergency', label: 'Akuter medizinischer Notfall' },\n  { id: 'other', label: 'Sonstiges' },\n]\n\nexport const TIER_LABELS: Record<ProgramTier, string> = {\n  tier_1: 'Tier 1 - Basisversorgung',\n  tier_2: 'Tier 2 - Standardversorgung',\n  tier_3: 'Tier 3 - Intensivversorgung',\n}\n\nexport const TIER_DESCRIPTIONS: Record<ProgramTier, string> = {\n  tier_1: 'Selbstgesteuerte digitale Intervention mit minimalem Support',\n  tier_2: 'Regelmäßige Begleitung durch Pflegekräfte und digitale Tools',\n  tier_3: 'Intensive ärztliche Betreuung mit engmaschigem Monitoring',\n}\n"],"names":[],"mappings":"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"}