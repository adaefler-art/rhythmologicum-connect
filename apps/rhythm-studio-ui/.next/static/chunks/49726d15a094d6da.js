(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54630,e=>{"use strict";var t=e.i(18050),s=e.i(71645),n=e.i(22016);e.i(47446);var a=e.i(67488),i=e.i(12911),l=e.i(32796),r=e.i(84584),c=e.i(52220),d=e.i(76107);e.i(180);var u=e.i(53012);let x=["stress-assessment","cardiovascular-age"];function o(){let[e,o]=(0,s.useState)([]),[m,h]=(0,s.useState)(!0),[f,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{j()},[]);let j=async()=>{try{h(!0),g(null);let e=await fetch("/api/admin/funnels"),t=null;try{t=await e.json()}catch{}let s=t&&"object"==typeof t?t:null,n=e.headers.get("x-request-id"),a=s?.error?.requestId||n;if(!e.ok||!s?.success){let e=s?.error?.message||"Failed to load funnels",t=a?` (requestId: ${a})`:"";throw Error(`${e}${t}`)}let i=s.data?.pillars||[],l=s.data?.uncategorized_funnels||[],r=[...i.flatMap(e=>e.funnels||[]),...l||[]];o(r)}catch(e){console.error("Error loading funnels:",e),g(e instanceof Error?e.message:"Fehler beim Laden der Funnels")}finally{h(!1)}};return m?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(r.LoadingSpinner,{size:"lg",text:"Lade Funnels…",centered:!0})}):f?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(c.ErrorState,{title:"Fehler beim Laden",message:f,onRetry:j,centered:!0})}):(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)(d.PageHeader,{title:"Funnel Verwaltung",description:"Übersicht und Verwaltung aller Funnel-Definitionen"}),(0,t.jsx)("div",{style:{marginBottom:u.spacing.lg},children:(0,t.jsx)(n.default,{href:"/clinician",className:"inline-flex items-center text-sm text-sky-600 dark:text-sky-400 hover:text-sky-700 dark:hover:text-sky-300 font-medium",children:"← Zurück zum Dashboard"})}),0===e.length?(0,t.jsx)(i.Card,{padding:"lg",children:(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-300 text-center",children:"Keine Funnels gefunden."})}):(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>{var s;return(0,t.jsx)(i.Card,{padding:"lg",interactive:!0,children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50 truncate",children:e.title}),(0,t.jsx)(l.Badge,{variant:e.is_active?"success":"secondary",size:"sm",children:e.is_active?"Aktiv":"Inaktiv"}),(s=e.slug,!x.includes(s)&&(0,t.jsx)("span",{title:"Nur für Clinicians sichtbar, Patienten können diesen Funnel nicht starten",children:(0,t.jsx)(l.Badge,{variant:"warning",size:"sm",children:"ADMIN-ONLY"})}))]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-400 dark:text-slate-500",children:[(0,t.jsxs)("span",{children:["ID: ",e.slug]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:["Erstellt: ",new Date(e.created_at).toLocaleDateString("de-DE")]})]})]}),(0,t.jsx)(n.default,{href:`/clinician/funnels/${e.slug}`,children:(0,t.jsx)(a.Button,{variant:"primary",size:"sm",children:"Details"})})]})},e.id)})})]})}e.s(["default",()=>o,"dynamic",0,"force-dynamic"],54630)}]);

//# sourceMappingURL=c005b5c90d2c922c.js.map