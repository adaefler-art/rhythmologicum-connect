(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11627,e=>{"use strict";var s=e.i(18050),t=e.i(71645),a=e.i(68569);let l=(0,a.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),n=(0,a.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function c(e){return Array.from(new Set(e))}function r({catalog:e}){let[a,r]=(0,t.useState)("all"),[d,x]=(0,t.useState)("all"),[i,o]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[m,u]=(0,t.useState)(!1),[j,b]=(0,t.useState)(!1),[N,g]=(0,t.useState)(""),[y,f]=(0,t.useState)(new Set),v=(0,t.useMemo)(()=>["all",...c(e.endpoints.map(e=>e.accessRole)).sort()],[e.endpoints]),k=(0,t.useMemo)(()=>["all",...c(e.endpoints.flatMap(e=>e.methods)).sort()],[e.endpoints]),w=(0,t.useMemo)(()=>{let s=N.trim().toLowerCase();return e.endpoints.filter(e=>("all"===a||e.accessRole===a)&&("all"===d||!!e.methods.includes(d))&&(!i||!(e.usedByCount>0))&&(!h||!!(e.intent&&e.intent.startsWith("manual:")))&&(!m||!!e.isOrphan)&&(!j||"unknown"===e.accessRole)&&(!s||!!`${e.path} ${e.file} ${e.intent??""}`.toLowerCase().includes(s))&&!0).slice().sort((e,s)=>e.path.localeCompare(s.path))},[e.endpoints,a,d,i,h,m,j,N]);return(0,s.jsxs)("div",{className:"space-y-4 bg-slate-900 text-slate-100 p-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-semibold text-white",children:"Endpoint Catalog"}),(0,s.jsxs)("p",{className:"text-sm text-slate-400",children:["Version: ",e.version]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 items-end",children:[(0,s.jsxs)("label",{className:"text-sm",children:[(0,s.jsx)("span",{className:"block text-slate-400",children:"Access"}),(0,s.jsx)("select",{className:"border border-slate-600 bg-slate-800 text-slate-100 rounded px-2 py-1",value:a,onChange:e=>r(e.target.value),children:v.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("label",{className:"text-sm",children:[(0,s.jsx)("span",{className:"block text-slate-400",children:"Method"}),(0,s.jsx)("select",{className:"border border-slate-600 bg-slate-800 text-slate-100 rounded px-2 py-1",value:d,onChange:e=>x(e.target.value),children:k.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("label",{className:"text-sm flex items-[center] gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:i,onChange:e=>o(e.target.checked)}),(0,s.jsx)("span",{className:"text-slate-300",children:"Unused only"})]}),(0,s.jsxs)("label",{className:"text-sm flex items-[center] gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:h,onChange:e=>p(e.target.checked)}),(0,s.jsx)("span",{className:"text-slate-300",children:"Manual only"})]}),(0,s.jsxs)("label",{className:"text-sm flex items-[center] gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:m,onChange:e=>u(e.target.checked)}),(0,s.jsx)("span",{className:"text-slate-300",children:"Orphan only"})]}),(0,s.jsxs)("label",{className:"text-sm flex items-[center] gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:j,onChange:e=>b(e.target.checked)}),(0,s.jsx)("span",{className:"text-slate-300",children:"Unknown only"})]}),(0,s.jsxs)("label",{className:"text-sm",children:[(0,s.jsx)("span",{className:"block text-slate-400",children:"Search"}),(0,s.jsx)("input",{className:"border border-slate-600 bg-slate-800 text-slate-100 rounded px-2 py-1",value:N,onChange:e=>g(e.target.value),placeholder:"/api/..."})]})]}),(0,s.jsxs)("div",{className:"text-sm text-slate-400",children:["Showing ",w.length," endpoints"]}),(0,s.jsx)("div",{className:"overflow-x-auto border border-slate-700 rounded",children:(0,s.jsxs)("table",{className:"min-w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-slate-800 text-slate-200",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left px-3 py-2 w-8"}),(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Path"}),(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Methods"}),(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Access"}),(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Intent"}),(0,s.jsx)("th",{className:"text-right px-3 py-2",children:"StaticUsed"})]})}),(0,s.jsx)("tbody",{children:w.map(e=>{let a=y.has(e.path),c=e.usedBy&&e.usedBy.length>0,r={unknown:"bg-yellow-100 text-yellow-800",admin:"bg-purple-100 text-purple-800",clinician:"bg-blue-100 text-blue-800",patient:"bg-green-100 text-green-800"}[e.accessRole]||"bg-slate-100 text-slate-800";return(0,s.jsxs)(t.default.Fragment,{children:[(0,s.jsxs)("tr",{className:"border-t border-slate-700 hover:bg-slate-800",children:[(0,s.jsx)("td",{className:"px-3 py-2",children:c&&(0,s.jsx)("button",{onClick:()=>{var s;return s=e.path,void f(e=>{let t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t})},className:"text-slate-400 hover:text-slate-200 transition-colors","aria-label":a?"Collapse":"Expand",children:a?(0,s.jsx)(l,{className:"w-4 h-4"}):(0,s.jsx)(n,{className:"w-4 h-4"})})}),(0,s.jsx)("td",{className:"px-3 py-2 font-mono text-xs text-slate-100",children:e.path}),(0,s.jsx)("td",{className:"px-3 py-2 text-slate-300",children:e.methods.join(", ")||"—"}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("span",{className:`inline-flex items-[center] px-2 py-0.5 rounded text-xs font-medium ${r}`,children:e.accessRole})}),(0,s.jsxs)("td",{className:"px-3 py-2 text-slate-300",children:[e.intent?e.intent:e.isAllowedOrphan?"allowlisted":"—",e.isOrphan&&!e.isAllowedOrphan&&(0,s.jsx)("span",{className:"ml-2 inline-flex items-[center] px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:"orphan"})]}),(0,s.jsx)("td",{className:"px-3 py-2 text-right tabular-nums text-slate-300",children:e.usedByCount})]}),a&&c&&(0,s.jsx)("tr",{className:"border-t border-slate-700 bg-slate-800",children:(0,s.jsx)("td",{colSpan:6,className:"px-3 py-3",children:(0,s.jsxs)("div",{className:"ml-8",children:[(0,s.jsxs)("div",{className:"text-xs font-semibold text-slate-200 mb-2",children:["Static Usages (",e.usedBy.length,"):"]}),(0,s.jsx)("div",{className:"space-y-1",children:e.usedBy.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start gap-2 text-xs text-slate-300 bg-slate-900 rounded px-2 py-1.5 border border-slate-700",children:[(0,s.jsx)("span",{className:"font-mono text-blue-400",children:e.file}),(0,s.jsx)("span",{className:"text-slate-400",children:":"}),(0,s.jsx)("span",{className:"text-slate-500",children:"number"==typeof e.line?`L${e.line}`:"L—"}),(0,s.jsx)("span",{className:"text-slate-400",children:"•"}),(0,s.jsx)("span",{className:"font-mono text-slate-300",children:e.apiPath}),(0,s.jsx)("span",{className:"text-slate-400",children:"•"}),(0,s.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-slate-700 text-slate-200",children:e.kind})]},`${e.file}:${e.apiPath}:${e.kind}:${t}`))})]})})})]},e.path)})})]})}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:'Note: "StaticUsed" is based on in-repo string/template callsite scanning (app/** and lib/**).'})]})}e.s(["default",()=>r],11627)}]);

//# sourceMappingURL=b41d5baa6a0f3890.js.map