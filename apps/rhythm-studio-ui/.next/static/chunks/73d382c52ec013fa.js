(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},24149,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(18566);e.i(17152);var l=e.i(66763);async function n(e){e&&await fetch("/api/auth/callback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:"SIGNED_IN",session:e})})}function i(){let e=(0,s.useRouter)(),[i,o]=(0,a.useState)(""),[r,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{let{data:{session:t}}=await l.supabase.auth.getSession();t&&(await fetch("/api/auth/callback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:"SIGNED_IN",session:t})})).ok&&e.replace("/admin")})();let{data:{subscription:t}}=l.supabase.auth.onAuthStateChange(async(e,t)=>{"SIGNED_OUT"!==e&&await n(t??null)});return()=>t.unsubscribe()},[e]);let h=async t=>{t.preventDefault(),x(null);let a=i.trim(),s=r.trim();if(!a||!s)return void x("Bitte E-Mail und Passwort eingeben.");u(!0);try{let{error:t}=await l.supabase.auth.signInWithPassword({email:a,password:s});if(t)return void x(t.message);let{data:{session:i}}=await l.supabase.auth.getSession();await n(i??null),e.replace("/admin")}catch{x("Login fehlgeschlagen. Bitte versuchen Sie es erneut.")}finally{u(!1)}};return(0,t.jsx)("main",{className:"min-h-screen bg-slate-950 text-white",children:(0,t.jsxs)("div",{className:"mx-auto flex min-h-screen w-full max-w-6xl flex-col items-start justify-between gap-12 px-8 py-16 lg:flex-row lg:items-center",children:[(0,t.jsxs)("section",{className:"flex-1 min-w-0 max-w-2xl space-y-5",children:[(0,t.jsx)("p",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-sky-300",children:"Rhythmologicum Connect"}),(0,t.jsx)("h1",{className:"text-5xl font-semibold",children:"Studio Login"}),(0,t.jsx)("p",{className:"text-lg text-slate-300",children:"Melden Sie sich an, um das Clinician/Admin Studio zu verwalten."})]}),(0,t.jsxs)("section",{className:"w-full max-w-105 min-w-90 shrink-0 rounded-2xl border border-slate-800 bg-slate-900/70 p-8 shadow-2xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Anmelden"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-400",children:"Bitte Zugangsdaten eingeben."}),(0,t.jsxs)("form",{className:"mt-6 space-y-4",onSubmit:h,children:[(0,t.jsxs)("label",{className:"block text-sm text-slate-300",children:["E-Mail",(0,t.jsx)("input",{type:"email",autoComplete:"email",value:i,onChange:e=>o(e.target.value),className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-4 py-2.5 text-sm text-white placeholder:text-slate-500 focus:border-sky-400 focus:outline-none",placeholder:"name@domain.de"})]}),(0,t.jsxs)("label",{className:"block text-sm text-slate-300",children:["Passwort",(0,t.jsx)("input",{type:"password",autoComplete:"current-password",value:r,onChange:e=>c(e.target.value),className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-4 py-2.5 text-sm text-white placeholder:text-slate-500 focus:border-sky-400 focus:outline-none",placeholder:"••••••••"})]}),m?(0,t.jsx)("p",{className:"text-sm text-rose-300",children:m}):null,(0,t.jsx)("button",{type:"submit",disabled:d,className:"w-full rounded-lg bg-sky-500 px-4 py-2 text-sm font-semibold text-slate-950 transition hover:bg-sky-400 disabled:cursor-not-allowed disabled:opacity-70",children:d?"Anmelden…":"Einloggen"})]})]})]})})}e.s(["default",()=>i])}]);

//# sourceMappingURL=0f9b008c213a2640.js.map