(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87130,e=>{"use strict";let t=(0,e.i(68569).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>t],87130)},7233,e=>{"use strict";let t=(0,e.i(68569).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},88844,e=>{"use strict";let t=(0,e.i(68569).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],88844)},16715,e=>{"use strict";let t=(0,e.i(68569).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},45423,e=>{"use strict";let t=(0,e.i(68569).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);e.s(["Bell",()=>t],45423)},58415,e=>{"use strict";var t=e.i(18050),a=e.i(71645);e.i(47446);var r=e.i(67488),l=e.i(12911),s=e.i(87052),n=e.i(84584),i=e.i(52220),d=e.i(32796),c=e.i(88844),u=e.i(7233),o=e.i(45423),x=e.i(63209),h=e.i(87130),m=e.i(16715),g=e.i(81307);let p="ordered",b="shipped",v="in_transit",j="delivered",k="returned",f="cancelled",_=g.z.enum([p,b,v,j,k,f]);function z(e){switch(e){case p:return"Bestellt";case b:return"Versendet";case v:return"Unterwegs";case j:return"Zugestellt";case k:return"Zurückgesendet";case f:return"Storniert";default:return e}}function N(e){switch(e){case p:return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case b:return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case v:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case j:return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case k:return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300";case f:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-900/30 dark:text-slate-300"}}function y(e){if(!e.expected_delivery_at||e.status===j||e.status===k||e.status===f)return!1;let t=new Date(e.expected_delivery_at);return new Date>t}g.z.enum(["status_changed","tracking_updated","reminder_sent","note_added","return_requested","return_shipped"]),g.z.object({id:g.z.string().uuid(),patient_id:g.z.string().uuid(),task_id:g.z.string().uuid().nullable(),organization_id:g.z.string().uuid(),created_by_user_id:g.z.string().uuid().nullable(),device_type:g.z.string(),device_serial_number:g.z.string().nullable(),tracking_number:g.z.string().nullable(),carrier:g.z.string().nullable(),shipping_address:g.z.string().nullable(),status:_,ordered_at:g.z.string(),shipped_at:g.z.string().nullable(),delivered_at:g.z.string().nullable(),expected_delivery_at:g.z.string().nullable(),return_requested_at:g.z.string().nullable(),returned_at:g.z.string().nullable(),return_tracking_number:g.z.string().nullable(),return_carrier:g.z.string().nullable(),return_reason:g.z.string().nullable(),reminder_sent_at:g.z.string().nullable(),last_reminder_at:g.z.string().nullable(),reminder_count:g.z.number().int().min(0),notes:g.z.string().nullable(),metadata:g.z.record(g.z.string(),g.z.any()),created_at:g.z.string(),updated_at:g.z.string()}),g.z.object({id:g.z.string().uuid(),shipment_id:g.z.string().uuid(),created_by_user_id:g.z.string().uuid().nullable(),event_type:g.z.string(),event_status:_.nullable(),event_description:g.z.string().nullable(),location:g.z.string().nullable(),carrier:g.z.string().nullable(),tracking_number:g.z.string().nullable(),metadata:g.z.record(g.z.string(),g.z.any()),event_at:g.z.string(),created_at:g.z.string()}),g.z.object({patient_id:g.z.string().uuid(),task_id:g.z.string().uuid().optional(),device_type:g.z.string().min(1,"Device type is required"),device_serial_number:g.z.string().optional(),tracking_number:g.z.string().optional(),carrier:g.z.string().optional(),shipping_address:g.z.string().optional(),expected_delivery_at:g.z.string().optional(),notes:g.z.string().optional(),metadata:g.z.record(g.z.string(),g.z.any()).optional()}),g.z.object({status:_.optional(),tracking_number:g.z.string().optional(),carrier:g.z.string().optional(),shipping_address:g.z.string().optional(),device_serial_number:g.z.string().optional(),shipped_at:g.z.string().nullable().optional(),delivered_at:g.z.string().nullable().optional(),expected_delivery_at:g.z.string().nullable().optional(),return_requested_at:g.z.string().nullable().optional(),returned_at:g.z.string().nullable().optional(),return_tracking_number:g.z.string().nullable().optional(),return_carrier:g.z.string().nullable().optional(),return_reason:g.z.string().nullable().optional(),notes:g.z.string().nullable().optional(),metadata:g.z.record(g.z.string(),g.z.any()).optional()}),g.z.object({event_type:g.z.string(),event_description:g.z.string().optional(),location:g.z.string().optional(),carrier:g.z.string().optional(),tracking_number:g.z.string().optional(),metadata:g.z.record(g.z.string(),g.z.any()).optional()}),g.z.object({patient_id:g.z.string().uuid().optional(),task_id:g.z.string().uuid().optional(),status:_.optional(),device_type:g.z.string().optional(),needs_reminder:g.z.boolean().optional(),limit:g.z.number().int().min(1).max(100).optional()});var S=e.i(64389),w=e.i(56561),C=e.i(34683),L=e.i(74339),D=e.i(37727);function F({onClose:e,onShipmentCreated:s,initialPatientId:n,initialTaskId:i}){let[d,u]=(0,a.useState)(!1),[o,x]=(0,a.useState)(!0),[h,m]=(0,a.useState)(null),[g,p]=(0,a.useState)([]),[b,v]=(0,a.useState)(n||""),[j,k]=(0,a.useState)(""),[f,_]=(0,a.useState)(""),[z,N]=(0,a.useState)(""),[y,F]=(0,a.useState)(""),[P,E]=(0,a.useState)(""),[A,B]=(0,a.useState)(""),[T,G]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{try{x(!0);let e=await fetch("/api/patient-profiles");if(!e.ok)throw Error("Failed to load patients");let t=await e.json();p(t.data??[])}catch(e){console.error("Failed to load patients:",e),m("Fehler beim Laden der Patienten")}finally{x(!1)}})()},[]);let R=(0,a.useCallback)(async e=>{e.preventDefault(),m(null),u(!0);try{if(!b||!j)throw Error("Bitte Patient:in und Gerätetyp auswählen");let e=await fetch("/api/shipments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient_id:b,task_id:i,device_type:j,device_serial_number:f||void 0,tracking_number:z||void 0,carrier:y||void 0,shipping_address:P||void 0,expected_delivery_at:A||void 0,notes:T||void 0})}),t=await e.json();if(!e.ok)throw Error(t.error?.message||"Fehler beim Erstellen der Sendung");s()}catch(e){console.error(e),m(e instanceof Error?e.message:"Fehler beim Erstellen der Sendung.")}finally{u(!1)}},[b,j,f,z,y,P,A,T,i,s]),H=g.map(e=>({value:e.id,label:e.full_name||e.user_id}));return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,t.jsxs)(l.Card,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto mx-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6 p-6 border-b border-slate-200 dark:border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(c.Package,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-50",children:"Neue Sendung erstellen"})]}),(0,t.jsx)("button",{onClick:e,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:(0,t.jsx)(D.X,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),(0,t.jsxs)("form",{onSubmit:R,className:"p-6 space-y-6",children:[h&&(0,t.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:h})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"patient",children:"Patient:in *"}),(0,t.jsxs)(w.Select,{id:"patient",value:b,onChange:e=>v(e.target.value),required:!0,disabled:o||!!n,children:[(0,t.jsx)("option",{value:"",disabled:!0,children:o?"Lade Patienten...":"Patient:in auswählen"}),H.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"deviceType",children:"Gerätetyp *"}),(0,t.jsxs)(w.Select,{id:"deviceType",value:j,onChange:e=>k(e.target.value),required:!0,children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"Gerätetyp auswählen"}),[{value:"EKG-Gerät",label:"EKG-Gerät"},{value:"Blutdruckmessgerät",label:"Blutdruckmessgerät"},{value:"Blutzuckermessgerät",label:"Blutzuckermessgerät"},{value:"Fitness-Tracker",label:"Fitness-Tracker"},{value:"Pulsoximeter",label:"Pulsoximeter"},{value:"Andere",label:"Andere"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"serialNumber",children:"Seriennummer (optional)"}),(0,t.jsx)(S.Input,{id:"serialNumber",type:"text",value:f,onChange:e=>_(e.target.value),placeholder:"z.B. SN123456"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"carrier",children:"Versanddienstleister (optional)"}),(0,t.jsxs)(w.Select,{id:"carrier",value:y,onChange:e=>F(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Versanddienstleister auswählen"}),[{value:"DHL",label:"DHL"},{value:"DPD",label:"DPD"},{value:"Hermes",label:"Hermes"},{value:"UPS",label:"UPS"},{value:"FedEx",label:"FedEx"},{value:"GLS",label:"GLS"},{value:"Deutsche Post",label:"Deutsche Post"},{value:"Andere",label:"Andere"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"trackingNumber",children:"Tracking-Nummer (optional)"}),(0,t.jsx)(S.Input,{id:"trackingNumber",type:"text",value:z,onChange:e=>N(e.target.value),placeholder:"z.B. 1234567890"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"shippingAddress",children:"Lieferadresse (optional)"}),(0,t.jsx)(C.Textarea,{id:"shippingAddress",value:P,onChange:e=>E(e.target.value),placeholder:"Straße, PLZ, Ort",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"expectedDeliveryDate",children:"Erwartete Lieferung (optional)"}),(0,t.jsx)(S.Input,{id:"expectedDeliveryDate",type:"date",value:A,onChange:e=>B(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"notes",children:"Notizen (optional)"}),(0,t.jsx)(C.Textarea,{id:"notes",value:T,onChange:e=>G(e.target.value),placeholder:"Zusätzliche Informationen zur Sendung",rows:3})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(r.Button,{type:"submit",disabled:d||!b||!j,className:"flex-1",children:d?"Wird erstellt...":"Sendung erstellen"}),(0,t.jsx)(r.Button,{type:"button",variant:"outline",onClick:e,disabled:d,children:"Abbrechen"})]})]})]})})}function P({shipment:e,onClose:s,onShipmentUpdated:n}){let[i,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null),[g,_]=(0,a.useState)(null),[F,P]=(0,a.useState)(e.status),[E,A]=(0,a.useState)(e.tracking_number||""),[B,T]=(0,a.useState)(e.carrier||""),[G,R]=(0,a.useState)(e.return_tracking_number||""),[H,M]=(0,a.useState)(e.return_reason||""),[U,q]=(0,a.useState)(e.notes||""),O=y(e),V=function(e){switch(e){case p:return[b,f];case b:return[v,j,f];case v:return[j,f];case j:return[k];default:return[]}}(e.status),I=(0,a.useCallback)(async()=>{m(null),_(null),u(!0);try{let t={};if(F!==e.status&&(t.status=F),E!==e.tracking_number&&(t.tracking_number=E||null),B!==e.carrier&&(t.carrier=B||null),G!==e.return_tracking_number&&(t.return_tracking_number=G||null),H!==e.return_reason&&(t.return_reason=H||null),U!==e.notes&&(t.notes=U||null),0===Object.keys(t).length){m("Keine Änderungen vorgenommen"),u(!1);return}let a=await fetch(`/api/shipments/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await a.json();if(!a.ok)throw Error(r.error?.message||"Fehler beim Aktualisieren der Sendung");_("Sendung erfolgreich aktualisiert"),setTimeout(()=>{n()},1500)}catch(e){console.error(e),m(e instanceof Error?e.message:"Fehler beim Aktualisieren der Sendung.")}finally{u(!1)}},[F,E,B,G,H,U,e,n]);return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,t.jsxs)(l.Card,{className:"w-full max-w-3xl max-h-[90vh] overflow-y-auto mx-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6 p-6 border-b border-slate-200 dark:border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(c.Package,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-50",children:e.device_type}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)(d.Badge,{className:N(e.status),children:z(e.status)}),O&&(0,t.jsxs)("span",{className:"text-sm text-orange-600 font-medium flex items-center gap-1",children:[(0,t.jsx)(x.AlertCircle,{className:"w-4 h-4"}),"Überfällig"]})]})]})]}),(0,t.jsx)("button",{onClick:s,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:(0,t.jsx)(D.X,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[h&&(0,t.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:h})}),g&&(0,t.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:g})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"status",children:"Status aktualisieren"}),(0,t.jsx)(w.Select,{id:"status",value:F,onChange:e=>P(e.target.value),children:Array.from(new Set([e.status,...V])).map(e=>(0,t.jsx)("option",{value:e,children:z(e)},e))})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-slate-50",children:"Tracking-Informationen"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"carrier",children:"Versanddienstleister"}),(0,t.jsx)(w.Select,{id:"carrier",value:B,onChange:e=>T(e.target.value),children:[{value:"",label:"Kein Versanddienstleister"},{value:"DHL",label:"DHL"},{value:"DPD",label:"DPD"},{value:"Hermes",label:"Hermes"},{value:"UPS",label:"UPS"},{value:"FedEx",label:"FedEx"},{value:"GLS",label:"GLS"},{value:"Deutsche Post",label:"Deutsche Post"},{value:"Andere",label:"Andere"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"trackingNumber",children:"Tracking-Nummer"}),(0,t.jsx)(S.Input,{id:"trackingNumber",type:"text",value:E,onChange:e=>A(e.target.value),placeholder:"z.B. 1234567890"})]})]}),(F===k||e.status===k)&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-slate-50",children:"Rücksendeinformationen"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"returnTrackingNumber",children:"Rücksende-Tracking-Nummer"}),(0,t.jsx)(S.Input,{id:"returnTrackingNumber",type:"text",value:G,onChange:e=>R(e.target.value),placeholder:"z.B. 1234567890"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"returnReason",children:"Grund für Rücksendung"}),(0,t.jsx)(C.Textarea,{id:"returnReason",value:H,onChange:e=>M(e.target.value),placeholder:"z.B. defekt, ungenutzt, etc.",rows:3})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L.Label,{htmlFor:"notes",children:"Notizen"}),(0,t.jsx)(C.Textarea,{id:"notes",value:U,onChange:e=>q(e.target.value),placeholder:"Zusätzliche Informationen zur Sendung",rows:3})]}),(0,t.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Erstellt am:"}),(0,t.jsx)("span",{className:"font-medium",children:new Date(e.created_at).toLocaleString("de-DE")})]}),e.expected_delivery_at&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Erwartete Lieferung:"}),(0,t.jsx)("span",{className:`font-medium ${O?"text-orange-600":""}`,children:new Date(e.expected_delivery_at).toLocaleDateString("de-DE")})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Erinnerungen gesendet:"}),(0,t.jsxs)("span",{className:"font-medium flex items-center gap-1",children:[(0,t.jsx)(o.Bell,{className:"w-4 h-4"}),e.reminder_count]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(r.Button,{onClick:I,disabled:i,className:"flex-1",children:i?"Wird gespeichert...":"Änderungen speichern"}),(0,t.jsx)(r.Button,{variant:"outline",onClick:s,disabled:i,children:"Schließen"})]})]})]})})}function E(){let[e,g]=(0,a.useState)(!0),[_,S]=(0,a.useState)(null),[w,C]=(0,a.useState)([]),[L,D]=(0,a.useState)(!1),[E,A]=(0,a.useState)(null),[B,T]=(0,a.useState)("all"),[G,R]=(0,a.useState)(!1),H=(0,a.useCallback)(async()=>{try{g(!0),S(null);let e=new URLSearchParams;"all"!==B&&e.append("status",B),G&&e.append("needs_reminder","true");let t=await fetch(`/api/shipments?${e.toString()}`),a=await t.json();if(!t.ok)throw Error(a.error?.message||"Fehler beim Laden der Sendungen");C(a.data??[])}catch(e){console.error("Failed to load shipments:",e),S(e instanceof Error?e.message:"Fehler beim Laden der Sendungen.")}finally{g(!1)}},[B,G]);(0,a.useEffect)(()=>{H()},[H]);let M=(0,a.useCallback)(()=>{D(!1),H()},[H]),U=(0,a.useCallback)(()=>{A(null),H()},[H]),q=[{header:"Patient:in",accessor:e=>(0,t.jsx)("span",{className:"font-medium",children:e.patient_profiles?.full_name||e.patient_profiles?.user_id||"Unbekannt"})},{header:"Gerät",accessor:e=>(0,t.jsx)("span",{className:"text-sm",children:e.device_type})},{header:"Status",accessor:e=>{let a=y(e);return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Badge,{className:N(e.status),children:z(e.status)}),a&&(0,t.jsx)("span",{title:"Überfällig",className:"inline-flex",children:(0,t.jsx)(x.AlertCircle,{className:"w-4 h-4 text-orange-500"})})]})}},{header:"Tracking-Nr.",accessor:e=>(0,t.jsx)("span",{className:"text-sm font-mono",children:e.tracking_number||(0,t.jsx)("span",{className:"text-slate-400",children:"—"})})},{header:"Erwartete Lieferung",accessor:e=>{let a=e.expected_delivery_at;if(!a)return(0,t.jsx)("span",{className:"text-slate-400",children:"—"});let r=new Date(a),l=r<new Date;return(0,t.jsx)("span",{className:l?"text-orange-600 font-medium":"text-sm",children:r.toLocaleDateString("de-DE")})}},{header:"Erinnerungen",accessor:e=>(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(o.Bell,{className:"w-4 h-4 text-slate-400"}),(0,t.jsx)("span",{className:"text-sm",children:e.reminder_count||0})]})},{header:"Erstellt am",accessor:e=>(0,t.jsx)("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:new Date(e.created_at).toLocaleDateString("de-DE")})}];return(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,t.jsx)(c.Package,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-50",children:"Geräteversand"}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Versandstatus verwalten und Erinnerungen senden"})]})]}),(0,t.jsx)(r.Button,{onClick:()=>D(!0),icon:(0,t.jsx)(u.Plus,{className:"w-4 h-4"}),children:"Neue Sendung"})]}),(0,t.jsx)(l.Card,{className:"mb-6 p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Filter,{className:"w-4 h-4 text-slate-500"}),(0,t.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Status:"}),(0,t.jsxs)("select",{value:B,onChange:e=>T(e.target.value),className:"px-3 py-1.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-sm",children:[(0,t.jsx)("option",{value:"all",children:"Alle"}),(0,t.jsx)("option",{value:p,children:"Bestellt"}),(0,t.jsx)("option",{value:b,children:"Versendet"}),(0,t.jsx)("option",{value:v,children:"Unterwegs"}),(0,t.jsx)("option",{value:j,children:"Zugestellt"}),(0,t.jsx)("option",{value:k,children:"Zurückgesendet"}),(0,t.jsx)("option",{value:f,children:"Storniert"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"overdueOnly",checked:G,onChange:e=>R(e.target.checked),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"overdueOnly",className:"text-sm font-medium text-slate-700 dark:text-slate-300 cursor-pointer",children:"Nur überfällige Sendungen"})]}),(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:H,icon:(0,t.jsx)(m.RefreshCw,{className:"w-4 h-4"}),children:"Aktualisieren"})]})}),e?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(n.LoadingSpinner,{size:"lg"})}):_?(0,t.jsx)(i.ErrorState,{title:"Fehler beim Laden",message:_,retryText:"Erneut versuchen",onRetry:()=>{H()}}):0===w.length?(0,t.jsxs)(l.Card,{className:"p-12 text-center",children:[(0,t.jsx)(c.Package,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50 mb-2",children:"Keine Sendungen vorhanden"}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"all"!==B||G?"Keine Sendungen entsprechen den Filterkriterien.":"Erstellen Sie eine neue Sendung, um zu beginnen."}),(0,t.jsx)(r.Button,{onClick:()=>D(!0),icon:(0,t.jsx)(u.Plus,{className:"w-4 h-4"}),children:"Neue Sendung erstellen"})]}):(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(s.Table,{data:w,columns:q,onRowClick:e=>A(e),className:"cursor-pointer"}),(0,t.jsx)("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700",children:(0,t.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[w.length," ",1===w.length?"Sendung":"Sendungen"," angezeigt"]})})]}),L&&(0,t.jsx)(F,{onClose:()=>D(!1),onShipmentCreated:M}),E&&(0,t.jsx)(P,{shipment:E,onClose:()=>A(null),onShipmentUpdated:U})]})}e.s(["default",()=>E],58415)}]);

//# sourceMappingURL=6be88458fd3aa3c8.js.map