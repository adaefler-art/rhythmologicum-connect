# Clinician Dashboard V2 - Layout Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DESKTOP LAYOUT                               â”‚
â”‚                         (with Sidebar)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚          â”‚  â”‚  HEADER                                            â”‚  â”‚
â”‚  SIDEBAR â”‚  â”‚                                                    â”‚  â”‚
â”‚          â”‚  â”‚  Dashboard                    [Funnels verwalten] â”‚  â”‚
â”‚  [Nav]   â”‚  â”‚  Ãœbersicht aller...          [Exportieren]       â”‚  â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ â€¢ Dashbd â”‚                                                           â”‚
â”‚ â€¢ Funnls â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â€¢ Contnt â”‚  â”‚  KPI CARDS GRID (4 columns)                        â”‚  â”‚
â”‚          â”‚  â”‚                                                    â”‚  â”‚
â”‚          â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚          â”‚  â”‚  â”‚ ğŸ‘¥       â”‚ â”‚ ğŸ“‹       â”‚ â”‚ âœ…       â”‚ â”‚ âš ï¸   â”‚ â”‚  â”‚
â”‚          â”‚  â”‚  â”‚ Aktive   â”‚ â”‚ Offene   â”‚ â”‚ Aktuelle â”‚ â”‚ Rote â”‚ â”‚  â”‚
â”‚          â”‚  â”‚  â”‚ Patientenâ”‚ â”‚ Funnels  â”‚ â”‚ Assess.  â”‚ â”‚Flaggnâ”‚ â”‚  â”‚
â”‚          â”‚  â”‚  â”‚          â”‚ â”‚          â”‚ â”‚          â”‚ â”‚      â”‚ â”‚  â”‚
â”‚          â”‚  â”‚  â”‚   247    â”‚ â”‚    32    â”‚ â”‚    18    â”‚ â”‚   3  â”‚ â”‚  â”‚
â”‚          â”‚  â”‚  â”‚          â”‚ â”‚  pending â”‚ â”‚  Today   â”‚ â”‚Urgentâ”‚ â”‚  â”‚
â”‚          â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚                                                           â”‚
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚          â”‚  â”‚  RECENT ASSESSMENTS TABLE                          â”‚  â”‚
â”‚          â”‚  â”‚                                                    â”‚  â”‚
â”‚          â”‚  â”‚  Recent Assessments                                â”‚  â”‚
â”‚          â”‚  â”‚  Aktuelle Messungen und Risikobewertungen          â”‚  â”‚
â”‚          â”‚  â”‚                                                    â”‚  â”‚
â”‚          â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”“  â”‚  â”‚
â”‚          â”‚  â”‚  â”ƒPatient â”ƒ Scoreâ”ƒ Risk  â”ƒ Letzte   â”ƒMessungnâ”ƒ  â”‚  â”‚
â”‚          â”‚  â”‚  â”£â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”â”â•‹â”â”â”â”â”â”â”â”â”«  â”‚  â”‚
â”‚          â”‚  â”‚  â”ƒ Max    â”ƒ  82  â”ƒ [HIGH]â”ƒ 13.12... â”ƒ   4    â”ƒ  â”‚  â”‚
â”‚          â”‚  â”‚  â”ƒ Anna   â”ƒ  45  â”ƒ [MED] â”ƒ 12.12... â”ƒ   2    â”ƒ  â”‚  â”‚
â”‚          â”‚  â”‚  â”ƒ Tom    â”ƒ  23  â”ƒ [LOW] â”ƒ 11.12... â”ƒ   3    â”ƒ  â”‚  â”‚
â”‚          â”‚  â”‚  â”—â”â”â”â”â”â”â”â”â”»â”â”â”â”â”â”â”»â”â”â”â”â”â”â”â”»â”â”â”â”â”â”â”â”â”â”â”»â”â”â”â”â”â”â”â”â”›  â”‚  â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

## Component Hierarchy

```
DesktopLayout (from lib/ui)
â””â”€â”€ ClinicianOverviewPage (app/clinician/page.tsx)
    â”œâ”€â”€ Header Section
    â”‚   â”œâ”€â”€ Title & Description
    â”‚   â””â”€â”€ Quick Actions
    â”‚       â”œâ”€â”€ Button (Funnels verwalten)
    â”‚       â””â”€â”€ Button (Exportieren)
    â”‚
    â”œâ”€â”€ KPI Cards Grid
    â”‚   â”œâ”€â”€ Card (Aktive Patienten)
    â”‚   â”‚   â”œâ”€â”€ Icon (Users)
    â”‚   â”‚   â”œâ”€â”€ Value (247)
    â”‚   â”‚   â””â”€â”€ Subtitle
    â”‚   â”œâ”€â”€ Card (Offene Funnels)
    â”‚   â”‚   â”œâ”€â”€ Icon (ClipboardList)
    â”‚   â”‚   â”œâ”€â”€ Value (32)
    â”‚   â”‚   â””â”€â”€ Badge (warning)
    â”‚   â”œâ”€â”€ Card (Aktuelle Assessments)
    â”‚   â”‚   â”œâ”€â”€ Icon (FileCheck)
    â”‚   â”‚   â”œâ”€â”€ Value (18)
    â”‚   â”‚   â””â”€â”€ Badge (info)
    â”‚   â””â”€â”€ Card (Rote Flaggen)
    â”‚       â”œâ”€â”€ Icon (AlertTriangle)
    â”‚       â”œâ”€â”€ Value (3)
    â”‚       â””â”€â”€ Badge (danger)
    â”‚
    â””â”€â”€ Table Section
        â”œâ”€â”€ Section Header
        â”‚   â”œâ”€â”€ Title
        â”‚   â””â”€â”€ Subtitle
        â””â”€â”€ Table (Recent Assessments)
            â”œâ”€â”€ Column (Patient)
            â”œâ”€â”€ Column (StressScore)
            â”œâ”€â”€ Column (RiskLevel)
            â”œâ”€â”€ Column (Letzte Messung)
            â””â”€â”€ Column (Messungen)
```

## Mobile Layout (< 640px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HEADER                          â”‚
â”‚                                  â”‚
â”‚  Dashboard                       â”‚
â”‚  Ãœbersicht aller...              â”‚
â”‚                                  â”‚
â”‚  [Funnels verwalten]             â”‚
â”‚  [Exportieren]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  KPI CARDS (1 column)            â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ‘¥ Aktive Patienten        â”‚ â”‚
â”‚  â”‚ 247                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“‹ Offene Funnels          â”‚ â”‚
â”‚  â”‚ 32                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœ… Aktuelle Assessments    â”‚ â”‚
â”‚  â”‚ 18                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âš ï¸ Rote Flaggen (24h)      â”‚ â”‚
â”‚  â”‚ 3                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TABLE (scrollable)              â”‚
â”‚  Recent Assessments              â”‚
â”‚  â†                            â†’  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Tablet Layout (640px - 1024px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HEADER                                        â”‚
â”‚                                                â”‚
â”‚  Dashboard              [Funnels] [Export]    â”‚
â”‚  Ãœbersicht aller...                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  KPI CARDS (2x2 grid)                          â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ‘¥ Aktive        â”‚  â”‚ ğŸ“‹ Offene        â”‚  â”‚
â”‚  â”‚ Patienten        â”‚  â”‚ Funnels          â”‚  â”‚
â”‚  â”‚ 247              â”‚  â”‚ 32               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ… Aktuelle      â”‚  â”‚ âš ï¸ Rote          â”‚  â”‚
â”‚  â”‚ Assessments      â”‚  â”‚ Flaggen          â”‚  â”‚
â”‚  â”‚ 18               â”‚  â”‚ 3                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TABLE                                         â”‚
â”‚  (full width, responsive)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Interactive Elements

### Hover States
- **KPI Cards:** `hover:shadow-lg` - Cards lift on hover
- **Table Rows:** Background changes on hover (clickable)
- **Buttons:** Color darkens on hover

### Click Actions
- **Button "Funnels verwalten"** â†’ Navigate to `/clinician/funnels`
- **Button "Exportieren"** â†’ Trigger `window.print()`
- **Table Row** â†’ Navigate to `/clinician/patient/{id}`

### Responsive Behavior
- **< 640px:** 1 column grid, stacked buttons
- **640px - 1024px:** 2x2 grid
- **> 1024px:** 4 column grid, inline buttons

## Color Scheme

### KPI Card Icons
- **Aktive Patienten:** `bg-primary-100` / `text-primary-600` (Blue)
- **Offene Funnels:** `bg-teal-100` / `text-teal-700` (Teal)
- **Aktuelle Assessments:** `bg-purple-100` / `text-purple-600` (Purple)
- **Rote Flaggen:** `bg-red-100` / `text-red-600` (Red)

### Text Colors
- **Headings:** `text-slate-900` (Dark)
- **Body:** `text-slate-600` (Medium)
- **Labels:** `text-slate-500` (Light)
- **Small Text:** `text-xs text-slate-500` (Very Light)

### Badges
- **Warning:** Yellow background (pending items)
- **Info:** Blue background (today)
- **Danger:** Red background (urgent)

## Data Flow

```
User Opens Dashboard
        â†“
ClinicianOverviewPage Loads
        â†“
useEffect Hook Triggers
        â†“
Fetch from Supabase
  - patient_measures
  - patient_profiles (joined)
        â†“
Process Data
  - Group by patient_id
  - Calculate stats
  - Sort by date (desc)
        â†“
useMemo: Calculate Stats
  - totalPatients
  - openFunnelsCount
  - recentCount (24h)
  - highRiskCount24h
        â†“
useMemo: Create Patient Overviews
  - Latest measure per patient
  - Risk level
  - Measurement count
        â†“
useMemo: Sort Patients
  - By selected field
  - In selected direction
        â†“
Render UI
  - KPI Cards (with stats)
  - Table (with sorted patients)
```

## Future Extension Points

The current structure supports easy addition of:

1. **Filters** - Space in table header section
2. **Search** - Can be added beside table title
3. **More Actions** - Button group in header can expand
4. **Charts** - Can replace or complement KPI cards
5. **Notifications** - Badge counts can be made interactive

---

*This visual documentation accompanies the implementation in `app/clinician/page.tsx`*
