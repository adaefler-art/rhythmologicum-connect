ðŸ§  Clinical Reasoning Engine (CRE) â€“ Architektur v1
Ziel: universelles, fachrichtungsÃ¼bergreifendes System fÃ¼r Anamnese-/Ingestion + klinische Strukturierung + HypothesenfÃ¼hrung ohne autonome Diagnose/Therapie. Kernprinzip: Human-in-the-Loop / Human-in-the-Lead auf Workflow-Ebene.
0) Leitplanken (Nicht-Ziele)
keine autonome Diagnose (keine â€žSie haben â€¦â€œ Aussagen)
keine autonome TherapieÃ¤nderung
keine Notfall-/Triagesicherheit ohne definierte Red-Flag-Eskalation
1) SystemÃ¼berblick (Schichtenmodell)
1.1 Interfaces (Input-Schicht)
A. Active Interview (Text / Voice / Video) - adaptives propÃ¤deutisches Interview
B. Passive Listener (Arzt-Patient-GesprÃ¤ch) - Echtzeit-Transkription + strukturelle Extraktion
C. Asynchronous Intake (stufenweiser schriftlicher Dialog) - Etappenfragen, Uploads, Zeitachsen
D. Document Ingestion - PDF/Scan/Foto: Arztbriefe, Labor, EKG-Reports - Strukturierung in medizinische Felder (Problem list, meds, diagnoses, labs)
2) Core Engine (Reasoning-Schicht)
2.1 Clinical Graph (Wissens- & Logik-Layer)
Symptom Graph: Leitsymptom â†’ Begleitsymptome â†’ Trigger/Relief
Red Flag Graph: Notfallkriterien je DomÃ¤ne
Differential Set: Hypothesenkandidaten (domÃ¤nenabhÃ¤ngig)
Testing Questions: klÃ¤rende Fragen pro Hypothese
Implementierbar als kombinierter: Rule Layer (Guidelines + Checklists) + probabilistischer Layer (Bayes/ML) + LLM-Dialoglayer.
2.2 Hypothesis Manager (Kern-USP)
Jede Hypothese ist ein Objekt mit: - H: Hypothesentitel (intern) - E+: stÃ¼tzende Evidenz (Aussagen, Messwerte, Dokumente) - Eâˆ’: widersprechende Evidenz - U: Unsicherheit / Confidence - Q: offene Fragen (Next-best-questions) - S: Safety Weight (kritische Hypothesen hÃ¶her gewichtet) -C: clinical domain tags (z.B. cardio, neuro, endo)
2.3 Evidence Extractor
extrahiert Entities: Symptome, Dauer, IntensitÃ¤t, Lokalisation, Verlauf
extrahiert Meds, Allergien, PMH, FH, Social, ROS
erstellt Zeitachsen (Timeline Engine)
2.4 Clarification Orchestrator
entscheidet pro Schritt:
Offene Exploration vs.Â strukturierte Nachfragen
welche Frage hat hÃ¶chsten Informationsgewinn
wann Abbruch/Eskalation
3) Safety & Governance Layer (HITL/HIC)
3.1 Red-Flag Sentinel
domÃ¤nen-/fachspezifische Red-Flags
Triggers:
STOP & ESCALATE (Notfallhinweis + Arztkontakt)
PRIORITY REVIEW (in Arzt-Queue)
3.2 Human-in-the-Loop Gates
Gate 1: Clinical Summary Sign-off
Gate 2: Symptom-based Short Summary Sign-off
Gate 3: Any action recommendation sign-off
Der Output ist ohne Sign-off â€žDraftâ€œ. Erst nach Review wird er â€žClinical recordâ€œ.
3.3 Audit & Versioning
jede Session: Model-Version, Prompt-Version, Ruleset-Version
jede Ã„nderung: Audit Trail
4) Output Layer (Ã¤rztlich & patientenzentriert)
4.1 Structured Medical Record (machine-readable)
FHIR-ready:
Condition candidates (nicht final), Observation, MedicationStatement
QuestionnaireResponse
4.2 Narrative HPI / Full History
HPI nach OLDCARTS / OPQRST
PMH/PSH, Meds, Allergies, FHx, SHx
4.3 Symptom-based Short Summary
Leitsymptom + Verlauf + Red flags + offene Punkte
4.4 Open Questions List
gezielte Restfragen fÃ¼r den Arzt
4.5 Domain Routing
Zuordnung zu Spezialpfaden (z.B. 7S-SÃ¤ulen oder GP-Workflows)
5) Domain Adapters (Verticals)
5.1 Adapter-Prinzip
gleicher Core (CRE)
Adapter steuert:
Red flags
Hypothesis priors
Fragebibliothek
Output-Templates
5.2 Beispiele
7S-Adapter (Rhythmologicum)
GP-Adapter (Allgemeinmedizin)
Internal Medicine Adapter
Neuro/Long-COVID Adapter
6) Datenmodell (Minimal-Viable)
Patient Context - demographics, language, comorbidities
Encounter - chief complaint, start/end, modality
Evidence Items - source, timestamp, entity type, value, certainty
Hypotheses - H, E+/Eâˆ’, U, Q, S, tags
Outputs - narrative summary, structured record, short summary, open questions
7) MVP-Umsetzung (technisch pragmatisch)
7.1 MVP1 â€“ Anamnese + Strukturierung
Active Interview (Text)
Document ingestion (PDF)
Structured record + narrative
7.2 MVP2 â€“ Voice/Video + Passive Listener
STT + speaker diarization
Live-structuring + open questions
7.3 MVP3 â€“ Adapters + Safety Hardening
Red-flag sentinel pro DomÃ¤ne
Sign-off gates + audit
8) USP-Stack (kurz)
Hypothesenobjekte mit Evidenz/Unsicherheit
Red-flag Sentinel + HITL Gates
Narrative + Structured Dual Output
Domain Adapters (7S + GP etc.)
9) Offene Designfragen (fÃ¼r die nÃ¤chste Runde)
Welche Output-GranularitÃ¤t soll der Arzt sehen (voll vs.Â komprimiert)?
Welche Red-Flags sind â€žhard stopâ€œ vs.Â â€žpriority reviewâ€œ?
Welche Dokumententypen zuerst (Arztbrief, Labor, EKG, Echo)?
Welche Standards zuerst: FHIR only vs.Â parallel PDF export?
Dieses Dokument ist als Architektur-Blueprint gedacht und kann direkt in User Stories, DB-Schema und Service-Design Ã¼bersetzt werden.